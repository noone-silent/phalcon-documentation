<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Phalcon Framework. A full-stack PHP framework delivered as a PHP extension, offering lower resource consumption and high performance."><meta name=author content="Phalcon Team"><link href=https://docs.phalcon.io/5.7/db-layer/ rel=canonical><link href=../namespaces/ rel=prev><link href=../db-phql/ rel=next><link rel=icon href=../assets/images/favicon.ico><meta name=generator content="mkdocs-1.6.0, mkdocs-material-9.5.26"><title>Layer - Phalcon Documentation</title><link rel=stylesheet href=../assets/stylesheets/main.6543a935.min.css><link rel=stylesheet href=../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Titillium+Web:300,300i,400,400i,700,700i%7CSource+Code+Pro:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Titillium Web";--md-code-font:"Source Code Pro"}</style><link rel=stylesheet href=../assets/css/extra.css><script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","G-JR4REKBKH3"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","G-JR4REKBKH3",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-JR4REKBKH3",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script><script>"undefined"!=typeof __md_analytics&&__md_analytics()</script><!-- Fanart --><!--

Phalcon Framework

A full-stack PHP framework delivered as a PHP extension,
offering lower resource consumption and high performance.

<3 Phalcon Team

                         ..
                         ....
   %                  ,   ......
     %%%               ,,  .......
      %%%%%%           ,,,,.........
       %%%%%%%%&        ,,,,,.........,
    /    %%%%%%%%%%      ,,,,,,..........
      //  %%%%%%%%%%%%%    ,,,,,,..........
       //// %%%%%%%%%%%%%%%  ,,,,,,..........,
         ////%%%%%%%%%%%%%%%%%%,,,,,,...........
          ///////%%%%%%%%%%%%%%%%%%,,,,...........
            ////////%%%%%%%%%%%%%%%%%%/,,...........
          %%%%/////////(%%%%%%%%%%%%%%%%%%,..........
            %%%%%//////////%%%%%%%%%%%%%%%%%%........(
               %%%%///////////(%%%%%%%%%%%%%%%%.......(
                 %%%%%////////////%%%%%%%%%%%%%%%.....//
                ....%%%%%////////////#%%%%%%%%%%%%%....//
                   .......(%/////////////%%%%%%%%%%%%..  /
                      ...........///////********/%%%%%..
                     ,,,,.............,/***************.
                         ,,,,,.............************......,/(
                               ,,,,,,..........********.....//////////
                              ((((((((**((((((((((((((*.....///////////
                                  %*********.../(((((((..........///(/#/
                               **********..........#%%%           ..*%%%
                            *********(..........%%%                  %%%
                         *********/..........%%%                     %%
                   %    *******%%.........%%%%
                  %   ******%%%%...../.*((((((   %%%%
                     ****%%%%%%.....///* (((((((%%%%%
                    ***&%%%%%%.....////* ((((((((%%  %
                    *  &%%%%%#..../////*  (((     %
                       &%%%%%....//////*           %
                        %%%% ....//////***   %%%
                     (  %%%   ...*/////*****%%%%
                     (   %     ...  //(*****/%%
                      (  &      ..   // ***  %%
                                 .     /      %
--><!-- Fanart --></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#database-abstraction-layer class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <div data-md-color-scheme=default data-md-component=outdated hidden> </div> <header class="md-header md-header--shadow md-header--lifted" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=.. title="Phalcon Documentation" class="md-header__button md-logo" aria-label="Phalcon Documentation" data-md-component=logo> <img src=https://assets.phalcon.io/phalcon/images/svg/phalcon-logo-35x39.svg alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Phalcon Documentation </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Layer </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media=(prefers-color-scheme) data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8v2m9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1 0 1.71-1.39 3.1-3.1 3.1h-4V17h4a5 5 0 0 0 5-5 5 5 0 0 0-5-5Z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=custom data-md-color-accent=teal aria-label="Switch to dark mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=custom data-md-color-accent=teal aria-label="Switch to system preference" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to system preference" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5M7 15a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg> </label> </form> <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/phalcon/documentation title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> phalcon/documentation </div> </a> </div> </nav> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../introduction/ class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../installation/ class=md-tabs__link> Getting Started </a> </li> <li class=md-tabs__item> <a href=../application/ class=md-tabs__link> Core </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=./ class=md-tabs__link> Database </a> </li> <li class=md-tabs__item> <a href=../assets/ class=md-tabs__link> Front End </a> </li> <li class=md-tabs__item> <a href=../acl/ class=md-tabs__link> Business Logic </a> </li> <li class=md-tabs__item> <a href=../cache/ class=md-tabs__link> Services </a> </li> <li class=md-tabs__item> <a href=../api/ class=md-tabs__link> API </a> </li> <li class=md-tabs__item> <a href=https://github.com/orgs/phalcon/discussions class=md-tabs__link> Discussions </a> </li> <li class=md-tabs__item> <a href=https://blog.phalcon.io/ class=md-tabs__link> Blog </a> </li> </ul> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=.. title="Phalcon Documentation" class="md-nav__button md-logo" aria-label="Phalcon Documentation" data-md-component=logo> <img src=https://assets.phalcon.io/phalcon/images/svg/phalcon-logo-35x39.svg alt=logo> </a> Phalcon Documentation </label> <div class=md-nav__source> <a href=https://github.com/phalcon/documentation title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> phalcon/documentation </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_1> <label class=md-nav__link for=__nav_1 id=__nav_1_label tabindex=0> <span class=md-ellipsis> Home </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_1_label aria-expanded=false> <label class=md-nav__title for=__nav_1> <span class="md-nav__icon md-icon"></span> Home </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../introduction/ class=md-nav__link> <span class=md-ellipsis> Introduction </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_1_2> <label class=md-nav__link for=__nav_1_2 id=__nav_1_2_label tabindex=0> <span class=md-ellipsis> Changelog </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_1_2_label aria-expanded=false> <label class=md-nav__title for=__nav_1_2> <span class="md-nav__icon md-icon"></span> Changelog </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=https://github.com/phalcon/cphalcon/blob/5.0.x/CHANGELOG-5.0.md class=md-nav__link> <span class=md-ellipsis> Current Version </span> </a> </li> <li class=md-nav__item> <a href=../releases/ class=md-nav__link> <span class=md-ellipsis> Releases </span> </a> </li> <li class=md-nav__item> <a href=../upgrade/ class=md-nav__link> <span class=md-ellipsis> How to upgrade </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_1_3> <label class=md-nav__link for=__nav_1_3 id=__nav_1_3_label tabindex=0> <span class=md-ellipsis> Contributing </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_1_3_label aria-expanded=false> <label class=md-nav__title for=__nav_1_3> <span class="md-nav__icon md-icon"></span> Contributing </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../contributions/ class=md-nav__link> <span class=md-ellipsis> Contributions </span> </a> </li> <li class=md-nav__item> <a href=https://phalcon.io/discussions class=md-nav__link> <span class=md-ellipsis> Asking a question </span> </a> </li> <li class=md-nav__item> <a href=../new-feature-request/ class=md-nav__link> <span class=md-ellipsis> Requesting a change </span> </a> </li> <li class=md-nav__item> <a href=../new-pull-request/ class=md-nav__link> <span class=md-ellipsis> Issuing a Pull Request </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_1_4> <label class=md-nav__link for=__nav_1_4 id=__nav_1_4_label tabindex=0> <span class=md-ellipsis> Guides </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_1_4_label aria-expanded=false> <label class=md-nav__title for=__nav_1_4> <span class="md-nav__icon md-icon"></span> Guides </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../generating-backtrace/ class=md-nav__link> <span class=md-ellipsis> Backtrace Generation </span> </a> </li> <li class=md-nav__item> <a href=../reproducible-tests/ class=md-nav__link> <span class=md-ellipsis> Reproducible Tests </span> </a> </li> <li class=md-nav__item> <a href=../testing-environment/ class=md-nav__link> <span class=md-ellipsis> Testing environment </span> </a> </li> <li class=md-nav__item> <a href=../coding-standard/ class=md-nav__link> <span class=md-ellipsis> Coding Standard </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../sponsors/ class=md-nav__link> <span class=md-ellipsis> Sponsoring </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex=0> <span class=md-ellipsis> Getting Started </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Getting Started </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../installation/ class=md-nav__link> <span class=md-ellipsis> Installation </span> </a> </li> <li class=md-nav__item> <a href=../webserver-setup/ class=md-nav__link> <span class=md-ellipsis> Webserver Setup </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_3> <label class=md-nav__link for=__nav_2_3 id=__nav_2_3_label tabindex=0> <span class=md-ellipsis> Environments </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_3_label aria-expanded=false> <label class=md-nav__title for=__nav_2_3> <span class="md-nav__icon md-icon"></span> Environments </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../environments-devilbox/ class=md-nav__link> <span class=md-ellipsis> Devilbox </span> </a> </li> <li class=md-nav__item> <a href=../environments-nanobox/ class=md-nav__link> <span class=md-ellipsis> Nanobox </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_4> <label class=md-nav__link for=__nav_2_4 id=__nav_2_4_label tabindex=0> <span class=md-ellipsis> Development Tools </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_4_label aria-expanded=false> <label class=md-nav__title for=__nav_2_4> <span class="md-nav__icon md-icon"></span> Development Tools </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../devtools/ class=md-nav__link> <span class=md-ellipsis> Devtools </span> </a> </li> <li class=md-nav__item> <a href=../support-debug/ class=md-nav__link> <span class=md-ellipsis> Debug </span> </a> </li> <li class=md-nav__item> <a href=../db-migrations/ class=md-nav__link> <span class=md-ellipsis> Migrations </span> </a> </li> <li class=md-nav__item> <a href=../unit-testing/ class=md-nav__link> <span class=md-ellipsis> Unit Testing </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_5> <label class=md-nav__link for=__nav_2_5 id=__nav_2_5_label tabindex=0> <span class=md-ellipsis> Tutorials </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_5_label aria-expanded=false> <label class=md-nav__title for=__nav_2_5> <span class="md-nav__icon md-icon"></span> Tutorials </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../tutorial-basic/ class=md-nav__link> <span class=md-ellipsis> Basic </span> </a> </li> <li class=md-nav__item> <a href=../tutorial-invo/ class=md-nav__link> <span class=md-ellipsis> Invo </span> </a> </li> <li class=md-nav__item> <a href=../tutorial-rest/ class=md-nav__link> <span class=md-ellipsis> REST </span> </a> </li> <li class=md-nav__item> <a href=../tutorial-vokuro/ class=md-nav__link> <span class=md-ellipsis> Vokuro </span> </a> </li> <li class=md-nav__item> <a href=../use-case/ class=md-nav__link> <span class=md-ellipsis> Use case </span> </a> </li> <li class=md-nav__item> <a href=../performance/ class=md-nav__link> <span class=md-ellipsis> Performance </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex=0> <span class=md-ellipsis> Core </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Core </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../application/ class=md-nav__link> <span class=md-ellipsis> Application </span> </a> </li> <li class=md-nav__item> <a href=../application-micro/ class=md-nav__link> <span class=md-ellipsis> Micro </span> </a> </li> <li class=md-nav__item> <a href=../application-cli/ class=md-nav__link> <span class=md-ellipsis> CLI </span> </a> </li> <li class=md-nav__item> <a href=../di/ class=md-nav__link> <span class=md-ellipsis> DI Container </span> </a> </li> <li class=md-nav__item> <a href=../mvc/ class=md-nav__link> <span class=md-ellipsis> MVC </span> </a> </li> <li class=md-nav__item> <a href=../namespaces/ class=md-nav__link> <span class=md-ellipsis> Namespaces </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4 checked> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex> <span class=md-ellipsis> Database </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=true> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Database </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Layer </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Layer </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#overview class=md-nav__link> <span class=md-ellipsis> Overview </span> </a> </li> <li class=md-nav__item> <a href=#adapters class=md-nav__link> <span class=md-ellipsis> Adapters </span> </a> <nav class=md-nav aria-label=Adapters> <ul class=md-nav__list> <li class=md-nav__item> <a href=#constants class=md-nav__link> <span class=md-ellipsis> Constants </span> </a> </li> <li class=md-nav__item> <a href=#methods class=md-nav__link> <span class=md-ellipsis> Methods </span> </a> </li> <li class=md-nav__item> <a href=#custom class=md-nav__link> <span class=md-ellipsis> Custom </span> </a> </li> <li class=md-nav__item> <a href=#escaping class=md-nav__link> <span class=md-ellipsis> Escaping </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#factory class=md-nav__link> <span class=md-ellipsis> Factory </span> </a> <nav class=md-nav aria-label=Factory> <ul class=md-nav__list> <li class=md-nav__item> <a href=#newinstance class=md-nav__link> <span class=md-ellipsis> newInstance() </span> </a> </li> <li class=md-nav__item> <a href=#load class=md-nav__link> <span class=md-ellipsis> load() </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#dialects class=md-nav__link> <span class=md-ellipsis> Dialects </span> </a> <nav class=md-nav aria-label=Dialects> <ul class=md-nav__list> <li class=md-nav__item> <a href=#built-in class=md-nav__link> <span class=md-ellipsis> Built In </span> </a> </li> <li class=md-nav__item> <a href=#custom_1 class=md-nav__link> <span class=md-ellipsis> Custom </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#connect class=md-nav__link> <span class=md-ellipsis> Connect </span> </a> </li> <li class=md-nav__item> <a href=#create class=md-nav__link> <span class=md-ellipsis> Create </span> </a> </li> <li class=md-nav__item> <a href=#update class=md-nav__link> <span class=md-ellipsis> Update </span> </a> </li> <li class=md-nav__item> <a href=#delete class=md-nav__link> <span class=md-ellipsis> Delete </span> </a> </li> <li class=md-nav__item> <a href=#parameters class=md-nav__link> <span class=md-ellipsis> Parameters </span> </a> <nav class=md-nav aria-label=Parameters> <ul class=md-nav__list> <li class=md-nav__item> <a href=#binding class=md-nav__link> <span class=md-ellipsis> Binding </span> </a> </li> <li class=md-nav__item> <a href=#typed class=md-nav__link> <span class=md-ellipsis> Typed </span> </a> </li> <li class=md-nav__item> <a href=#cast class=md-nav__link> <span class=md-ellipsis> Cast </span> </a> </li> <li class=md-nav__item> <a href=#hydration class=md-nav__link> <span class=md-ellipsis> Hydration </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#transactions class=md-nav__link> <span class=md-ellipsis> Transactions </span> </a> </li> <li class=md-nav__item> <a href=#events class=md-nav__link> <span class=md-ellipsis> Events </span> </a> </li> <li class=md-nav__item> <a href=#profiling class=md-nav__link> <span class=md-ellipsis> Profiling </span> </a> </li> <li class=md-nav__item> <a href=#logging class=md-nav__link> <span class=md-ellipsis> Logging </span> </a> </li> <li class=md-nav__item> <a href=#tables class=md-nav__link> <span class=md-ellipsis> Tables </span> </a> <nav class=md-nav aria-label=Tables> <ul class=md-nav__list> <li class=md-nav__item> <a href=#describe class=md-nav__link> <span class=md-ellipsis> Describe </span> </a> </li> <li class=md-nav__item> <a href=#create_1 class=md-nav__link> <span class=md-ellipsis> Create </span> </a> </li> <li class=md-nav__item> <a href=#alter class=md-nav__link> <span class=md-ellipsis> Alter </span> </a> </li> <li class=md-nav__item> <a href=#drop class=md-nav__link> <span class=md-ellipsis> Drop </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../db-phql/ class=md-nav__link> <span class=md-ellipsis> PHQL </span> </a> </li> <li class=md-nav__item> <a href=../db-odm/ class=md-nav__link> <span class=md-ellipsis> ODM </span> </a> </li> <li class=md-nav__item> <a href=../db-models/ class=md-nav__link> <span class=md-ellipsis> Models </span> </a> </li> <li class=md-nav__item> <a href=../db-models-behaviors/ class=md-nav__link> <span class=md-ellipsis> Behaviors </span> </a> </li> <li class=md-nav__item> <a href=../db-models-cache/ class=md-nav__link> <span class=md-ellipsis> Cache </span> </a> </li> <li class=md-nav__item> <a href=../db-models-events/ class=md-nav__link> <span class=md-ellipsis> Events </span> </a> </li> <li class=md-nav__item> <a href=../db-models-metadata/ class=md-nav__link> <span class=md-ellipsis> Metadata </span> </a> </li> <li class=md-nav__item> <a href=../db-models-relationships/ class=md-nav__link> <span class=md-ellipsis> Relationships </span> </a> </li> <li class=md-nav__item> <a href=../db-models-transactions/ class=md-nav__link> <span class=md-ellipsis> Transactions </span> </a> </li> <li class=md-nav__item> <a href=../db-models-validation/ class=md-nav__link> <span class=md-ellipsis> Validators </span> </a> </li> <li class=md-nav__item> <a href=../db-pagination/ class=md-nav__link> <span class=md-ellipsis> Pagination </span> </a> </li> <li class=md-nav__item> <a href=../db-migrations/ class=md-nav__link> <span class=md-ellipsis> Migrations </span> </a> </li> <li class=md-nav__item> <a href=../datamapper/ class=md-nav__link> <span class=md-ellipsis> DataMapper </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5> <label class=md-nav__link for=__nav_5 id=__nav_5_label tabindex=0> <span class=md-ellipsis> Front End </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=false> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Front End </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../assets/ class=md-nav__link> <span class=md-ellipsis> Assets </span> </a> </li> <li class=md-nav__item> <a href=../flash/ class=md-nav__link> <span class=md-ellipsis> Flash Messenger </span> </a> </li> <li class=md-nav__item> <a href=../forms/ class=md-nav__link> <span class=md-ellipsis> Forms </span> </a> </li> <li class=md-nav__item> <a href=../image/ class=md-nav__link> <span class=md-ellipsis> Image </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_5> <label class=md-nav__link for=__nav_5_5 id=__nav_5_5_label tabindex=0> <span class=md-ellipsis> HTML </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_5_label aria-expanded=false> <label class=md-nav__title for=__nav_5_5> <span class="md-nav__icon md-icon"></span> HTML </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../html-attributes/ class=md-nav__link> <span class=md-ellipsis> Attributes </span> </a> </li> <li class=md-nav__item> <a href=../html-breadcrumbs/ class=md-nav__link> <span class=md-ellipsis> Breadcrumbs </span> </a> </li> <li class=md-nav__item> <a href=../html-escaper/ class=md-nav__link> <span class=md-ellipsis> Escaper </span> </a> </li> <li class=md-nav__item> <a href=../html-link/ class=md-nav__link> <span class=md-ellipsis> Link </span> </a> </li> <li class=md-nav__item> <a href=../html-tagfactory/ class=md-nav__link> <span class=md-ellipsis> Tag Factory </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../tag/ class=md-nav__link> <span class=md-ellipsis> Tag (legacy) </span> </a> </li> <li class=md-nav__item> <a href=../views/ class=md-nav__link> <span class=md-ellipsis> View </span> </a> </li> <li class=md-nav__item> <a href=../volt/ class=md-nav__link> <span class=md-ellipsis> Volt </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6> <label class=md-nav__link for=__nav_6 id=__nav_6_label tabindex=0> <span class=md-ellipsis> Business Logic </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_6_label aria-expanded=false> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> Business Logic </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../acl/ class=md-nav__link> <span class=md-ellipsis> Access Control Lists </span> </a> </li> <li class=md-nav__item> <a href=../annotations/ class=md-nav__link> <span class=md-ellipsis> Annotations </span> </a> </li> <li class=md-nav__item> <a href=../controllers/ class=md-nav__link> <span class=md-ellipsis> Controllers </span> </a> </li> <li class=md-nav__item> <a href=../dispatcher/ class=md-nav__link> <span class=md-ellipsis> Dispatcher </span> </a> </li> <li class=md-nav__item> <a href=../events/ class=md-nav__link> <span class=md-ellipsis> Event Manager </span> </a> </li> <li class=md-nav__item> <a href=../filter-filter/ class=md-nav__link> <span class=md-ellipsis> Filters </span> </a> </li> <li class=md-nav__item> <a href=../routing/ class=md-nav__link> <span class=md-ellipsis> Routing </span> </a> </li> <li class=md-nav__item> <a href=../session/ class=md-nav__link> <span class=md-ellipsis> Sessions </span> </a> </li> <li class=md-nav__item> <a href=../mvc-url/ class=md-nav__link> <span class=md-ellipsis> Url </span> </a> </li> <li class=md-nav__item> <a href=../filter-validation/ class=md-nav__link> <span class=md-ellipsis> Validation </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7> <label class=md-nav__link for=__nav_7 id=__nav_7_label tabindex=0> <span class=md-ellipsis> Services </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_7_label aria-expanded=false> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> Services </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../cache/ class=md-nav__link> <span class=md-ellipsis> Cache </span> </a> </li> <li class=md-nav__item> <a href=../config/ class=md-nav__link> <span class=md-ellipsis> Config </span> </a> </li> <li class=md-nav__item> <a href=../html-escaper/ class=md-nav__link> <span class=md-ellipsis> Escaper </span> </a> </li> <li class=md-nav__item> <a href=../autoload/ class=md-nav__link> <span class=md-ellipsis> Loader </span> </a> </li> <li class=md-nav__item> <a href=../logger/ class=md-nav__link> <span class=md-ellipsis> Logger </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7_6> <label class=md-nav__link for=__nav_7_6 id=__nav_7_6_label tabindex=0> <span class=md-ellipsis> HTTP </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_7_6_label aria-expanded=false> <label class=md-nav__title for=__nav_7_6> <span class="md-nav__icon md-icon"></span> HTTP </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../response.md#cookies class=md-nav__link> <span class=md-ellipsis> Cookies </span> </a> </li> <li class=md-nav__item> <a href=../request/ class=md-nav__link> <span class=md-ellipsis> Request </span> </a> </li> <li class=md-nav__item> <a href=../response/ class=md-nav__link> <span class=md-ellipsis> Response </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7_7> <label class=md-nav__link for=__nav_7_7 id=__nav_7_7_label tabindex=0> <span class=md-ellipsis> i18n </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_7_7_label aria-expanded=false> <label class=md-nav__title for=__nav_7_7> <span class="md-nav__icon md-icon"></span> i18n </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../i18n/ class=md-nav__link> <span class=md-ellipsis> Internationalization </span> </a> </li> <li class=md-nav__item> <a href=../translate/ class=md-nav__link> <span class=md-ellipsis> Translate </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../queue/ class=md-nav__link> <span class=md-ellipsis> Queue </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7_9> <label class=md-nav__link for=__nav_7_9 id=__nav_7_9_label tabindex=0> <span class=md-ellipsis> Security </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_7_9_label aria-expanded=false> <label class=md-nav__title for=__nav_7_9> <span class="md-nav__icon md-icon"></span> Security </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../encryption-crypt/ class=md-nav__link> <span class=md-ellipsis> Cryptography </span> </a> </li> <li class=md-nav__item> <a href=../encryption-security/ class=md-nav__link> <span class=md-ellipsis> Security </span> </a> </li> <li class=md-nav__item> <a href=../encryption-security-jwt/ class=md-nav__link> <span class=md-ellipsis> JWT </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../storage/ class=md-nav__link> <span class=md-ellipsis> Storage </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7_11> <label class=md-nav__link for=__nav_7_11 id=__nav_7_11_label tabindex=0> <span class=md-ellipsis> Utility </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_7_11_label aria-expanded=false> <label class=md-nav__title for=__nav_7_11> <span class="md-nav__icon md-icon"></span> Utility </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../support-collection/ class=md-nav__link> <span class=md-ellipsis> Collection </span> </a> </li> <li class=md-nav__item> <a href=../domain/ class=md-nav__link> <span class=md-ellipsis> Domain </span> </a> </li> <li class=md-nav__item> <a href=../support-helper/ class=md-nav__link> <span class=md-ellipsis> Helper </span> </a> </li> <li class=md-nav__item> <a href=../support-registry/ class=md-nav__link> <span class=md-ellipsis> Registry </span> </a> </li> <li class=md-nav__item> <a href=../support-version/ class=md-nav__link> <span class=md-ellipsis> Version </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../api/ class=md-nav__link> <span class=md-ellipsis> API </span> </a> </li> <li class=md-nav__item> <a href=https://github.com/orgs/phalcon/discussions class=md-nav__link> <span class=md-ellipsis> Discussions </span> </a> </li> <li class=md-nav__item> <a href=https://blog.phalcon.io/ class=md-nav__link> <span class=md-ellipsis> Blog </span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#overview class=md-nav__link> <span class=md-ellipsis> Overview </span> </a> </li> <li class=md-nav__item> <a href=#adapters class=md-nav__link> <span class=md-ellipsis> Adapters </span> </a> <nav class=md-nav aria-label=Adapters> <ul class=md-nav__list> <li class=md-nav__item> <a href=#constants class=md-nav__link> <span class=md-ellipsis> Constants </span> </a> </li> <li class=md-nav__item> <a href=#methods class=md-nav__link> <span class=md-ellipsis> Methods </span> </a> </li> <li class=md-nav__item> <a href=#custom class=md-nav__link> <span class=md-ellipsis> Custom </span> </a> </li> <li class=md-nav__item> <a href=#escaping class=md-nav__link> <span class=md-ellipsis> Escaping </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#factory class=md-nav__link> <span class=md-ellipsis> Factory </span> </a> <nav class=md-nav aria-label=Factory> <ul class=md-nav__list> <li class=md-nav__item> <a href=#newinstance class=md-nav__link> <span class=md-ellipsis> newInstance() </span> </a> </li> <li class=md-nav__item> <a href=#load class=md-nav__link> <span class=md-ellipsis> load() </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#dialects class=md-nav__link> <span class=md-ellipsis> Dialects </span> </a> <nav class=md-nav aria-label=Dialects> <ul class=md-nav__list> <li class=md-nav__item> <a href=#built-in class=md-nav__link> <span class=md-ellipsis> Built In </span> </a> </li> <li class=md-nav__item> <a href=#custom_1 class=md-nav__link> <span class=md-ellipsis> Custom </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#connect class=md-nav__link> <span class=md-ellipsis> Connect </span> </a> </li> <li class=md-nav__item> <a href=#create class=md-nav__link> <span class=md-ellipsis> Create </span> </a> </li> <li class=md-nav__item> <a href=#update class=md-nav__link> <span class=md-ellipsis> Update </span> </a> </li> <li class=md-nav__item> <a href=#delete class=md-nav__link> <span class=md-ellipsis> Delete </span> </a> </li> <li class=md-nav__item> <a href=#parameters class=md-nav__link> <span class=md-ellipsis> Parameters </span> </a> <nav class=md-nav aria-label=Parameters> <ul class=md-nav__list> <li class=md-nav__item> <a href=#binding class=md-nav__link> <span class=md-ellipsis> Binding </span> </a> </li> <li class=md-nav__item> <a href=#typed class=md-nav__link> <span class=md-ellipsis> Typed </span> </a> </li> <li class=md-nav__item> <a href=#cast class=md-nav__link> <span class=md-ellipsis> Cast </span> </a> </li> <li class=md-nav__item> <a href=#hydration class=md-nav__link> <span class=md-ellipsis> Hydration </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#transactions class=md-nav__link> <span class=md-ellipsis> Transactions </span> </a> </li> <li class=md-nav__item> <a href=#events class=md-nav__link> <span class=md-ellipsis> Events </span> </a> </li> <li class=md-nav__item> <a href=#profiling class=md-nav__link> <span class=md-ellipsis> Profiling </span> </a> </li> <li class=md-nav__item> <a href=#logging class=md-nav__link> <span class=md-ellipsis> Logging </span> </a> </li> <li class=md-nav__item> <a href=#tables class=md-nav__link> <span class=md-ellipsis> Tables </span> </a> <nav class=md-nav aria-label=Tables> <ul class=md-nav__list> <li class=md-nav__item> <a href=#describe class=md-nav__link> <span class=md-ellipsis> Describe </span> </a> </li> <li class=md-nav__item> <a href=#create_1 class=md-nav__link> <span class=md-ellipsis> Create </span> </a> </li> <li class=md-nav__item> <a href=#alter class=md-nav__link> <span class=md-ellipsis> Alter </span> </a> </li> <li class=md-nav__item> <a href=#drop class=md-nav__link> <span class=md-ellipsis> Drop </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/phalcon/documentation/edit/master/docs/db-layer.md title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4v-2m10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1 2.1 2.1Z"/></svg> </a> <a href=https://github.com/phalcon/documentation/raw/master/docs/db-layer.md title="View source of this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.15 8.15 0 0 1-1.23-2Z"/></svg> </a> <h1 id=database-abstraction-layer>Database Abstraction Layer<a class=headerlink href=#database-abstraction-layer title="Permanent link">&para;</a></h1> <hr> <h2 id=overview>Overview<a class=headerlink href=#overview title="Permanent link">&para;</a></h2> <p>The components under the <code>Phalcon\Db</code> namespace are the ones responsible for powering the <a href=../api/phalcon_mvc/#mvcmodel>Phalcon\Mvc\Model</a> class - the <code>Model</code> in MVC for the framework. It consists of an independent high-level abstraction layer for database systems completely written in C.</p> <p>This component allows for a lower level of database manipulation than using traditional models.</p> <h2 id=adapters>Adapters<a class=headerlink href=#adapters title="Permanent link">&para;</a></h2> <p>This component makes use of adapters to encapsulate specific database system details. Phalcon uses PDO to connect to databases. The following database engines are supported:</p> <table> <thead> <tr> <th>Class</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><a href=../api/phalcon_db/#dbadapterpdomysql>Phalcon\Db\Adapter\Pdo\Mysql</a></td> <td>Is the world's most used relational database management system (RDBMS) that runs as a server providing multi-user access to several databases</td> </tr> <tr> <td><a href=../api/phalcon_db/#dbadapterpdopostgresql>Phalcon\Db\Adapter\Pdo\Postgresql</a></td> <td>PostgreSQL is a powerful, open-source relational database system. It has more than 15 years of active development and a proven architecture that has earned it a strong reputation for reliability, data integrity, and correctness.</td> </tr> <tr> <td><a href=../api/phalcon_db/#dbadapterpdosqlite>Phalcon\Db\Adapter\Pdo\Sqlite</a></td> <td>SQLite is a software library that implements a self-contained, serverless, zero-configuration, transactional SQL database engine</td> </tr> </tbody> </table> <h3 id=constants>Constants<a class=headerlink href=#constants title="Permanent link">&para;</a></h3> <p>The <a href=../api/phalcon_db/#dbenum>Phalcon\Db\Enum</a> class exposes several constants that can be used on the DB layer. - <code>FETCH_ASSOC</code> = <code>\Pdo::FETCH_ASSOC</code> - <code>FETCH_BOTH</code> = <code>\Pdo::FETCH_BOTH</code> - <code>FETCH_BOUND</code> = <code>\Pdo::FETCH_BOUND</code> - <code>FETCH_CLASS</code> = <code>\Pdo::FETCH_CLASS</code> - <code>FETCH_CLASSTYPE</code> = <code>\Pdo::FETCH_CLASSTYPE</code> - <code>FETCH_COLUMN</code> = <code>\Pdo::FETCH_COLUMN</code> - <code>FETCH_FUNC</code> = <code>\Pdo::FETCH_FUNC</code> - <code>FETCH_GROUP</code> = <code>\Pdo::FETCH_GROUP</code> - <code>FETCH_INTO</code> = <code>\Pdo::FETCH_INTO</code> - <code>FETCH_KEY_PAIR</code> = <code>\Pdo::FETCH_KEY_PAIR</code> - <code>FETCH_LAZY</code> = <code>\Pdo::FETCH_LAZY</code> - <code>FETCH_NAMED</code> = <code>\Pdo::FETCH_NAMED</code> - <code>FETCH_NUM</code> = <code>\Pdo::FETCH_NUM</code> - <code>FETCH_OBJ</code> = <code>\Pdo::FETCH_OBJ</code> - <code>FETCH_PROPS_LATE</code> = <code>\Pdo::FETCH_PROPS_LATE</code> - <code>FETCH_SERIALIZE</code> = <code>\Pdo::FETCH_SERIALIZE</code> - <code>FETCH_UNIQUE</code> = <code>\Pdo::FETCH_UNIQUE</code></p> <p>Additional constants are available in the <a href=../api/phalcon_db/#dbcolumn>Phalcon\Db\Column</a> object. This object is used to describe a column (or field) in a database table. These constants also define which types are supported by the ORM.</p> <p><strong>Bind Types</strong></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>BIND_PARAM_BLOB</code></td> <td>Blob</td> </tr> <tr> <td><code>BIND_PARAM_BOOL</code></td> <td>Bool</td> </tr> <tr> <td><code>BIND_PARAM_DECIMAL</code></td> <td>Decimal</td> </tr> <tr> <td><code>BIND_PARAM_INT</code></td> <td>Integer</td> </tr> <tr> <td><code>BIND_PARAM_NULL</code></td> <td>Null</td> </tr> <tr> <td><code>BIND_PARAM_STR</code></td> <td>String</td> </tr> <tr> <td><code>BIND_SKIP</code></td> <td>Skip binding</td> </tr> </tbody> </table> <p><strong>Column Types</strong></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>TYPE_BIGINTEGER</code></td> <td>Big integer</td> </tr> <tr> <td><code>TYPE_BINARY</code></td> <td>Binary</td> </tr> <tr> <td><code>TYPE_BIT</code></td> <td>Bit</td> </tr> <tr> <td><code>TYPE_BLOB</code></td> <td>Blob</td> </tr> <tr> <td><code>TYPE_BOOLEAN</code></td> <td>Boolean</td> </tr> <tr> <td><code>TYPE_CHAR</code></td> <td>Char</td> </tr> <tr> <td><code>TYPE_DATE</code></td> <td>Date</td> </tr> <tr> <td><code>TYPE_DATETIME</code></td> <td>Datetime</td> </tr> <tr> <td><code>TYPE_DECIMAL</code></td> <td>Decimal</td> </tr> <tr> <td><code>TYPE_DOUBLE</code></td> <td>Double</td> </tr> <tr> <td><code>TYPE_ENUM</code></td> <td>Enum</td> </tr> <tr> <td><code>TYPE_FLOAT</code></td> <td>Float</td> </tr> <tr> <td><code>TYPE_INTEGER</code></td> <td>Integer</td> </tr> <tr> <td><code>TYPE_JSON</code></td> <td>JSON</td> </tr> <tr> <td><code>TYPE_JSONB</code></td> <td>JSONB</td> </tr> <tr> <td><code>TYPE_LONGBLOB</code></td> <td>Long Blob</td> </tr> <tr> <td><code>TYPE_LONGTEXT</code></td> <td>Long Text</td> </tr> <tr> <td><code>TYPE_MEDIUMBLOB</code></td> <td>Medium Blob</td> </tr> <tr> <td><code>TYPE_MEDIUMINTEGER</code></td> <td>Medium Integer</td> </tr> <tr> <td><code>TYPE_MEDIUMTEXT</code></td> <td>Medium Text</td> </tr> <tr> <td><code>TYPE_SMALLINTEGER</code></td> <td>Small Integer</td> </tr> <tr> <td><code>TYPE_TEXT</code></td> <td>Text</td> </tr> <tr> <td><code>TYPE_TIME</code></td> <td>Time</td> </tr> <tr> <td><code>TYPE_TIMESTAMP</code></td> <td>Timestamp</td> </tr> <tr> <td><code>TYPE_TINYBLOB</code></td> <td>Tiny Blob</td> </tr> <tr> <td><code>TYPE_TINYINTEGER</code></td> <td>Tiny Integer</td> </tr> <tr> <td><code>TYPE_TINYTEXT</code></td> <td>Tiny Text</td> </tr> <tr> <td><code>TYPE_VARBINARY</code></td> <td>Varbinary</td> </tr> <tr> <td><code>TYPE_VARCHAR</code></td> <td>Varchar</td> </tr> </tbody> </table> <div class="admonition info"> <p class=admonition-title>NOTE</p> <p>Depending on your RDBMS, certain types will not be available (e.g. <code>JSON</code> is not supported for Sqlite).</p> </div> <h3 id=methods>Methods<a class=headerlink href=#methods title="Permanent link">&para;</a></h3> <p><div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=k>public</span> <span class=k>function</span> <span class=nf>addColumn</span><span class=p>(</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a>    <span class=nx>string</span> <span class=nv>$tableName</span><span class=p>,</span> 
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a>    <span class=nx>string</span> <span class=nv>$schemaName</span><span class=p>,</span> 
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a>    <span class=nx>ColumnInterface</span> <span class=nv>$column</span>
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=p>)</span><span class=o>:</span> <span class=nx>bool</span>
</code></pre></div> Adds a column to a table</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a><span class=k>public</span> <span class=k>function</span> <span class=nf>addIndex</span><span class=p>(</span>
<a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a>    <span class=nx>string</span> <span class=nv>$tableName</span><span class=p>,</span> 
<a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a>    <span class=nx>string</span> <span class=nv>$schemaName</span><span class=p>,</span>
<a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a>    <span class=nx>IndexInterface</span> <span class=nv>$index</span>
<a id=__codelineno-1-5 name=__codelineno-1-5 href=#__codelineno-1-5></a><span class=p>)</span><span class=o>:</span> <span class=nx>bool</span>
</code></pre></div> Adds an index to a table</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a><span class=k>public</span> <span class=k>function</span> <span class=nf>addForeignKey</span><span class=p>(</span>
<a id=__codelineno-2-2 name=__codelineno-2-2 href=#__codelineno-2-2></a>    <span class=nx>string</span> <span class=nv>$tableName</span><span class=p>,</span> 
<a id=__codelineno-2-3 name=__codelineno-2-3 href=#__codelineno-2-3></a>    <span class=nx>string</span> <span class=nv>$schemaName</span><span class=p>,</span> 
<a id=__codelineno-2-4 name=__codelineno-2-4 href=#__codelineno-2-4></a>    <span class=nx>ReferenceInterface</span> <span class=nv>$reference</span>
<a id=__codelineno-2-5 name=__codelineno-2-5 href=#__codelineno-2-5></a><span class=p>)</span><span class=o>:</span> <span class=nx>bool</span>
</code></pre></div> Adds a foreign key to a table</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a><span class=k>public</span> <span class=k>function</span> <span class=nf>addPrimaryKey</span><span class=p>(</span>
<a id=__codelineno-3-2 name=__codelineno-3-2 href=#__codelineno-3-2></a>    <span class=nx>string</span> <span class=nv>$tableName</span><span class=p>,</span> 
<a id=__codelineno-3-3 name=__codelineno-3-3 href=#__codelineno-3-3></a>    <span class=nx>string</span> <span class=nv>$schemaName</span><span class=p>,</span> 
<a id=__codelineno-3-4 name=__codelineno-3-4 href=#__codelineno-3-4></a>    <span class=nx>IndexInterface</span> <span class=nv>$index</span>
<a id=__codelineno-3-5 name=__codelineno-3-5 href=#__codelineno-3-5></a><span class=p>)</span><span class=o>:</span> <span class=nx>bool</span>
</code></pre></div> Adds a primary key to a table</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a><span class=k>public</span> <span class=k>function</span> <span class=nf>affectedRows</span><span class=p>()</span><span class=o>:</span> <span class=nx>int</span>
</code></pre></div> Returns the number of affected rows by the last <code>INSERT</code>/<code>UPDATE</code>/<code>DELETE</code> reported by the database system</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-5-1 name=__codelineno-5-1 href=#__codelineno-5-1></a><span class=k>public</span> <span class=k>function</span> <span class=nf>begin</span><span class=p>(</span>
<a id=__codelineno-5-2 name=__codelineno-5-2 href=#__codelineno-5-2></a>    <span class=nx>bool</span> <span class=nv>$nesting</span> <span class=o>=</span> <span class=k>true</span>
<a id=__codelineno-5-3 name=__codelineno-5-3 href=#__codelineno-5-3></a><span class=p>)</span><span class=o>:</span> <span class=nx>bool</span>
</code></pre></div> Starts a transaction in the connection</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-6-1 name=__codelineno-6-1 href=#__codelineno-6-1></a><span class=k>public</span> <span class=k>function</span> <span class=nf>close</span><span class=p>()</span><span class=o>:</span> <span class=nx>void</span>
</code></pre></div> Closes active connection returning success. Phalcon automatically closes and destroys active connections</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-7-1 name=__codelineno-7-1 href=#__codelineno-7-1></a><span class=k>public</span> <span class=k>function</span> <span class=nf>commit</span><span class=p>(</span>
<a id=__codelineno-7-2 name=__codelineno-7-2 href=#__codelineno-7-2></a>    <span class=nx>bool</span> <span class=nv>$nesting</span> <span class=o>=</span> <span class=k>true</span>
<a id=__codelineno-7-3 name=__codelineno-7-3 href=#__codelineno-7-3></a><span class=p>)</span><span class=o>:</span> <span class=nx>bool</span>
</code></pre></div> Commits the active transaction in the connection</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-8-1 name=__codelineno-8-1 href=#__codelineno-8-1></a><span class=k>public</span> <span class=k>function</span> <span class=nf>connect</span><span class=p>(</span>
<a id=__codelineno-8-2 name=__codelineno-8-2 href=#__codelineno-8-2></a>    <span class=k>array</span> <span class=nv>$descriptor</span> <span class=o>=</span> <span class=p>[]</span>
<a id=__codelineno-8-3 name=__codelineno-8-3 href=#__codelineno-8-3></a><span class=p>)</span><span class=o>:</span> <span class=nx>void</span>
</code></pre></div> This method is automatically called in <a href=../api/phalcon_db/#dbadapterpdoabstractpdo>Phalcon\Db\Adapter\Pdo\AbstractPdo</a> constructor. Call it when you need to restore a database connection</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-9-1 name=__codelineno-9-1 href=#__codelineno-9-1></a><span class=k>public</span> <span class=k>function</span> <span class=nf>createSavepoint</span><span class=p>(</span>
<a id=__codelineno-9-2 name=__codelineno-9-2 href=#__codelineno-9-2></a>    <span class=nx>string</span> <span class=nv>$name</span>
<a id=__codelineno-9-3 name=__codelineno-9-3 href=#__codelineno-9-3></a><span class=p>)</span><span class=o>:</span> <span class=nx>bool</span>
</code></pre></div> Creates a new savepoint</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-10-1 name=__codelineno-10-1 href=#__codelineno-10-1></a><span class=k>public</span> <span class=k>function</span> <span class=nf>createTable</span><span class=p>(</span>
<a id=__codelineno-10-2 name=__codelineno-10-2 href=#__codelineno-10-2></a>    <span class=nx>string</span> <span class=nv>$tableName</span><span class=p>,</span> 
<a id=__codelineno-10-3 name=__codelineno-10-3 href=#__codelineno-10-3></a>    <span class=nx>string</span> <span class=nv>$schemaName</span><span class=p>,</span> 
<a id=__codelineno-10-4 name=__codelineno-10-4 href=#__codelineno-10-4></a>    <span class=k>array</span> <span class=nv>$definition</span>
<a id=__codelineno-10-5 name=__codelineno-10-5 href=#__codelineno-10-5></a><span class=p>)</span><span class=o>:</span> <span class=nx>bool</span>
</code></pre></div> Creates a table</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-11-1 name=__codelineno-11-1 href=#__codelineno-11-1></a><span class=k>public</span> <span class=k>function</span> <span class=nf>createView</span><span class=p>(</span>
<a id=__codelineno-11-2 name=__codelineno-11-2 href=#__codelineno-11-2></a>    <span class=nx>string</span> <span class=nv>$viewName</span><span class=p>,</span> 
<a id=__codelineno-11-3 name=__codelineno-11-3 href=#__codelineno-11-3></a>    <span class=k>array</span> <span class=nv>$definition</span><span class=p>,</span> 
<a id=__codelineno-11-4 name=__codelineno-11-4 href=#__codelineno-11-4></a>    <span class=nx>string</span> <span class=nv>$schemaName</span> <span class=o>=</span> <span class=k>null</span>
<a id=__codelineno-11-5 name=__codelineno-11-5 href=#__codelineno-11-5></a><span class=p>)</span><span class=o>:</span> <span class=nx>bool</span>
</code></pre></div> Creates a view</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-12-1 name=__codelineno-12-1 href=#__codelineno-12-1></a><span class=k>public</span> <span class=k>function</span> <span class=nf>delete</span><span class=p>(</span>
<a id=__codelineno-12-2 name=__codelineno-12-2 href=#__codelineno-12-2></a>    <span class=nx>mixed</span> <span class=nv>$table</span><span class=p>,</span> 
<a id=__codelineno-12-3 name=__codelineno-12-3 href=#__codelineno-12-3></a>    <span class=nx>string</span> <span class=nv>$whereCondition</span> <span class=o>=</span> <span class=k>null</span><span class=p>,</span> 
<a id=__codelineno-12-4 name=__codelineno-12-4 href=#__codelineno-12-4></a>    <span class=k>array</span> <span class=nv>$placeholders</span> <span class=o>=</span> <span class=p>[],</span> 
<a id=__codelineno-12-5 name=__codelineno-12-5 href=#__codelineno-12-5></a>    <span class=k>array</span> <span class=nv>$dataTypes</span> <span class=o>=</span> <span class=p>[]</span>
<a id=__codelineno-12-6 name=__codelineno-12-6 href=#__codelineno-12-6></a><span class=p>)</span><span class=o>:</span> <span class=nx>bool</span>
</code></pre></div> Deletes data from a table using custom RDBMS SQL syntax</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-13-1 name=__codelineno-13-1 href=#__codelineno-13-1></a><span class=k>public</span> <span class=k>function</span> <span class=nf>describeColumns</span><span class=p>(</span>
<a id=__codelineno-13-2 name=__codelineno-13-2 href=#__codelineno-13-2></a>    <span class=nx>string</span> <span class=nv>$table</span><span class=p>,</span> 
<a id=__codelineno-13-3 name=__codelineno-13-3 href=#__codelineno-13-3></a>    <span class=nx>string</span> <span class=nv>$schema</span> <span class=o>=</span> <span class=k>null</span>
<a id=__codelineno-13-4 name=__codelineno-13-4 href=#__codelineno-13-4></a><span class=p>)</span><span class=o>:</span> <span class=nx>ColumnInterface</span><span class=p>[]</span>
</code></pre></div> Returns an array of Phalcon\Db\Column objects describing a table</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-14-1 name=__codelineno-14-1 href=#__codelineno-14-1></a><span class=k>public</span> <span class=k>function</span> <span class=nf>describeIndexes</span><span class=p>(</span>
<a id=__codelineno-14-2 name=__codelineno-14-2 href=#__codelineno-14-2></a>    <span class=nx>string</span> <span class=nv>$table</span><span class=p>,</span> 
<a id=__codelineno-14-3 name=__codelineno-14-3 href=#__codelineno-14-3></a>        <span class=nx>string</span> <span class=nv>$schema</span> <span class=o>=</span> <span class=k>null</span>
<a id=__codelineno-14-4 name=__codelineno-14-4 href=#__codelineno-14-4></a><span class=p>)</span><span class=o>:</span> <span class=nx>IndexInterface</span><span class=p>[]</span>
</code></pre></div> Lists table indexes</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-15-1 name=__codelineno-15-1 href=#__codelineno-15-1></a><span class=k>public</span> <span class=k>function</span> <span class=nf>describeReferences</span><span class=p>(</span>
<a id=__codelineno-15-2 name=__codelineno-15-2 href=#__codelineno-15-2></a>    <span class=nx>string</span> <span class=nv>$table</span><span class=p>,</span> 
<a id=__codelineno-15-3 name=__codelineno-15-3 href=#__codelineno-15-3></a>    <span class=nx>string</span> <span class=nv>$schema</span> <span class=o>=</span> <span class=k>null</span>
<a id=__codelineno-15-4 name=__codelineno-15-4 href=#__codelineno-15-4></a><span class=p>)</span><span class=o>:</span> <span class=nx>ReferenceInterface</span><span class=p>[]</span>
</code></pre></div> Lists table references</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-16-1 name=__codelineno-16-1 href=#__codelineno-16-1></a><span class=k>public</span> <span class=k>function</span> <span class=nf>dropColumn</span><span class=p>(</span>
<a id=__codelineno-16-2 name=__codelineno-16-2 href=#__codelineno-16-2></a>    <span class=nx>string</span> <span class=nv>$tableName</span><span class=p>,</span> 
<a id=__codelineno-16-3 name=__codelineno-16-3 href=#__codelineno-16-3></a>    <span class=nx>string</span> <span class=nv>$schemaName</span><span class=p>,</span> 
<a id=__codelineno-16-4 name=__codelineno-16-4 href=#__codelineno-16-4></a>    <span class=nx>string</span> <span class=nv>$columnName</span>
<a id=__codelineno-16-5 name=__codelineno-16-5 href=#__codelineno-16-5></a><span class=p>)</span><span class=o>:</span> <span class=nx>bool</span>
</code></pre></div> Drops a column from a table</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-17-1 name=__codelineno-17-1 href=#__codelineno-17-1></a><span class=k>public</span> <span class=k>function</span> <span class=nf>dropForeignKey</span><span class=p>(</span>
<a id=__codelineno-17-2 name=__codelineno-17-2 href=#__codelineno-17-2></a>    <span class=nx>string</span> <span class=nv>$tableName</span><span class=p>,</span> 
<a id=__codelineno-17-3 name=__codelineno-17-3 href=#__codelineno-17-3></a>    <span class=nx>string</span> <span class=nv>$schemaName</span><span class=p>,</span> 
<a id=__codelineno-17-4 name=__codelineno-17-4 href=#__codelineno-17-4></a>    <span class=nx>string</span> <span class=nv>$referenceName</span>
<a id=__codelineno-17-5 name=__codelineno-17-5 href=#__codelineno-17-5></a><span class=p>)</span><span class=o>:</span> <span class=nx>bool</span>
</code></pre></div> Drops a foreign key from a table</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-18-1 name=__codelineno-18-1 href=#__codelineno-18-1></a><span class=k>public</span> <span class=k>function</span> <span class=nf>dropIndex</span><span class=p>(</span>
<a id=__codelineno-18-2 name=__codelineno-18-2 href=#__codelineno-18-2></a>    <span class=nx>string</span> <span class=nv>$tableName</span><span class=p>,</span> 
<a id=__codelineno-18-3 name=__codelineno-18-3 href=#__codelineno-18-3></a>    <span class=nx>string</span> <span class=nv>$schemaName</span><span class=p>,</span> 
<a id=__codelineno-18-4 name=__codelineno-18-4 href=#__codelineno-18-4></a>    <span class=nx>string</span> <span class=nv>$indexName</span>
<a id=__codelineno-18-5 name=__codelineno-18-5 href=#__codelineno-18-5></a><span class=p>)</span><span class=o>:</span> <span class=nx>bool</span>
</code></pre></div> Drop an index from a table</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-19-1 name=__codelineno-19-1 href=#__codelineno-19-1></a><span class=k>public</span> <span class=k>function</span> <span class=nf>dropPrimaryKey</span><span class=p>(</span>
<a id=__codelineno-19-2 name=__codelineno-19-2 href=#__codelineno-19-2></a>    <span class=nx>string</span> <span class=nv>$tableName</span><span class=p>,</span> 
<a id=__codelineno-19-3 name=__codelineno-19-3 href=#__codelineno-19-3></a>    <span class=nx>string</span> <span class=nv>$schemaName</span>
<a id=__codelineno-19-4 name=__codelineno-19-4 href=#__codelineno-19-4></a><span class=p>)</span><span class=o>:</span> <span class=nx>bool</span>
</code></pre></div> Drops primary key from a table</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-20-1 name=__codelineno-20-1 href=#__codelineno-20-1></a><span class=k>public</span> <span class=k>function</span> <span class=nf>dropTable</span><span class=p>(</span>
<a id=__codelineno-20-2 name=__codelineno-20-2 href=#__codelineno-20-2></a>    <span class=nx>string</span> <span class=nv>$tableName</span><span class=p>,</span> 
<a id=__codelineno-20-3 name=__codelineno-20-3 href=#__codelineno-20-3></a>    <span class=nx>string</span> <span class=nv>$schemaName</span> <span class=o>=</span> <span class=k>null</span><span class=p>,</span> 
<a id=__codelineno-20-4 name=__codelineno-20-4 href=#__codelineno-20-4></a>    <span class=nx>bool</span> <span class=nv>$ifExists</span> <span class=o>=</span> <span class=k>true</span>
<a id=__codelineno-20-5 name=__codelineno-20-5 href=#__codelineno-20-5></a><span class=p>)</span><span class=o>:</span> <span class=nx>bool</span>
</code></pre></div> Drops a table from a schema/database</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-21-1 name=__codelineno-21-1 href=#__codelineno-21-1></a><span class=k>public</span> <span class=k>function</span> <span class=nf>dropView</span><span class=p>(</span>
<a id=__codelineno-21-2 name=__codelineno-21-2 href=#__codelineno-21-2></a>    <span class=nx>string</span> <span class=nv>$viewName</span><span class=p>,</span> 
<a id=__codelineno-21-3 name=__codelineno-21-3 href=#__codelineno-21-3></a>    <span class=nx>string</span> <span class=nv>$schemaName</span> <span class=o>=</span> <span class=k>null</span><span class=p>,</span> 
<a id=__codelineno-21-4 name=__codelineno-21-4 href=#__codelineno-21-4></a>    <span class=nx>bool</span> <span class=nv>$ifExists</span> <span class=o>=</span> <span class=k>true</span>
<a id=__codelineno-21-5 name=__codelineno-21-5 href=#__codelineno-21-5></a><span class=p>)</span><span class=o>:</span> <span class=nx>bool</span>
</code></pre></div> Drops a view</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-22-1 name=__codelineno-22-1 href=#__codelineno-22-1></a><span class=k>public</span> <span class=k>function</span> <span class=nf>escapeIdentifier</span><span class=p>(</span>
<a id=__codelineno-22-2 name=__codelineno-22-2 href=#__codelineno-22-2></a>    <span class=nx>mixed</span> <span class=nx>identifier</span>
<a id=__codelineno-22-3 name=__codelineno-22-3 href=#__codelineno-22-3></a><span class=p>)</span><span class=o>:</span> <span class=nx>string</span>
</code></pre></div> Escapes a column/table/schema name.</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-23-1 name=__codelineno-23-1 href=#__codelineno-23-1></a><span class=k>public</span> <span class=k>function</span> <span class=nf>escapeString</span><span class=p>(</span><span class=nx>string</span> <span class=nv>$str</span><span class=p>)</span><span class=o>:</span> <span class=nx>string</span>
</code></pre></div> Escapes a value to avoid SQL injections</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-24-1 name=__codelineno-24-1 href=#__codelineno-24-1></a><span class=k>public</span> <span class=k>function</span> <span class=nf>execute</span><span class=p>(</span>
<a id=__codelineno-24-2 name=__codelineno-24-2 href=#__codelineno-24-2></a>    <span class=nx>string</span> <span class=nv>$sqlStatement</span><span class=p>,</span> 
<a id=__codelineno-24-3 name=__codelineno-24-3 href=#__codelineno-24-3></a>    <span class=k>array</span> <span class=nv>$bindParams</span> <span class=o>=</span> <span class=p>[],</span> 
<a id=__codelineno-24-4 name=__codelineno-24-4 href=#__codelineno-24-4></a>    <span class=k>array</span> <span class=nv>$bindTypes</span> <span class=o>=</span> <span class=p>[]</span>
<a id=__codelineno-24-5 name=__codelineno-24-5 href=#__codelineno-24-5></a><span class=p>)</span><span class=o>:</span> <span class=nx>bool</span>
</code></pre></div> Sends SQL statements to the database server returning the success state. Use this method only when the SQL statement sent to the server does not return any rows</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-25-1 name=__codelineno-25-1 href=#__codelineno-25-1></a><span class=k>public</span> <span class=k>function</span> <span class=nf>fetchAll</span><span class=p>(</span>
<a id=__codelineno-25-2 name=__codelineno-25-2 href=#__codelineno-25-2></a>    <span class=nx>string</span> <span class=nv>$sqlQuery</span><span class=p>,</span> 
<a id=__codelineno-25-3 name=__codelineno-25-3 href=#__codelineno-25-3></a>    <span class=nx>int</span> <span class=nv>$fetchMode</span> <span class=o>=</span> <span class=mi>2</span><span class=p>,</span> 
<a id=__codelineno-25-4 name=__codelineno-25-4 href=#__codelineno-25-4></a>    <span class=k>array</span> <span class=nv>$bindParams</span> <span class=o>=</span> <span class=p>[],</span> 
<a id=__codelineno-25-5 name=__codelineno-25-5 href=#__codelineno-25-5></a>    <span class=k>array</span> <span class=nv>$bindTypes</span> <span class=o>=</span> <span class=p>[]</span>
<a id=__codelineno-25-6 name=__codelineno-25-6 href=#__codelineno-25-6></a><span class=p>)</span><span class=o>:</span> <span class=k>array</span>
</code></pre></div> Dumps the complete result of a query into an array</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-26-1 name=__codelineno-26-1 href=#__codelineno-26-1></a><span class=k>public</span> <span class=k>function</span> <span class=nf>fetchColumn</span><span class=p>(</span>
<a id=__codelineno-26-2 name=__codelineno-26-2 href=#__codelineno-26-2></a>    <span class=nx>string</span> <span class=nv>$sqlQuery</span><span class=p>,</span> 
<a id=__codelineno-26-3 name=__codelineno-26-3 href=#__codelineno-26-3></a>    <span class=k>array</span> <span class=nv>$placeholders</span> <span class=o>=</span> <span class=p>[],</span> 
<a id=__codelineno-26-4 name=__codelineno-26-4 href=#__codelineno-26-4></a>    <span class=nx>mixed</span> <span class=nv>$column</span> <span class=o>=</span> <span class=mi>0</span>
<a id=__codelineno-26-5 name=__codelineno-26-5 href=#__codelineno-26-5></a><span class=p>)</span><span class=o>:</span> <span class=nx>string</span> <span class=o>|</span> <span class=nx>bool</span>
</code></pre></div> Returns the nth field of the first row in a SQL query result</p> <div class=highlight><pre><span></span><code><a id=__codelineno-27-1 name=__codelineno-27-1 href=#__codelineno-27-1></a><span class=nv>$invoicesCount</span> <span class=o>=</span> <span class=nv>$connection</span>
<a id=__codelineno-27-2 name=__codelineno-27-2 href=#__codelineno-27-2></a>    <span class=o>-&gt;</span><span class=na>fetchColumn</span><span class=p>(</span><span class=s1>&#39;SELECT count(*) FROM co_invoices&#39;</span><span class=p>)</span>
<a id=__codelineno-27-3 name=__codelineno-27-3 href=#__codelineno-27-3></a><span class=nb>print_r</span><span class=p>(</span><span class=nv>$invoicesCount</span><span class=p>)</span>
<a id=__codelineno-27-4 name=__codelineno-27-4 href=#__codelineno-27-4></a>
<a id=__codelineno-27-5 name=__codelineno-27-5 href=#__codelineno-27-5></a><span class=nv>$invoice</span> <span class=o>=</span> <span class=nv>$connection</span><span class=o>-&gt;</span><span class=na>fetchColumn</span><span class=p>(</span>
<a id=__codelineno-27-6 name=__codelineno-27-6 href=#__codelineno-27-6></a>    <span class=s1>&#39;SELECT inv_id, inv_title </span>
<a id=__codelineno-27-7 name=__codelineno-27-7 href=#__codelineno-27-7></a><span class=s1>    FROM co_invoices</span>
<a id=__codelineno-27-8 name=__codelineno-27-8 href=#__codelineno-27-8></a><span class=s1>    ORDER BY inv_created_at DESC&#39;</span><span class=p>,</span>
<a id=__codelineno-27-9 name=__codelineno-27-9 href=#__codelineno-27-9></a>    <span class=mi>1</span>
<a id=__codelineno-27-10 name=__codelineno-27-10 href=#__codelineno-27-10></a><span class=p>)</span>
<a id=__codelineno-27-11 name=__codelineno-27-11 href=#__codelineno-27-11></a><span class=nb>print_r</span><span class=p>(</span><span class=nv>$invoice</span><span class=p>)</span>
</code></pre></div> <p><div class=highlight><pre><span></span><code><a id=__codelineno-28-1 name=__codelineno-28-1 href=#__codelineno-28-1></a><span class=k>public</span> <span class=k>function</span> <span class=nf>fetchOne</span><span class=p>(</span>
<a id=__codelineno-28-2 name=__codelineno-28-2 href=#__codelineno-28-2></a>    <span class=nx>string</span> <span class=nv>$sqlQuery</span><span class=p>,</span> 
<a id=__codelineno-28-3 name=__codelineno-28-3 href=#__codelineno-28-3></a>    <span class=nx>int</span> <span class=nv>$fetchMode</span> <span class=o>=</span> <span class=mi>2</span><span class=p>,</span> 
<a id=__codelineno-28-4 name=__codelineno-28-4 href=#__codelineno-28-4></a>    <span class=k>array</span> <span class=nv>$bindParams</span> <span class=o>=</span> <span class=p>[],</span> 
<a id=__codelineno-28-5 name=__codelineno-28-5 href=#__codelineno-28-5></a>    <span class=k>array</span> <span class=nv>$bindTypes</span> <span class=o>=</span> <span class=p>[]</span>
<a id=__codelineno-28-6 name=__codelineno-28-6 href=#__codelineno-28-6></a><span class=p>)</span><span class=o>:</span> <span class=k>array</span>
</code></pre></div> Returns the first row in an SQL query result</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-29-1 name=__codelineno-29-1 href=#__codelineno-29-1></a><span class=k>public</span> <span class=k>function</span> <span class=nf>forUpdate</span><span class=p>(</span>
<a id=__codelineno-29-2 name=__codelineno-29-2 href=#__codelineno-29-2></a>    <span class=nx>string</span> <span class=nv>$sqlQuery</span>
<a id=__codelineno-29-3 name=__codelineno-29-3 href=#__codelineno-29-3></a><span class=p>)</span><span class=o>:</span> <span class=nx>string</span>
</code></pre></div> Returns a SQL modified with a FOR UPDATE clause</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-30-1 name=__codelineno-30-1 href=#__codelineno-30-1></a><span class=k>public</span> <span class=k>function</span> <span class=nf>getColumnDefinition</span><span class=p>(</span>
<a id=__codelineno-30-2 name=__codelineno-30-2 href=#__codelineno-30-2></a>    <span class=nx>ColumnInterface</span> <span class=nv>$column</span>
<a id=__codelineno-30-3 name=__codelineno-30-3 href=#__codelineno-30-3></a><span class=p>)</span><span class=o>:</span> <span class=nx>string</span>
</code></pre></div> Returns the SQL column definition from a column</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-31-1 name=__codelineno-31-1 href=#__codelineno-31-1></a><span class=k>public</span> <span class=k>function</span> <span class=nf>getColumnList</span><span class=p>(</span>
<a id=__codelineno-31-2 name=__codelineno-31-2 href=#__codelineno-31-2></a>    <span class=nx>mixed</span> <span class=nv>$columnList</span>
<a id=__codelineno-31-3 name=__codelineno-31-3 href=#__codelineno-31-3></a><span class=p>)</span><span class=o>:</span> <span class=nx>string</span>
</code></pre></div> Gets a list of columns</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-32-1 name=__codelineno-32-1 href=#__codelineno-32-1></a><span class=k>public</span> <span class=k>function</span> <span class=nf>getConnectionId</span><span class=p>()</span><span class=o>:</span> <span class=nx>string</span>
</code></pre></div> Gets the active connection unique identifier</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-33-1 name=__codelineno-33-1 href=#__codelineno-33-1></a><span class=k>public</span> <span class=k>function</span> <span class=nf>getDefaultValue</span><span class=p>()</span><span class=o>:</span> <span class=nx>RawValue</span>
</code></pre></div> Return the default value to make the RBDM use the default value declared in the table definition</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-34-1 name=__codelineno-34-1 href=#__codelineno-34-1></a><span class=k>public</span> <span class=k>function</span> <span class=nf>getDescriptor</span><span class=p>()</span><span class=o>:</span> <span class=k>array</span>
</code></pre></div> Return descriptor used to connect to the active database</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-35-1 name=__codelineno-35-1 href=#__codelineno-35-1></a><span class=k>public</span> <span class=k>function</span> <span class=nf>getDialect</span><span class=p>()</span><span class=o>:</span> <span class=nx>DialectInterface</span>
</code></pre></div> Returns internal dialect instance</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-36-1 name=__codelineno-36-1 href=#__codelineno-36-1></a><span class=k>public</span> <span class=k>function</span> <span class=nf>getDialectType</span><span class=p>()</span><span class=o>:</span> <span class=nx>string</span>
</code></pre></div> Returns the name of the dialect used</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-37-1 name=__codelineno-37-1 href=#__codelineno-37-1></a><span class=k>public</span> <span class=k>function</span> <span class=nf>getDefaultIdValue</span><span class=p>()</span><span class=o>:</span> <span class=nx>RawValue</span>
</code></pre></div> Return the default identity value to insert in an identity column</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-38-1 name=__codelineno-38-1 href=#__codelineno-38-1></a><span class=k>public</span> <span class=k>function</span> <span class=nf>getErrorInfo</span><span class=p>()</span><span class=o>:</span> <span class=k>array</span>
</code></pre></div> Return the last error information</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-39-1 name=__codelineno-39-1 href=#__codelineno-39-1></a><span class=k>public</span> <span class=k>function</span> <span class=nf>getInternalHandler</span><span class=p>()</span><span class=o>:</span> <span class=nx>mixed</span>
</code></pre></div> Return internal PDO handler</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-40-1 name=__codelineno-40-1 href=#__codelineno-40-1></a><span class=k>public</span> <span class=k>function</span> <span class=nf>getNestedTransactionSavepointName</span><span class=p>()</span><span class=o>:</span> <span class=nx>string</span>
</code></pre></div> Returns the savepoint name to use for nested transactions</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-41-1 name=__codelineno-41-1 href=#__codelineno-41-1></a><span class=k>public</span> <span class=k>function</span> <span class=nf>getRealSQLStatement</span><span class=p>()</span><span class=o>:</span> <span class=nx>string</span>
</code></pre></div> Active SQL statement in the object without replacing bound parameters</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-42-1 name=__codelineno-42-1 href=#__codelineno-42-1></a><span class=k>public</span> <span class=k>function</span> <span class=nf>getSQLStatement</span><span class=p>()</span><span class=o>:</span> <span class=nx>string</span>
</code></pre></div> Active SQL statement in the object</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-43-1 name=__codelineno-43-1 href=#__codelineno-43-1></a><span class=k>public</span> <span class=k>function</span> <span class=nf>getSQLBindTypes</span><span class=p>()</span><span class=o>:</span> <span class=k>array</span>
</code></pre></div> Active SQL statement in the object</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-44-1 name=__codelineno-44-1 href=#__codelineno-44-1></a><span class=k>public</span> <span class=k>function</span> <span class=nf>getSQLVariables</span><span class=p>()</span><span class=o>:</span> <span class=k>array</span>
</code></pre></div> Active SQL statement in the object</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-45-1 name=__codelineno-45-1 href=#__codelineno-45-1></a><span class=k>public</span> <span class=k>function</span> <span class=nf>getType</span><span class=p>()</span><span class=o>:</span> <span class=nx>string</span>
</code></pre></div> Returns the type of database system the adapter is used for</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-46-1 name=__codelineno-46-1 href=#__codelineno-46-1></a><span class=k>public</span> <span class=k>function</span> <span class=nf>insert</span><span class=p>(</span>
<a id=__codelineno-46-2 name=__codelineno-46-2 href=#__codelineno-46-2></a>    <span class=nx>string</span> <span class=nv>$table</span><span class=p>,</span> 
<a id=__codelineno-46-3 name=__codelineno-46-3 href=#__codelineno-46-3></a>    <span class=k>array</span> <span class=nv>$values</span><span class=p>,</span> 
<a id=__codelineno-46-4 name=__codelineno-46-4 href=#__codelineno-46-4></a>    <span class=nx>mixed</span> <span class=nv>$fields</span> <span class=o>=</span> <span class=k>null</span><span class=p>,</span> 
<a id=__codelineno-46-5 name=__codelineno-46-5 href=#__codelineno-46-5></a>    <span class=nx>mixed</span> <span class=nv>$dataTypes</span> <span class=o>=</span> <span class=k>null</span>
<a id=__codelineno-46-6 name=__codelineno-46-6 href=#__codelineno-46-6></a><span class=p>)</span><span class=o>:</span> <span class=nx>bool</span>
</code></pre></div> Inserts data into a table using custom RDBMS SQL syntax</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-47-1 name=__codelineno-47-1 href=#__codelineno-47-1></a><span class=k>public</span> <span class=k>function</span> <span class=nf>insertAsDict</span><span class=p>(</span>
<a id=__codelineno-47-2 name=__codelineno-47-2 href=#__codelineno-47-2></a>    <span class=nx>string</span> <span class=nv>$table</span><span class=p>,</span> 
<a id=__codelineno-47-3 name=__codelineno-47-3 href=#__codelineno-47-3></a>    <span class=nx>mixed</span> <span class=nv>$data</span><span class=p>,</span> 
<a id=__codelineno-47-4 name=__codelineno-47-4 href=#__codelineno-47-4></a>    <span class=nx>mixed</span> <span class=nv>$dataTypes</span> <span class=o>=</span> <span class=k>null</span>
<a id=__codelineno-47-5 name=__codelineno-47-5 href=#__codelineno-47-5></a><span class=p>)</span><span class=o>:</span> <span class=nx>bool</span>
</code></pre></div> Inserts data into a table using custom RBDM SQL syntax</p> <div class=highlight><pre><span></span><code><a id=__codelineno-48-1 name=__codelineno-48-1 href=#__codelineno-48-1></a><span class=nv>$success</span> <span class=o>=</span> <span class=nv>$connection</span><span class=o>-&gt;</span><span class=na>insertAsDict</span><span class=p>(</span>
<a id=__codelineno-48-2 name=__codelineno-48-2 href=#__codelineno-48-2></a>    <span class=s1>&#39;co_invoices&#39;</span><span class=p>,</span>
<a id=__codelineno-48-3 name=__codelineno-48-3 href=#__codelineno-48-3></a>    <span class=p>[</span>
<a id=__codelineno-48-4 name=__codelineno-48-4 href=#__codelineno-48-4></a>        <span class=s1>&#39;inv_cst_id&#39;</span> <span class=o>=&gt;</span> <span class=mi>1</span><span class=p>,</span>
<a id=__codelineno-48-5 name=__codelineno-48-5 href=#__codelineno-48-5></a>        <span class=s1>&#39;inv_title&#39;</span>  <span class=o>=&gt;</span> <span class=s1>&#39;Invoice for ACME Inc.&#39;</span><span class=p>,</span>
<a id=__codelineno-48-6 name=__codelineno-48-6 href=#__codelineno-48-6></a>    <span class=p>]</span>
<a id=__codelineno-48-7 name=__codelineno-48-7 href=#__codelineno-48-7></a><span class=p>)</span>
<a id=__codelineno-48-8 name=__codelineno-48-8 href=#__codelineno-48-8></a>
<a id=__codelineno-48-9 name=__codelineno-48-9 href=#__codelineno-48-9></a><span class=c1>// SQL</span>
<a id=__codelineno-48-10 name=__codelineno-48-10 href=#__codelineno-48-10></a><span class=c1>// INSERT INTO `co_invoices` </span>
<a id=__codelineno-48-11 name=__codelineno-48-11 href=#__codelineno-48-11></a><span class=c1>//     ( `inv_cst_id`, `inv_title` ) </span>
<a id=__codelineno-48-12 name=__codelineno-48-12 href=#__codelineno-48-12></a><span class=c1>// VALUES </span>
<a id=__codelineno-48-13 name=__codelineno-48-13 href=#__codelineno-48-13></a><span class=c1>//     ( 1, &#39;Invoice for ACME Inc.&#39; )</span>
</code></pre></div> <p><div class=highlight><pre><span></span><code><a id=__codelineno-49-1 name=__codelineno-49-1 href=#__codelineno-49-1></a><span class=k>public</span> <span class=k>function</span> <span class=nf>isNestedTransactionsWithSavepoints</span><span class=p>()</span><span class=o>:</span> <span class=nx>bool</span>
</code></pre></div> Returns if nested transactions should use savepoints</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-50-1 name=__codelineno-50-1 href=#__codelineno-50-1></a><span class=k>public</span> <span class=k>function</span> <span class=nf>isUnderTransaction</span><span class=p>()</span><span class=o>:</span> <span class=nx>bool</span>
</code></pre></div> Check whether the connection is under a database transaction</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-51-1 name=__codelineno-51-1 href=#__codelineno-51-1></a><span class=k>public</span> <span class=k>function</span> <span class=nf>lastInsertId</span><span class=p>(</span>
<a id=__codelineno-51-2 name=__codelineno-51-2 href=#__codelineno-51-2></a>    <span class=nx>mixed</span> <span class=nv>$sequenceName</span> <span class=o>=</span> <span class=k>null</span>
<a id=__codelineno-51-3 name=__codelineno-51-3 href=#__codelineno-51-3></a><span class=p>)</span><span class=o>:</span> <span class=nx>string</span> <span class=o>|</span> <span class=nx>bool</span>
</code></pre></div> Returns insert id for the auto_increment column inserted in the last SQL statement</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-52-1 name=__codelineno-52-1 href=#__codelineno-52-1></a><span class=k>public</span> <span class=k>function</span> <span class=nf>limit</span><span class=p>(</span>
<a id=__codelineno-52-2 name=__codelineno-52-2 href=#__codelineno-52-2></a>    <span class=nx>string</span> <span class=nv>$sqlQuery</span><span class=p>,</span> 
<a id=__codelineno-52-3 name=__codelineno-52-3 href=#__codelineno-52-3></a>    <span class=nx>int</span> <span class=nv>$number</span>
<a id=__codelineno-52-4 name=__codelineno-52-4 href=#__codelineno-52-4></a><span class=p>)</span><span class=o>:</span> <span class=nx>string</span>
</code></pre></div> Appends a LIMIT clause to sqlQuery argument</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-53-1 name=__codelineno-53-1 href=#__codelineno-53-1></a><span class=k>public</span> <span class=k>function</span> <span class=nf>listTables</span><span class=p>(</span>
<a id=__codelineno-53-2 name=__codelineno-53-2 href=#__codelineno-53-2></a>    <span class=nx>string</span> <span class=nv>$schemaName</span> <span class=o>=</span> <span class=k>null</span>
<a id=__codelineno-53-3 name=__codelineno-53-3 href=#__codelineno-53-3></a><span class=p>)</span><span class=o>:</span> <span class=k>array</span>
</code></pre></div> List all tables on a database</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-54-1 name=__codelineno-54-1 href=#__codelineno-54-1></a><span class=k>public</span> <span class=k>function</span> <span class=nf>listViews</span><span class=p>(</span>
<a id=__codelineno-54-2 name=__codelineno-54-2 href=#__codelineno-54-2></a>    <span class=nx>string</span> <span class=nv>$schemaName</span> <span class=o>=</span> <span class=k>null</span>
<a id=__codelineno-54-3 name=__codelineno-54-3 href=#__codelineno-54-3></a><span class=p>)</span><span class=o>:</span> <span class=k>array</span>
</code></pre></div> List all views on a database</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-55-1 name=__codelineno-55-1 href=#__codelineno-55-1></a><span class=k>public</span> <span class=k>function</span> <span class=nf>modifyColumn</span><span class=p>(</span>
<a id=__codelineno-55-2 name=__codelineno-55-2 href=#__codelineno-55-2></a>    <span class=nx>string</span> <span class=nv>$tableName</span><span class=p>,</span> 
<a id=__codelineno-55-3 name=__codelineno-55-3 href=#__codelineno-55-3></a>    <span class=nx>string</span> <span class=nv>$schemaName</span><span class=p>,</span> 
<a id=__codelineno-55-4 name=__codelineno-55-4 href=#__codelineno-55-4></a>    <span class=nx>ColumnInterface</span> <span class=nv>$column</span><span class=p>,</span> 
<a id=__codelineno-55-5 name=__codelineno-55-5 href=#__codelineno-55-5></a>    <span class=nx>ColumnInterface</span> <span class=nv>$currentColumn</span> <span class=o>=</span> <span class=k>null</span>
<a id=__codelineno-55-6 name=__codelineno-55-6 href=#__codelineno-55-6></a><span class=p>)</span><span class=o>:</span> <span class=nx>bool</span>
</code></pre></div> Modifies a table column based on a definition</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-56-1 name=__codelineno-56-1 href=#__codelineno-56-1></a><span class=k>public</span> <span class=k>function</span> <span class=nf>query</span><span class=p>(</span>
<a id=__codelineno-56-2 name=__codelineno-56-2 href=#__codelineno-56-2></a>    <span class=nx>string</span> <span class=nv>$sqlStatement</span><span class=p>,</span> 
<a id=__codelineno-56-3 name=__codelineno-56-3 href=#__codelineno-56-3></a>    <span class=k>array</span> <span class=nv>$bindParams</span> <span class=o>=</span> <span class=p>[],</span> 
<a id=__codelineno-56-4 name=__codelineno-56-4 href=#__codelineno-56-4></a>    <span class=k>array</span> <span class=nv>$bindTypes</span> <span class=o>=</span> <span class=p>[]</span>
<a id=__codelineno-56-5 name=__codelineno-56-5 href=#__codelineno-56-5></a><span class=p>)</span><span class=o>:</span> <span class=nx>ResultInterface</span> <span class=o>|</span> <span class=nx>bool</span>
</code></pre></div> Sends SQL statements to the database server returning the success state. Use this method only when the SQL statement sent to the server returns rows</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-57-1 name=__codelineno-57-1 href=#__codelineno-57-1></a><span class=k>public</span> <span class=k>function</span> <span class=nf>releaseSavepoint</span><span class=p>(</span>
<a id=__codelineno-57-2 name=__codelineno-57-2 href=#__codelineno-57-2></a>    <span class=nx>string</span> <span class=nv>$name</span>
<a id=__codelineno-57-3 name=__codelineno-57-3 href=#__codelineno-57-3></a><span class=p>)</span><span class=o>:</span> <span class=nx>bool</span>
</code></pre></div> Releases given savepoint</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-58-1 name=__codelineno-58-1 href=#__codelineno-58-1></a><span class=k>public</span> <span class=k>function</span> <span class=nf>rollback</span><span class=p>(</span>
<a id=__codelineno-58-2 name=__codelineno-58-2 href=#__codelineno-58-2></a>    <span class=nx>bool</span> <span class=nv>$nesting</span> <span class=o>=</span> <span class=k>true</span>
<a id=__codelineno-58-3 name=__codelineno-58-3 href=#__codelineno-58-3></a><span class=p>)</span><span class=o>:</span> <span class=nx>bool</span>
</code></pre></div> Rollbacks the active transaction in the connection</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-59-1 name=__codelineno-59-1 href=#__codelineno-59-1></a><span class=k>public</span> <span class=k>function</span> <span class=nf>rollbackSavepoint</span><span class=p>(</span>
<a id=__codelineno-59-2 name=__codelineno-59-2 href=#__codelineno-59-2></a>    <span class=nx>string</span> <span class=nv>$name</span>
<a id=__codelineno-59-3 name=__codelineno-59-3 href=#__codelineno-59-3></a><span class=p>)</span><span class=o>:</span> <span class=nx>bool</span>
</code></pre></div> Rollbacks given savepoint</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-60-1 name=__codelineno-60-1 href=#__codelineno-60-1></a><span class=k>public</span> <span class=k>function</span> <span class=nf>sharedLock</span><span class=p>(</span>
<a id=__codelineno-60-2 name=__codelineno-60-2 href=#__codelineno-60-2></a>    <span class=nx>string</span> <span class=nv>$sqlQuery</span>
<a id=__codelineno-60-3 name=__codelineno-60-3 href=#__codelineno-60-3></a><span class=p>)</span><span class=o>:</span> <span class=nx>string</span>
</code></pre></div> Returns a SQL modified with a LOCK IN SHARE MODE clause</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-61-1 name=__codelineno-61-1 href=#__codelineno-61-1></a><span class=k>public</span> <span class=k>function</span> <span class=nf>setNestedTransactionsWithSavepoints</span><span class=p>(</span>
<a id=__codelineno-61-2 name=__codelineno-61-2 href=#__codelineno-61-2></a>    <span class=nx>bool</span> <span class=nv>$nestedTransactionsWithSavepoints</span>
<a id=__codelineno-61-3 name=__codelineno-61-3 href=#__codelineno-61-3></a><span class=p>)</span><span class=o>:</span> <span class=nx>AdapterInterface</span>
</code></pre></div> Set if nested transactions should use savepoints</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-62-1 name=__codelineno-62-1 href=#__codelineno-62-1></a><span class=k>public</span> <span class=k>function</span> <span class=nf>supportsDefaultValue</span><span class=p>()</span><span class=o>:</span> <span class=nx>bool</span>
</code></pre></div> Check whether the database system supports a default value</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-63-1 name=__codelineno-63-1 href=#__codelineno-63-1></a><span class=k>public</span> <span class=k>function</span> <span class=nf>supportSequences</span><span class=p>()</span><span class=o>:</span> <span class=nx>bool</span>
</code></pre></div> Check whether the database system requires a sequence to produce auto-numeric values</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-64-1 name=__codelineno-64-1 href=#__codelineno-64-1></a><span class=k>public</span> <span class=k>function</span> <span class=nf>tableExists</span><span class=p>(</span>
<a id=__codelineno-64-2 name=__codelineno-64-2 href=#__codelineno-64-2></a>    <span class=nx>string</span> <span class=nv>$tableName</span><span class=p>,</span> 
<a id=__codelineno-64-3 name=__codelineno-64-3 href=#__codelineno-64-3></a>    <span class=nx>string</span> <span class=nv>$schemaName</span> <span class=o>=</span> <span class=k>null</span>
<a id=__codelineno-64-4 name=__codelineno-64-4 href=#__codelineno-64-4></a><span class=p>)</span><span class=o>:</span> <span class=nx>bool</span>
</code></pre></div> Generates SQL checking for the existence of a <code>schema.table</code></p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-65-1 name=__codelineno-65-1 href=#__codelineno-65-1></a><span class=k>public</span> <span class=k>function</span> <span class=nf>tableOptions</span><span class=p>(</span>
<a id=__codelineno-65-2 name=__codelineno-65-2 href=#__codelineno-65-2></a>    <span class=nx>string</span> <span class=nv>$tableName</span><span class=p>,</span> 
<a id=__codelineno-65-3 name=__codelineno-65-3 href=#__codelineno-65-3></a>    <span class=nx>string</span> <span class=nv>$schemaName</span> <span class=o>=</span> <span class=k>null</span>
<a id=__codelineno-65-4 name=__codelineno-65-4 href=#__codelineno-65-4></a><span class=p>)</span><span class=o>:</span> <span class=k>array</span>
</code></pre></div> Gets creation options from a table</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-66-1 name=__codelineno-66-1 href=#__codelineno-66-1></a><span class=k>public</span> <span class=k>function</span> <span class=nf>update</span><span class=p>(</span>
<a id=__codelineno-66-2 name=__codelineno-66-2 href=#__codelineno-66-2></a>    <span class=nx>string</span> <span class=nv>$table</span><span class=p>,</span> 
<a id=__codelineno-66-3 name=__codelineno-66-3 href=#__codelineno-66-3></a>    <span class=nx>mixed</span> <span class=nv>$fields</span><span class=p>,</span> 
<a id=__codelineno-66-4 name=__codelineno-66-4 href=#__codelineno-66-4></a>    <span class=nx>mixed</span> <span class=nv>$values</span><span class=p>,</span> 
<a id=__codelineno-66-5 name=__codelineno-66-5 href=#__codelineno-66-5></a>    <span class=nx>mixed</span> <span class=nv>$whereCondition</span> <span class=o>=</span> <span class=k>null</span><span class=p>,</span> 
<a id=__codelineno-66-6 name=__codelineno-66-6 href=#__codelineno-66-6></a>    <span class=nx>mixed</span> <span class=nv>$dataTypes</span> <span class=o>=</span> <span class=k>null</span>
<a id=__codelineno-66-7 name=__codelineno-66-7 href=#__codelineno-66-7></a><span class=p>)</span><span class=o>:</span> <span class=nx>bool</span>
</code></pre></div> Updates data on a table using custom RDBMS SQL syntax</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-67-1 name=__codelineno-67-1 href=#__codelineno-67-1></a><span class=k>public</span> <span class=k>function</span> <span class=nf>updateAsDict</span><span class=p>(</span>
<a id=__codelineno-67-2 name=__codelineno-67-2 href=#__codelineno-67-2></a>    <span class=nx>string</span> <span class=nv>$table</span><span class=p>,</span> 
<a id=__codelineno-67-3 name=__codelineno-67-3 href=#__codelineno-67-3></a>    <span class=nx>mixed</span> <span class=nv>$data</span><span class=p>,</span> 
<a id=__codelineno-67-4 name=__codelineno-67-4 href=#__codelineno-67-4></a>    <span class=nx>mixed</span> <span class=nv>$whereCondition</span> <span class=o>=</span> <span class=k>null</span><span class=p>,</span> 
<a id=__codelineno-67-5 name=__codelineno-67-5 href=#__codelineno-67-5></a>    <span class=nx>mixed</span> <span class=nv>$dataTypes</span> <span class=o>=</span> <span class=k>null</span>
<a id=__codelineno-67-6 name=__codelineno-67-6 href=#__codelineno-67-6></a><span class=p>)</span><span class=o>:</span> <span class=nx>bool</span>
</code></pre></div> Updates data on a table using custom RBDM SQL syntax. Another more convenient syntax</p> <div class=highlight><pre><span></span><code><a id=__codelineno-68-1 name=__codelineno-68-1 href=#__codelineno-68-1></a><span class=nv>$success</span> <span class=o>=</span> <span class=nv>$connection</span><span class=o>-&gt;</span><span class=na>updateAsDict</span><span class=p>(</span>
<a id=__codelineno-68-2 name=__codelineno-68-2 href=#__codelineno-68-2></a>    <span class=s1>&#39;co_invoices&#39;</span><span class=p>,</span>
<a id=__codelineno-68-3 name=__codelineno-68-3 href=#__codelineno-68-3></a>    <span class=p>[</span>
<a id=__codelineno-68-4 name=__codelineno-68-4 href=#__codelineno-68-4></a>        <span class=s1>&#39;inv_title&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;Invoice for ACME Inc.&#39;</span><span class=p>,</span>
<a id=__codelineno-68-5 name=__codelineno-68-5 href=#__codelineno-68-5></a>    <span class=p>],</span>
<a id=__codelineno-68-6 name=__codelineno-68-6 href=#__codelineno-68-6></a>    <span class=s1>&#39;inv_id = 1&#39;</span>
<a id=__codelineno-68-7 name=__codelineno-68-7 href=#__codelineno-68-7></a><span class=p>)</span>
<a id=__codelineno-68-8 name=__codelineno-68-8 href=#__codelineno-68-8></a>
<a id=__codelineno-68-9 name=__codelineno-68-9 href=#__codelineno-68-9></a><span class=c1>// SQL</span>
<a id=__codelineno-68-10 name=__codelineno-68-10 href=#__codelineno-68-10></a><span class=c1>// UPDATE `co_invoices` </span>
<a id=__codelineno-68-11 name=__codelineno-68-11 href=#__codelineno-68-11></a><span class=c1>// SET    `inv_title` = &#39;Invoice for ACME Inc.&#39; </span>
<a id=__codelineno-68-12 name=__codelineno-68-12 href=#__codelineno-68-12></a><span class=c1>// WHERE   inv_id = 1</span>
</code></pre></div> <p><div class=highlight><pre><span></span><code><a id=__codelineno-69-1 name=__codelineno-69-1 href=#__codelineno-69-1></a><span class=k>public</span> <span class=k>function</span> <span class=nf>useExplicitIdValue</span><span class=p>()</span><span class=o>:</span> <span class=nx>bool</span>
</code></pre></div> Check whether the database system requires an explicit value for identity columns</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-70-1 name=__codelineno-70-1 href=#__codelineno-70-1></a><span class=k>public</span> <span class=k>function</span> <span class=nf>viewExists</span><span class=p>(</span>
<a id=__codelineno-70-2 name=__codelineno-70-2 href=#__codelineno-70-2></a>    <span class=nx>string</span> <span class=nv>$viewName</span><span class=p>,</span> 
<a id=__codelineno-70-3 name=__codelineno-70-3 href=#__codelineno-70-3></a>    <span class=nx>string</span> <span class=nv>$schemaName</span> <span class=o>=</span> <span class=k>null</span>
<a id=__codelineno-70-4 name=__codelineno-70-4 href=#__codelineno-70-4></a><span class=p>)</span><span class=o>:</span> <span class=nx>bool</span>
</code></pre></div> Generates SQL checking for the existence of a schema view</p> <h3 id=custom>Custom<a class=headerlink href=#custom title="Permanent link">&para;</a></h3> <p>The <a href=../api/phalcon_db/#dbadapteradapterinterface>Phalcon\Db\AdapterInterface</a> interface must be implemented to create your database adapters or extend the existing ones. Additionally, you can extend the <a href=../api/phalcon_db/#dbadapterabstractadapter>Phalcon\Db\AbstractAdapter</a> that already has some implementation for your custom adapter.</p> <h3 id=escaping>Escaping<a class=headerlink href=#escaping title="Permanent link">&para;</a></h3> <p>Escaping identifiers is enabled by default. However, if you need to disable this feature, you can do so using the <code>setup()</code> method:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-71-1 name=__codelineno-71-1 href=#__codelineno-71-1></a><span class=o>&lt;?</span><span class=nx>php</span>
<a id=__codelineno-71-2 name=__codelineno-71-2 href=#__codelineno-71-2></a>
<a id=__codelineno-71-3 name=__codelineno-71-3 href=#__codelineno-71-3></a><span class=nx>\Phalcon\Db</span><span class=o>::</span><span class=na>setup</span><span class=p>(</span>
<a id=__codelineno-71-4 name=__codelineno-71-4 href=#__codelineno-71-4></a>    <span class=p>[</span>
<a id=__codelineno-71-5 name=__codelineno-71-5 href=#__codelineno-71-5></a>        <span class=s1>&#39;escapeIdentifiers&#39;</span> <span class=o>=&gt;</span> <span class=k>false</span><span class=p>,</span>
<a id=__codelineno-71-6 name=__codelineno-71-6 href=#__codelineno-71-6></a>    <span class=p>]</span>
<a id=__codelineno-71-7 name=__codelineno-71-7 href=#__codelineno-71-7></a><span class=p>);</span>
</code></pre></div> <h2 id=factory>Factory<a class=headerlink href=#factory title="Permanent link">&para;</a></h2> <h3 id=newinstance><code>newInstance()</code><a class=headerlink href=#newinstance title="Permanent link">&para;</a></h3> <p>Although all adapter classes can be instantiated using the <code>new</code> keyword, Phalcon offers the <a href=../api/phalcon_db/#dbadapterpdofactory>Phalcon\Db\Adapter\PdoFactory</a> class, so that you can easily instantiate PDO adapter instances. All the above adapters are registered in the factory and lazy loaded when called. The factory allows you to register additional (custom) adapter classes. The only thing to consider is choosing the name of the adapter in comparison to the existing ones. If you define the same name, you will overwrite the built-in one. The objects are cached in the factory so if you call the <code>newInstance()</code> method with the same parameters during the same request, you will get the same object back.</p> <p>The reserved names are:</p> <table> <thead> <tr> <th>Name</th> <th>Adapter</th> </tr> </thead> <tbody> <tr> <td><code>mysql</code></td> <td><a href=../api/phalcon_db/#dbadapterpdomysql>Phalcon\Db\Adapter\Pdo\Mysql</a></td> </tr> <tr> <td><code>postgresql</code></td> <td><a href=../api/phalcon_db/#dbadapterpdopostgresql>Phalcon\Db\Adapter\Pdo\Postgresql</a></td> </tr> <tr> <td><code>sqlite</code></td> <td><a href=../api/phalcon_db/#dbadapterpdosqlite>Phalcon\Db\Adapter\Pdo\Sqlite</a></td> </tr> </tbody> </table> <p>The example below shows how you can create a MySQL adapter with the <code>new</code> keyword or the factory:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-72-1 name=__codelineno-72-1 href=#__codelineno-72-1></a><span class=o>&lt;?</span><span class=nx>php</span>
<a id=__codelineno-72-2 name=__codelineno-72-2 href=#__codelineno-72-2></a>
<a id=__codelineno-72-3 name=__codelineno-72-3 href=#__codelineno-72-3></a><span class=k>use</span> <span class=nx>Phalcon\Db\Adapter\Pdo\MySQL</span><span class=p>;</span>
<a id=__codelineno-72-4 name=__codelineno-72-4 href=#__codelineno-72-4></a>
<a id=__codelineno-72-5 name=__codelineno-72-5 href=#__codelineno-72-5></a><span class=nv>$connection</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>MySQL</span><span class=p>(</span>
<a id=__codelineno-72-6 name=__codelineno-72-6 href=#__codelineno-72-6></a>    <span class=p>[</span>
<a id=__codelineno-72-7 name=__codelineno-72-7 href=#__codelineno-72-7></a>        <span class=s1>&#39;host&#39;</span>     <span class=o>=&gt;</span> <span class=s1>&#39;localhost&#39;</span><span class=p>,</span>
<a id=__codelineno-72-8 name=__codelineno-72-8 href=#__codelineno-72-8></a>        <span class=s1>&#39;username&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;root&#39;</span><span class=p>,</span>
<a id=__codelineno-72-9 name=__codelineno-72-9 href=#__codelineno-72-9></a>        <span class=s1>&#39;password&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;&#39;</span><span class=p>,</span>
<a id=__codelineno-72-10 name=__codelineno-72-10 href=#__codelineno-72-10></a>        <span class=s1>&#39;dbname&#39;</span>   <span class=o>=&gt;</span> <span class=s1>&#39;test&#39;</span><span class=p>,</span>
<a id=__codelineno-72-11 name=__codelineno-72-11 href=#__codelineno-72-11></a>    <span class=p>]</span>
<a id=__codelineno-72-12 name=__codelineno-72-12 href=#__codelineno-72-12></a><span class=p>);</span>
</code></pre></div> <div class=highlight><pre><span></span><code><a id=__codelineno-73-1 name=__codelineno-73-1 href=#__codelineno-73-1></a><span class=o>&lt;?</span><span class=nx>php</span>
<a id=__codelineno-73-2 name=__codelineno-73-2 href=#__codelineno-73-2></a>
<a id=__codelineno-73-3 name=__codelineno-73-3 href=#__codelineno-73-3></a><span class=k>use</span> <span class=nx>Phalcon\Db\Adapter\PdoFactory</span><span class=p>;</span>
<a id=__codelineno-73-4 name=__codelineno-73-4 href=#__codelineno-73-4></a>
<a id=__codelineno-73-5 name=__codelineno-73-5 href=#__codelineno-73-5></a><span class=nv>$factory</span>    <span class=o>=</span> <span class=k>new</span> <span class=nx>PdoFactory</span><span class=p>();</span>
<a id=__codelineno-73-6 name=__codelineno-73-6 href=#__codelineno-73-6></a><span class=nv>$connection</span> <span class=o>=</span> <span class=nv>$factory</span>
<a id=__codelineno-73-7 name=__codelineno-73-7 href=#__codelineno-73-7></a>    <span class=o>-&gt;</span><span class=na>newInstance</span><span class=p>(</span>
<a id=__codelineno-73-8 name=__codelineno-73-8 href=#__codelineno-73-8></a>        <span class=s1>&#39;mysql&#39;</span><span class=p>,</span>
<a id=__codelineno-73-9 name=__codelineno-73-9 href=#__codelineno-73-9></a>        <span class=p>[</span>
<a id=__codelineno-73-10 name=__codelineno-73-10 href=#__codelineno-73-10></a>            <span class=s1>&#39;host&#39;</span>     <span class=o>=&gt;</span> <span class=s1>&#39;localhost&#39;</span><span class=p>,</span>
<a id=__codelineno-73-11 name=__codelineno-73-11 href=#__codelineno-73-11></a>            <span class=s1>&#39;username&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;root&#39;</span><span class=p>,</span>
<a id=__codelineno-73-12 name=__codelineno-73-12 href=#__codelineno-73-12></a>            <span class=s1>&#39;password&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;&#39;</span><span class=p>,</span>
<a id=__codelineno-73-13 name=__codelineno-73-13 href=#__codelineno-73-13></a>            <span class=s1>&#39;dbname&#39;</span>   <span class=o>=&gt;</span> <span class=s1>&#39;test&#39;</span><span class=p>,</span>
<a id=__codelineno-73-14 name=__codelineno-73-14 href=#__codelineno-73-14></a>        <span class=p>]</span>
<a id=__codelineno-73-15 name=__codelineno-73-15 href=#__codelineno-73-15></a>    <span class=p>)</span>
<a id=__codelineno-73-16 name=__codelineno-73-16 href=#__codelineno-73-16></a><span class=p>;</span>
</code></pre></div> <h3 id=load><code>load()</code><a class=headerlink href=#load title="Permanent link">&para;</a></h3> <p>You can also use the <code>load()</code> method to create an adapter using a configuration object or an array. The example below uses an <code>ini</code> file to instantiate the database connection using <code>load()</code>. The <code>load()</code> method accepts a <code>Phalcon\Config\Config</code> object or an array with two elements: the name of the adapter (<code>adapter</code>) and options for the adapter (<code>options</code>).</p> <div class=highlight><pre><span></span><code><a id=__codelineno-74-1 name=__codelineno-74-1 href=#__codelineno-74-1></a>[database]
<a id=__codelineno-74-2 name=__codelineno-74-2 href=#__codelineno-74-2></a>adapter = mysql
<a id=__codelineno-74-3 name=__codelineno-74-3 href=#__codelineno-74-3></a>options.host = DATA_MYSQL_HOST
<a id=__codelineno-74-4 name=__codelineno-74-4 href=#__codelineno-74-4></a>options.username = DATA_MYSQL_USER
<a id=__codelineno-74-5 name=__codelineno-74-5 href=#__codelineno-74-5></a>options.password = DATA_MYSQL_PASS
<a id=__codelineno-74-6 name=__codelineno-74-6 href=#__codelineno-74-6></a>options.dbname = DATA_MYSQL_NAME
<a id=__codelineno-74-7 name=__codelineno-74-7 href=#__codelineno-74-7></a>options.port = DATA_MYSQL_PORT
<a id=__codelineno-74-8 name=__codelineno-74-8 href=#__codelineno-74-8></a>options.charset = DATA_MYSQL_CHARSET
</code></pre></div> <div class=highlight><pre><span></span><code><a id=__codelineno-75-1 name=__codelineno-75-1 href=#__codelineno-75-1></a><span class=o>&lt;?</span><span class=nx>php</span>
<a id=__codelineno-75-2 name=__codelineno-75-2 href=#__codelineno-75-2></a>
<a id=__codelineno-75-3 name=__codelineno-75-3 href=#__codelineno-75-3></a><span class=k>use</span> <span class=nx>Phalcon\Config\Adapter\Ini</span><span class=p>;</span>
<a id=__codelineno-75-4 name=__codelineno-75-4 href=#__codelineno-75-4></a><span class=k>use</span> <span class=nx>Phalcon\Di\Di</span><span class=p>;</span>
<a id=__codelineno-75-5 name=__codelineno-75-5 href=#__codelineno-75-5></a><span class=k>use</span> <span class=nx>Phalcon\Db\Adapter\PdoFactory</span><span class=p>;</span>
<a id=__codelineno-75-6 name=__codelineno-75-6 href=#__codelineno-75-6></a>
<a id=__codelineno-75-7 name=__codelineno-75-7 href=#__codelineno-75-7></a><span class=nv>$container</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Di</span><span class=p>();</span>
<a id=__codelineno-75-8 name=__codelineno-75-8 href=#__codelineno-75-8></a>
<a id=__codelineno-75-9 name=__codelineno-75-9 href=#__codelineno-75-9></a><span class=nv>$config</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Ini</span><span class=p>(</span><span class=s1>&#39;config.ini&#39;</span><span class=p>);</span>
<a id=__codelineno-75-10 name=__codelineno-75-10 href=#__codelineno-75-10></a>
<a id=__codelineno-75-11 name=__codelineno-75-11 href=#__codelineno-75-11></a><span class=nv>$container</span><span class=o>-&gt;</span><span class=na>set</span><span class=p>(</span><span class=s1>&#39;config&#39;</span><span class=p>,</span> <span class=nv>$config</span><span class=p>);</span>
<a id=__codelineno-75-12 name=__codelineno-75-12 href=#__codelineno-75-12></a>
<a id=__codelineno-75-13 name=__codelineno-75-13 href=#__codelineno-75-13></a><span class=nv>$container</span><span class=o>-&gt;</span><span class=na>set</span><span class=p>(</span>
<a id=__codelineno-75-14 name=__codelineno-75-14 href=#__codelineno-75-14></a>    <span class=s1>&#39;db&#39;</span><span class=p>,</span> 
<a id=__codelineno-75-15 name=__codelineno-75-15 href=#__codelineno-75-15></a>    <span class=k>function</span> <span class=p>()</span> <span class=p>{</span>
<a id=__codelineno-75-16 name=__codelineno-75-16 href=#__codelineno-75-16></a>        <span class=k>return</span> <span class=p>(</span><span class=k>new</span> <span class=nx>PdoFactory</span><span class=p>())</span><span class=o>-&gt;</span><span class=na>load</span><span class=p>(</span><span class=nv>$this</span><span class=o>-&gt;</span><span class=na>config</span><span class=o>-&gt;</span><span class=na>database</span><span class=p>);</span>
<a id=__codelineno-75-17 name=__codelineno-75-17 href=#__codelineno-75-17></a>    <span class=p>}</span>
<a id=__codelineno-75-18 name=__codelineno-75-18 href=#__codelineno-75-18></a><span class=p>);</span>
</code></pre></div> <h2 id=dialects>Dialects<a class=headerlink href=#dialects title="Permanent link">&para;</a></h2> <h3 id=built-in>Built In<a class=headerlink href=#built-in title="Permanent link">&para;</a></h3> <p>Phalcon encapsulates the specific details of each database engine in dialects. <a href=../api/phalcon_db/#dbdialect>Phalcon\Db\Dialect</a> provides common functions and SQL generators to the adapters.</p> <table> <thead> <tr> <th>Class</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><a href=../api/phalcon_db/#dbdialectmysql>Phalcon\Db\Dialect\Mysql</a></td> <td>SQL specific dialect for MySQL database system</td> </tr> <tr> <td><a href=../api/phalcon_db/#dbdialectpostgresql>Phalcon\Db\Dialect\Postgresql</a></td> <td>SQL specific dialect for PostgreSQL database system</td> </tr> <tr> <td><a href=../api/phalcon_db/#dbdialectsqlite>Phalcon\Db\Dialect\Sqlite</a></td> <td>SQL specific dialect for SQLite database system</td> </tr> </tbody> </table> <h3 id=custom_1>Custom<a class=headerlink href=#custom_1 title="Permanent link">&para;</a></h3> <p>The <a href=../api/phalcon_db/#dbdialectinterface>Phalcon\Db\DialectInterface</a> interface must be implemented to create your database dialects or extend the existing ones. You can also enhance your current dialect by adding more commands/methods that PHQL will understand. For instance, when using the MySQL adapter, you might want to allow PHQL to recognize the <code>MATCH ... AGAINST ...</code> syntax. We associate that syntax with <code>MATCH_AGAINST</code></p> <p>We instantiate the dialect. We add the custom function so that PHQL understands what to do when it finds it during the parsing process. In the example below, we register a new custom function called <code>MATCH_AGAINST</code>. After that, all we have to do is add the customized dialect object to our connection.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-76-1 name=__codelineno-76-1 href=#__codelineno-76-1></a><span class=o>&lt;?</span><span class=nx>php</span>
<a id=__codelineno-76-2 name=__codelineno-76-2 href=#__codelineno-76-2></a>
<a id=__codelineno-76-3 name=__codelineno-76-3 href=#__codelineno-76-3></a><span class=k>use</span> <span class=nx>Phalcon\Db\Dialect\MySQL</span> <span class=k>as</span> <span class=nx>SqlDialect</span><span class=p>;</span>
<a id=__codelineno-76-4 name=__codelineno-76-4 href=#__codelineno-76-4></a><span class=k>use</span> <span class=nx>Phalcon\Db\Adapter\Pdo\MySQL</span> <span class=k>as</span> <span class=nx>Connection</span><span class=p>;</span>
<a id=__codelineno-76-5 name=__codelineno-76-5 href=#__codelineno-76-5></a>
<a id=__codelineno-76-6 name=__codelineno-76-6 href=#__codelineno-76-6></a><span class=nv>$dialect</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>SqlDialect</span><span class=p>();</span>
<a id=__codelineno-76-7 name=__codelineno-76-7 href=#__codelineno-76-7></a>
<a id=__codelineno-76-8 name=__codelineno-76-8 href=#__codelineno-76-8></a><span class=nv>$dialect</span><span class=o>-&gt;</span><span class=na>registerCustomFunction</span><span class=p>(</span>
<a id=__codelineno-76-9 name=__codelineno-76-9 href=#__codelineno-76-9></a>    <span class=s1>&#39;MATCH_AGAINST&#39;</span><span class=p>,</span>
<a id=__codelineno-76-10 name=__codelineno-76-10 href=#__codelineno-76-10></a>    <span class=k>function</span> <span class=p>(</span><span class=nv>$dialect</span><span class=p>,</span> <span class=nv>$expression</span><span class=p>)</span> <span class=p>{</span>
<a id=__codelineno-76-11 name=__codelineno-76-11 href=#__codelineno-76-11></a>        <span class=nv>$arguments</span> <span class=o>=</span> <span class=nv>$expression</span><span class=p>[</span><span class=s1>&#39;arguments&#39;</span><span class=p>];</span>
<a id=__codelineno-76-12 name=__codelineno-76-12 href=#__codelineno-76-12></a>        <span class=k>return</span> <span class=nb>sprintf</span><span class=p>(</span>
<a id=__codelineno-76-13 name=__codelineno-76-13 href=#__codelineno-76-13></a>            <span class=s1>&#39; MATCH (%s) AGAINST (%s)&#39;</span><span class=p>,</span>
<a id=__codelineno-76-14 name=__codelineno-76-14 href=#__codelineno-76-14></a>            <span class=nv>$dialect</span><span class=o>-&gt;</span><span class=na>getSqlExpression</span><span class=p>(</span><span class=nv>$arguments</span><span class=p>[</span><span class=mi>0</span><span class=p>]),</span>
<a id=__codelineno-76-15 name=__codelineno-76-15 href=#__codelineno-76-15></a>            <span class=nv>$dialect</span><span class=o>-&gt;</span><span class=na>getSqlExpression</span><span class=p>(</span><span class=nv>$arguments</span><span class=p>[</span><span class=mi>1</span><span class=p>])</span>
<a id=__codelineno-76-16 name=__codelineno-76-16 href=#__codelineno-76-16></a>         <span class=p>);</span>
<a id=__codelineno-76-17 name=__codelineno-76-17 href=#__codelineno-76-17></a>    <span class=p>}</span>
<a id=__codelineno-76-18 name=__codelineno-76-18 href=#__codelineno-76-18></a><span class=p>);</span>
<a id=__codelineno-76-19 name=__codelineno-76-19 href=#__codelineno-76-19></a>
<a id=__codelineno-76-20 name=__codelineno-76-20 href=#__codelineno-76-20></a><span class=nv>$connection</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Connection</span><span class=p>(</span>
<a id=__codelineno-76-21 name=__codelineno-76-21 href=#__codelineno-76-21></a>    <span class=p>[</span>
<a id=__codelineno-76-22 name=__codelineno-76-22 href=#__codelineno-76-22></a>        <span class=s1>&#39;host&#39;</span>          <span class=o>=&gt;</span> <span class=s1>&#39;localhost&#39;</span><span class=p>,</span>
<a id=__codelineno-76-23 name=__codelineno-76-23 href=#__codelineno-76-23></a>        <span class=s1>&#39;username&#39;</span>      <span class=o>=&gt;</span> <span class=s1>&#39;root&#39;</span><span class=p>,</span>
<a id=__codelineno-76-24 name=__codelineno-76-24 href=#__codelineno-76-24></a>        <span class=s1>&#39;password&#39;</span>      <span class=o>=&gt;</span> <span class=s1>&#39;&#39;</span><span class=p>,</span>
<a id=__codelineno-76-25 name=__codelineno-76-25 href=#__codelineno-76-25></a>        <span class=s1>&#39;dbname&#39;</span>        <span class=o>=&gt;</span> <span class=s1>&#39;test&#39;</span><span class=p>,</span>
<a id=__codelineno-76-26 name=__codelineno-76-26 href=#__codelineno-76-26></a>        <span class=s1>&#39;dialectClass&#39;</span>  <span class=o>=&gt;</span> <span class=nv>$dialect</span><span class=p>,</span>
<a id=__codelineno-76-27 name=__codelineno-76-27 href=#__codelineno-76-27></a>    <span class=p>]</span>
<a id=__codelineno-76-28 name=__codelineno-76-28 href=#__codelineno-76-28></a><span class=p>);</span>
</code></pre></div> <p>We can now use this new function in PHQL, which in turn will translate it to the proper SQL syntax:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-77-1 name=__codelineno-77-1 href=#__codelineno-77-1></a><span class=o>&lt;?</span><span class=nx>php</span>
<a id=__codelineno-77-2 name=__codelineno-77-2 href=#__codelineno-77-2></a>
<a id=__codelineno-77-3 name=__codelineno-77-3 href=#__codelineno-77-3></a><span class=nv>$phql</span> <span class=o>=</span> <span class=s1>&#39;</span>
<a id=__codelineno-77-4 name=__codelineno-77-4 href=#__codelineno-77-4></a><span class=s1>  SELECT *</span>
<a id=__codelineno-77-5 name=__codelineno-77-5 href=#__codelineno-77-5></a><span class=s1>  FROM   Invoices</span>
<a id=__codelineno-77-6 name=__codelineno-77-6 href=#__codelineno-77-6></a><span class=s1>  WHERE  MATCH_AGAINST(title, :pattern:)&#39;</span><span class=p>;</span>
<a id=__codelineno-77-7 name=__codelineno-77-7 href=#__codelineno-77-7></a>
<a id=__codelineno-77-8 name=__codelineno-77-8 href=#__codelineno-77-8></a><span class=nv>$posts</span> <span class=o>=</span> <span class=nv>$modelsManager</span><span class=o>-&gt;</span><span class=na>executeQuery</span><span class=p>(</span>
<a id=__codelineno-77-9 name=__codelineno-77-9 href=#__codelineno-77-9></a>    <span class=nv>$phql</span><span class=p>,</span>
<a id=__codelineno-77-10 name=__codelineno-77-10 href=#__codelineno-77-10></a>    <span class=p>[</span>
<a id=__codelineno-77-11 name=__codelineno-77-11 href=#__codelineno-77-11></a>        <span class=s1>&#39;pattern&#39;</span> <span class=o>=&gt;</span> <span class=nv>$pattern</span><span class=p>,</span>
<a id=__codelineno-77-12 name=__codelineno-77-12 href=#__codelineno-77-12></a>    <span class=p>]</span>
<a id=__codelineno-77-13 name=__codelineno-77-13 href=#__codelineno-77-13></a><span class=p>);</span>
</code></pre></div> <div class="admonition info"> <p class=admonition-title>NOTE</p> <p>There are more examples of how to extend PHQL in the <a href=../db-phql/ >PHQL</a> document.</p> </div> <h2 id=connect>Connect<a class=headerlink href=#connect title="Permanent link">&para;</a></h2> <p>To create a connection it's necessary to instantiate the adapter class. It only requires an array with the connection parameters. The example below shows how to create a connection passing both required and optional parameters:</p> <table> <thead> <tr> <th>Adapter</th> <th>Parameter</th> <th>Status</th> </tr> </thead> <tbody> <tr> <td><code>MySQL</code></td> <td><code>host</code></td> <td>required</td> </tr> <tr> <td></td> <td><code>username</code></td> <td>required</td> </tr> <tr> <td></td> <td><code>password</code></td> <td>required</td> </tr> <tr> <td></td> <td><code>dbname</code></td> <td>required</td> </tr> <tr> <td></td> <td><code>persistent</code></td> <td>optional</td> </tr> <tr> <td><code>PostgreSQL</code></td> <td><code>host</code></td> <td>required</td> </tr> <tr> <td></td> <td><code>username</code></td> <td>required</td> </tr> <tr> <td></td> <td><code>password</code></td> <td>required</td> </tr> <tr> <td></td> <td><code>dbname</code></td> <td>required</td> </tr> <tr> <td></td> <td><code>schema</code></td> <td>optional</td> </tr> <tr> <td><code>Sqlite</code></td> <td><code>dbname</code></td> <td>required</td> </tr> </tbody> </table> <p>Connecting to each adapter can be achieved by either the factory as demonstrated above or by passing the relevant options to the constructor of each class.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-78-1 name=__codelineno-78-1 href=#__codelineno-78-1></a><span class=o>&lt;?</span><span class=nx>php</span>
<a id=__codelineno-78-2 name=__codelineno-78-2 href=#__codelineno-78-2></a>
<a id=__codelineno-78-3 name=__codelineno-78-3 href=#__codelineno-78-3></a><span class=k>use</span> <span class=nx>Phalcon\Db\Adapter\Pdo\Mysql</span><span class=p>;</span>
<a id=__codelineno-78-4 name=__codelineno-78-4 href=#__codelineno-78-4></a><span class=k>use</span> <span class=nx>Phalcon\Db\Adapter\Pdo\Postgresql</span><span class=p>;</span>
<a id=__codelineno-78-5 name=__codelineno-78-5 href=#__codelineno-78-5></a><span class=k>use</span> <span class=nx>Phalcon\Db\Adapter\Pdo\Sqlite</span><span class=p>;</span>
<a id=__codelineno-78-6 name=__codelineno-78-6 href=#__codelineno-78-6></a>
<a id=__codelineno-78-7 name=__codelineno-78-7 href=#__codelineno-78-7></a><span class=nv>$config</span> <span class=o>=</span> <span class=p>[</span>
<a id=__codelineno-78-8 name=__codelineno-78-8 href=#__codelineno-78-8></a>    <span class=s1>&#39;host&#39;</span>     <span class=o>=&gt;</span> <span class=s1>&#39;127.0.0.1&#39;</span><span class=p>,</span>
<a id=__codelineno-78-9 name=__codelineno-78-9 href=#__codelineno-78-9></a>    <span class=s1>&#39;username&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;mike&#39;</span><span class=p>,</span>
<a id=__codelineno-78-10 name=__codelineno-78-10 href=#__codelineno-78-10></a>    <span class=s1>&#39;password&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;sigma&#39;</span><span class=p>,</span>
<a id=__codelineno-78-11 name=__codelineno-78-11 href=#__codelineno-78-11></a>    <span class=s1>&#39;dbname&#39;</span>   <span class=o>=&gt;</span> <span class=s1>&#39;test_db&#39;</span><span class=p>,</span>
<a id=__codelineno-78-12 name=__codelineno-78-12 href=#__codelineno-78-12></a><span class=p>];</span>
<a id=__codelineno-78-13 name=__codelineno-78-13 href=#__codelineno-78-13></a>
<a id=__codelineno-78-14 name=__codelineno-78-14 href=#__codelineno-78-14></a><span class=nv>$connection</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Mysql</span><span class=p>(</span><span class=nv>$config</span><span class=p>);</span>
<a id=__codelineno-78-15 name=__codelineno-78-15 href=#__codelineno-78-15></a>
<a id=__codelineno-78-16 name=__codelineno-78-16 href=#__codelineno-78-16></a><span class=nv>$config</span> <span class=o>=</span> <span class=p>[</span>
<a id=__codelineno-78-17 name=__codelineno-78-17 href=#__codelineno-78-17></a>    <span class=s1>&#39;host&#39;</span>     <span class=o>=&gt;</span> <span class=s1>&#39;localhost&#39;</span><span class=p>,</span>
<a id=__codelineno-78-18 name=__codelineno-78-18 href=#__codelineno-78-18></a>    <span class=s1>&#39;username&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;postgres&#39;</span><span class=p>,</span>
<a id=__codelineno-78-19 name=__codelineno-78-19 href=#__codelineno-78-19></a>    <span class=s1>&#39;password&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;secret1&#39;</span><span class=p>,</span>
<a id=__codelineno-78-20 name=__codelineno-78-20 href=#__codelineno-78-20></a>    <span class=s1>&#39;dbname&#39;</span>   <span class=o>=&gt;</span> <span class=s1>&#39;template&#39;</span><span class=p>,</span>
<a id=__codelineno-78-21 name=__codelineno-78-21 href=#__codelineno-78-21></a><span class=p>];</span>
<a id=__codelineno-78-22 name=__codelineno-78-22 href=#__codelineno-78-22></a>
<a id=__codelineno-78-23 name=__codelineno-78-23 href=#__codelineno-78-23></a><span class=nv>$connection</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Postgresql</span><span class=p>(</span><span class=nv>$config</span><span class=p>);</span>
<a id=__codelineno-78-24 name=__codelineno-78-24 href=#__codelineno-78-24></a>
<a id=__codelineno-78-25 name=__codelineno-78-25 href=#__codelineno-78-25></a><span class=nv>$config</span> <span class=o>=</span> <span class=p>[</span>
<a id=__codelineno-78-26 name=__codelineno-78-26 href=#__codelineno-78-26></a>    <span class=s1>&#39;dbname&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;/path/to/database.db&#39;</span><span class=p>,</span>
<a id=__codelineno-78-27 name=__codelineno-78-27 href=#__codelineno-78-27></a><span class=p>];</span>
<a id=__codelineno-78-28 name=__codelineno-78-28 href=#__codelineno-78-28></a><span class=nv>$connection</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Sqlite</span><span class=p>(</span><span class=nv>$config</span><span class=p>);</span>
</code></pre></div> <p><strong>Additional PDO options</strong></p> <p>You can set PDO options at connection time by passing the parameters <code>options</code>:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-79-1 name=__codelineno-79-1 href=#__codelineno-79-1></a><span class=o>&lt;?</span><span class=nx>php</span>
<a id=__codelineno-79-2 name=__codelineno-79-2 href=#__codelineno-79-2></a>
<a id=__codelineno-79-3 name=__codelineno-79-3 href=#__codelineno-79-3></a><span class=k>use</span> <span class=nx>Phalcon\Db\Adapter\Pdo\Mysql</span><span class=p>;</span>
<a id=__codelineno-79-4 name=__codelineno-79-4 href=#__codelineno-79-4></a>
<a id=__codelineno-79-5 name=__codelineno-79-5 href=#__codelineno-79-5></a><span class=nv>$connection</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Mysql</span><span class=p>(</span>
<a id=__codelineno-79-6 name=__codelineno-79-6 href=#__codelineno-79-6></a>    <span class=p>[</span>
<a id=__codelineno-79-7 name=__codelineno-79-7 href=#__codelineno-79-7></a>        <span class=s1>&#39;host&#39;</span>     <span class=o>=&gt;</span> <span class=s1>&#39;localhost&#39;</span><span class=p>,</span>
<a id=__codelineno-79-8 name=__codelineno-79-8 href=#__codelineno-79-8></a>        <span class=s1>&#39;username&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;root&#39;</span><span class=p>,</span>
<a id=__codelineno-79-9 name=__codelineno-79-9 href=#__codelineno-79-9></a>        <span class=s1>&#39;password&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;sigma&#39;</span><span class=p>,</span>
<a id=__codelineno-79-10 name=__codelineno-79-10 href=#__codelineno-79-10></a>        <span class=s1>&#39;dbname&#39;</span>   <span class=o>=&gt;</span> <span class=s1>&#39;test_db&#39;</span><span class=p>,</span>
<a id=__codelineno-79-11 name=__codelineno-79-11 href=#__codelineno-79-11></a>        <span class=s1>&#39;options&#39;</span>  <span class=o>=&gt;</span> <span class=p>[</span>
<a id=__codelineno-79-12 name=__codelineno-79-12 href=#__codelineno-79-12></a>            <span class=nx>PDO</span><span class=o>::</span><span class=na>MYSQL_ATTR_INIT_COMMAND</span> <span class=o>=&gt;</span> <span class=s2>&quot;SET NAMES &#39;UTF8&#39;&quot;</span><span class=p>,</span>
<a id=__codelineno-79-13 name=__codelineno-79-13 href=#__codelineno-79-13></a>            <span class=nx>PDO</span><span class=o>::</span><span class=na>ATTR_CASE</span>               <span class=o>=&gt;</span> <span class=nx>PDO</span><span class=o>::</span><span class=na>CASE_LOWER</span><span class=p>,</span>
<a id=__codelineno-79-14 name=__codelineno-79-14 href=#__codelineno-79-14></a>        <span class=p>]</span>
<a id=__codelineno-79-15 name=__codelineno-79-15 href=#__codelineno-79-15></a>    <span class=p>]</span>
<a id=__codelineno-79-16 name=__codelineno-79-16 href=#__codelineno-79-16></a><span class=p>);</span>
</code></pre></div> <h2 id=create>Create<a class=headerlink href=#create title="Permanent link">&para;</a></h2> <p>To insert a row in the database, you can use raw SQL or use the methods presented by the adapter:</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-80-1 name=__codelineno-80-1 href=#__codelineno-80-1></a><span class=o>&lt;?</span><span class=nx>php</span>
<a id=__codelineno-80-2 name=__codelineno-80-2 href=#__codelineno-80-2></a>
<a id=__codelineno-80-3 name=__codelineno-80-3 href=#__codelineno-80-3></a><span class=nv>$sql</span>     <span class=o>=</span> <span class=s2>&quot;</span>
<a id=__codelineno-80-4 name=__codelineno-80-4 href=#__codelineno-80-4></a><span class=s2>INSERT INTO `co_invoices` </span>
<a id=__codelineno-80-5 name=__codelineno-80-5 href=#__codelineno-80-5></a><span class=s2>    ( `inv_cst_id`, `inv_title` ) </span>
<a id=__codelineno-80-6 name=__codelineno-80-6 href=#__codelineno-80-6></a><span class=s2>VALUES </span>
<a id=__codelineno-80-7 name=__codelineno-80-7 href=#__codelineno-80-7></a><span class=s2>    ( 1, &#39;Invoice for ACME Inc.&#39; )</span>
<a id=__codelineno-80-8 name=__codelineno-80-8 href=#__codelineno-80-8></a><span class=s2>&quot;</span><span class=p>;</span>
<a id=__codelineno-80-9 name=__codelineno-80-9 href=#__codelineno-80-9></a><span class=nv>$success</span> <span class=o>=</span> <span class=nv>$connection</span><span class=o>-&gt;</span><span class=na>execute</span><span class=p>(</span><span class=nv>$sql</span><span class=p>);</span>
</code></pre></div> Raw SQL</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-81-1 name=__codelineno-81-1 href=#__codelineno-81-1></a><span class=o>&lt;?</span><span class=nx>php</span>
<a id=__codelineno-81-2 name=__codelineno-81-2 href=#__codelineno-81-2></a>
<a id=__codelineno-81-3 name=__codelineno-81-3 href=#__codelineno-81-3></a><span class=nv>$sql</span>     <span class=o>=</span> <span class=s1>&#39;</span>
<a id=__codelineno-81-4 name=__codelineno-81-4 href=#__codelineno-81-4></a><span class=s1>INSERT INTO `co_invoices` </span>
<a id=__codelineno-81-5 name=__codelineno-81-5 href=#__codelineno-81-5></a><span class=s1>    ( `inv_cst_id`, `inv_title` ) </span>
<a id=__codelineno-81-6 name=__codelineno-81-6 href=#__codelineno-81-6></a><span class=s1>VALUES </span>
<a id=__codelineno-81-7 name=__codelineno-81-7 href=#__codelineno-81-7></a><span class=s1>    ( ?, ? )</span>
<a id=__codelineno-81-8 name=__codelineno-81-8 href=#__codelineno-81-8></a><span class=s1>&#39;</span><span class=p>;</span>
<a id=__codelineno-81-9 name=__codelineno-81-9 href=#__codelineno-81-9></a><span class=nv>$success</span> <span class=o>=</span> <span class=nv>$connection</span><span class=o>-&gt;</span><span class=na>execute</span><span class=p>(</span>
<a id=__codelineno-81-10 name=__codelineno-81-10 href=#__codelineno-81-10></a>    <span class=nv>$sql</span><span class=p>,</span>
<a id=__codelineno-81-11 name=__codelineno-81-11 href=#__codelineno-81-11></a>    <span class=p>[</span>
<a id=__codelineno-81-12 name=__codelineno-81-12 href=#__codelineno-81-12></a>        <span class=mi>1</span><span class=p>,</span>
<a id=__codelineno-81-13 name=__codelineno-81-13 href=#__codelineno-81-13></a>        <span class=s1>&#39;Invoice for ACME Inc.&#39;</span><span class=p>,</span>
<a id=__codelineno-81-14 name=__codelineno-81-14 href=#__codelineno-81-14></a>    <span class=p>]</span>
<a id=__codelineno-81-15 name=__codelineno-81-15 href=#__codelineno-81-15></a><span class=p>);</span>
</code></pre></div> Placeholders</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-82-1 name=__codelineno-82-1 href=#__codelineno-82-1></a><span class=o>&lt;?</span><span class=nx>php</span>
<a id=__codelineno-82-2 name=__codelineno-82-2 href=#__codelineno-82-2></a>
<a id=__codelineno-82-3 name=__codelineno-82-3 href=#__codelineno-82-3></a><span class=nv>$success</span> <span class=o>=</span> <span class=nv>$connection</span><span class=o>-&gt;</span><span class=na>insert</span><span class=p>(</span>
<a id=__codelineno-82-4 name=__codelineno-82-4 href=#__codelineno-82-4></a>    <span class=s1>&#39;co_invoices&#39;</span><span class=p>,</span>
<a id=__codelineno-82-5 name=__codelineno-82-5 href=#__codelineno-82-5></a>    <span class=p>[</span>
<a id=__codelineno-82-6 name=__codelineno-82-6 href=#__codelineno-82-6></a>        <span class=mi>1</span><span class=p>,</span>
<a id=__codelineno-82-7 name=__codelineno-82-7 href=#__codelineno-82-7></a>        <span class=s1>&#39;Invoice for ACME Inc.&#39;</span><span class=p>,</span>
<a id=__codelineno-82-8 name=__codelineno-82-8 href=#__codelineno-82-8></a>    <span class=p>],</span>
<a id=__codelineno-82-9 name=__codelineno-82-9 href=#__codelineno-82-9></a>    <span class=p>[</span>
<a id=__codelineno-82-10 name=__codelineno-82-10 href=#__codelineno-82-10></a>        <span class=s1>&#39;inv_cst_id&#39;</span><span class=p>,</span>
<a id=__codelineno-82-11 name=__codelineno-82-11 href=#__codelineno-82-11></a>        <span class=s1>&#39;inv_title&#39;</span><span class=p>,</span> 
<a id=__codelineno-82-12 name=__codelineno-82-12 href=#__codelineno-82-12></a>    <span class=p>]</span>
<a id=__codelineno-82-13 name=__codelineno-82-13 href=#__codelineno-82-13></a><span class=p>);</span>
</code></pre></div> Dynamic generation</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-83-1 name=__codelineno-83-1 href=#__codelineno-83-1></a><span class=o>&lt;?</span><span class=nx>php</span>
<a id=__codelineno-83-2 name=__codelineno-83-2 href=#__codelineno-83-2></a>
<a id=__codelineno-83-3 name=__codelineno-83-3 href=#__codelineno-83-3></a><span class=nv>$success</span> <span class=o>=</span> <span class=nv>$connection</span><span class=o>-&gt;</span><span class=na>insertAsDict</span><span class=p>(</span>
<a id=__codelineno-83-4 name=__codelineno-83-4 href=#__codelineno-83-4></a>    <span class=s1>&#39;co_invoices&#39;</span><span class=p>,</span>
<a id=__codelineno-83-5 name=__codelineno-83-5 href=#__codelineno-83-5></a>    <span class=p>[</span>
<a id=__codelineno-83-6 name=__codelineno-83-6 href=#__codelineno-83-6></a>        <span class=s1>&#39;inv_cst_id&#39;</span> <span class=o>=&gt;</span> <span class=mi>1</span><span class=p>,</span>
<a id=__codelineno-83-7 name=__codelineno-83-7 href=#__codelineno-83-7></a>        <span class=s1>&#39;inv_title&#39;</span>  <span class=o>=&gt;</span> <span class=s1>&#39;Invoice for ACME Inc.&#39;</span><span class=p>,</span>
<a id=__codelineno-83-8 name=__codelineno-83-8 href=#__codelineno-83-8></a>    <span class=p>]</span>
<a id=__codelineno-83-9 name=__codelineno-83-9 href=#__codelineno-83-9></a><span class=p>);</span>
</code></pre></div> Dynamic generation (alternative syntax)</p> <h2 id=update>Update<a class=headerlink href=#update title="Permanent link">&para;</a></h2> <p>To update a row in the database, you can use raw SQL or use the methods presented by the adapter:</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-84-1 name=__codelineno-84-1 href=#__codelineno-84-1></a><span class=o>&lt;?</span><span class=nx>php</span>
<a id=__codelineno-84-2 name=__codelineno-84-2 href=#__codelineno-84-2></a>
<a id=__codelineno-84-3 name=__codelineno-84-3 href=#__codelineno-84-3></a><span class=nv>$sql</span>     <span class=o>=</span> <span class=s2>&quot;</span>
<a id=__codelineno-84-4 name=__codelineno-84-4 href=#__codelineno-84-4></a><span class=s2>UPDATE </span>
<a id=__codelineno-84-5 name=__codelineno-84-5 href=#__codelineno-84-5></a><span class=s2>    `co_invoices` </span>
<a id=__codelineno-84-6 name=__codelineno-84-6 href=#__codelineno-84-6></a><span class=s2>SET </span>
<a id=__codelineno-84-7 name=__codelineno-84-7 href=#__codelineno-84-7></a><span class=s2>    `inv_cst_id`= 1, </span>
<a id=__codelineno-84-8 name=__codelineno-84-8 href=#__codelineno-84-8></a><span class=s2>    `inv_title` = &#39;Invoice for ACME Inc.&#39;</span>
<a id=__codelineno-84-9 name=__codelineno-84-9 href=#__codelineno-84-9></a><span class=s2>WHERE</span>
<a id=__codelineno-84-10 name=__codelineno-84-10 href=#__codelineno-84-10></a><span class=s2>    `inv_id` = 4</span>
<a id=__codelineno-84-11 name=__codelineno-84-11 href=#__codelineno-84-11></a><span class=s2>&quot;</span><span class=p>;</span>
<a id=__codelineno-84-12 name=__codelineno-84-12 href=#__codelineno-84-12></a><span class=nv>$success</span> <span class=o>=</span> <span class=nv>$connection</span><span class=o>-&gt;</span><span class=na>execute</span><span class=p>(</span><span class=nv>$sql</span><span class=p>);</span>
</code></pre></div> Raw SQL</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-85-1 name=__codelineno-85-1 href=#__codelineno-85-1></a><span class=o>&lt;?</span><span class=nx>php</span>
<a id=__codelineno-85-2 name=__codelineno-85-2 href=#__codelineno-85-2></a>
<a id=__codelineno-85-3 name=__codelineno-85-3 href=#__codelineno-85-3></a><span class=nv>$sql</span>     <span class=o>=</span> <span class=s2>&quot;</span>
<a id=__codelineno-85-4 name=__codelineno-85-4 href=#__codelineno-85-4></a><span class=s2>UPDATE </span>
<a id=__codelineno-85-5 name=__codelineno-85-5 href=#__codelineno-85-5></a><span class=s2>    `co_invoices` </span>
<a id=__codelineno-85-6 name=__codelineno-85-6 href=#__codelineno-85-6></a><span class=s2>SET </span>
<a id=__codelineno-85-7 name=__codelineno-85-7 href=#__codelineno-85-7></a><span class=s2>    `inv_cst_id`= ?, </span>
<a id=__codelineno-85-8 name=__codelineno-85-8 href=#__codelineno-85-8></a><span class=s2>    `inv_title` = ?</span>
<a id=__codelineno-85-9 name=__codelineno-85-9 href=#__codelineno-85-9></a><span class=s2>WHERE</span>
<a id=__codelineno-85-10 name=__codelineno-85-10 href=#__codelineno-85-10></a><span class=s2>    `inv_id` = ?</span>
<a id=__codelineno-85-11 name=__codelineno-85-11 href=#__codelineno-85-11></a><span class=s2>&quot;</span><span class=p>;</span>
<a id=__codelineno-85-12 name=__codelineno-85-12 href=#__codelineno-85-12></a><span class=nv>$success</span> <span class=o>=</span> <span class=nv>$connection</span><span class=o>-&gt;</span><span class=na>execute</span><span class=p>(</span>
<a id=__codelineno-85-13 name=__codelineno-85-13 href=#__codelineno-85-13></a>    <span class=nv>$sql</span><span class=p>,</span>
<a id=__codelineno-85-14 name=__codelineno-85-14 href=#__codelineno-85-14></a>    <span class=p>[</span>
<a id=__codelineno-85-15 name=__codelineno-85-15 href=#__codelineno-85-15></a>        <span class=mi>1</span><span class=p>,</span>
<a id=__codelineno-85-16 name=__codelineno-85-16 href=#__codelineno-85-16></a>        <span class=s1>&#39;Invoice for ACME Inc.&#39;</span><span class=p>,</span>
<a id=__codelineno-85-17 name=__codelineno-85-17 href=#__codelineno-85-17></a>        <span class=mi>4</span><span class=p>,</span>
<a id=__codelineno-85-18 name=__codelineno-85-18 href=#__codelineno-85-18></a>    <span class=p>]</span>
<a id=__codelineno-85-19 name=__codelineno-85-19 href=#__codelineno-85-19></a><span class=p>);</span>
</code></pre></div> Placeholders</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-86-1 name=__codelineno-86-1 href=#__codelineno-86-1></a><span class=o>&lt;?</span><span class=nx>php</span>
<a id=__codelineno-86-2 name=__codelineno-86-2 href=#__codelineno-86-2></a>
<a id=__codelineno-86-3 name=__codelineno-86-3 href=#__codelineno-86-3></a><span class=nv>$success</span> <span class=o>=</span> <span class=nv>$connection</span><span class=o>-&gt;</span><span class=na>update</span><span class=p>(</span>
<a id=__codelineno-86-4 name=__codelineno-86-4 href=#__codelineno-86-4></a>    <span class=s1>&#39;co_invoices&#39;</span><span class=p>,</span>
<a id=__codelineno-86-5 name=__codelineno-86-5 href=#__codelineno-86-5></a>    <span class=p>[</span>
<a id=__codelineno-86-6 name=__codelineno-86-6 href=#__codelineno-86-6></a>        <span class=s1>&#39;inv_cst_id&#39;</span><span class=p>,</span>
<a id=__codelineno-86-7 name=__codelineno-86-7 href=#__codelineno-86-7></a>        <span class=s1>&#39;inv_title&#39;</span><span class=p>,</span>
<a id=__codelineno-86-8 name=__codelineno-86-8 href=#__codelineno-86-8></a>    <span class=p>],</span>
<a id=__codelineno-86-9 name=__codelineno-86-9 href=#__codelineno-86-9></a>    <span class=p>[</span>
<a id=__codelineno-86-10 name=__codelineno-86-10 href=#__codelineno-86-10></a>        <span class=mi>1</span><span class=p>,</span>
<a id=__codelineno-86-11 name=__codelineno-86-11 href=#__codelineno-86-11></a>        <span class=s1>&#39;Invoice for ACME Inc.&#39;</span><span class=p>,</span>
<a id=__codelineno-86-12 name=__codelineno-86-12 href=#__codelineno-86-12></a>    <span class=p>],</span>
<a id=__codelineno-86-13 name=__codelineno-86-13 href=#__codelineno-86-13></a>    <span class=s1>&#39;inv_id = 4&#39;</span>
<a id=__codelineno-86-14 name=__codelineno-86-14 href=#__codelineno-86-14></a><span class=p>);</span>
</code></pre></div> Dynamic generation</p> <div class="admonition danger"> <p class=admonition-title>NOTE</p> <p>With the syntax above, the variables for the <code>where</code> part of the <code>update</code> (<code>inv_id = 4</code>) are not escaped!</p> </div> <p><div class=highlight><pre><span></span><code><a id=__codelineno-87-1 name=__codelineno-87-1 href=#__codelineno-87-1></a><span class=o>&lt;?</span><span class=nx>php</span>
<a id=__codelineno-87-2 name=__codelineno-87-2 href=#__codelineno-87-2></a>
<a id=__codelineno-87-3 name=__codelineno-87-3 href=#__codelineno-87-3></a><span class=nv>$success</span> <span class=o>=</span> <span class=nv>$connection</span><span class=o>-&gt;</span><span class=na>updateAsDict</span><span class=p>(</span>
<a id=__codelineno-87-4 name=__codelineno-87-4 href=#__codelineno-87-4></a>    <span class=s1>&#39;co_invoices&#39;</span><span class=p>,</span>
<a id=__codelineno-87-5 name=__codelineno-87-5 href=#__codelineno-87-5></a>    <span class=p>[</span>
<a id=__codelineno-87-6 name=__codelineno-87-6 href=#__codelineno-87-6></a>        <span class=s1>&#39;inv_cst_id&#39;</span> <span class=o>=&gt;</span> <span class=mi>1</span><span class=p>,</span>
<a id=__codelineno-87-7 name=__codelineno-87-7 href=#__codelineno-87-7></a>        <span class=s1>&#39;inv_title&#39;</span>  <span class=o>=&gt;</span> <span class=s1>&#39;Invoice for ACME Inc.&#39;</span><span class=p>,</span>
<a id=__codelineno-87-8 name=__codelineno-87-8 href=#__codelineno-87-8></a>    <span class=p>],</span>
<a id=__codelineno-87-9 name=__codelineno-87-9 href=#__codelineno-87-9></a>    <span class=s1>&#39;inv_id = 4&#39;</span>
<a id=__codelineno-87-10 name=__codelineno-87-10 href=#__codelineno-87-10></a><span class=p>);</span>
</code></pre></div> Dynamic generation (alternative syntax)</p> <div class="admonition danger"> <p class=admonition-title>NOTE</p> <p>With the syntax above, the variables for the <code>where</code> part of the <code>update</code> (<code>inv_id = 4</code>) are not escaped!</p> </div> <p><div class=highlight><pre><span></span><code><a id=__codelineno-88-1 name=__codelineno-88-1 href=#__codelineno-88-1></a><span class=o>&lt;?</span><span class=nx>php</span>
<a id=__codelineno-88-2 name=__codelineno-88-2 href=#__codelineno-88-2></a>
<a id=__codelineno-88-3 name=__codelineno-88-3 href=#__codelineno-88-3></a><span class=nv>$success</span> <span class=o>=</span> <span class=nv>$connection</span><span class=o>-&gt;</span><span class=na>update</span><span class=p>(</span>
<a id=__codelineno-88-4 name=__codelineno-88-4 href=#__codelineno-88-4></a>    <span class=s1>&#39;co_invoices&#39;</span><span class=p>,</span>
<a id=__codelineno-88-5 name=__codelineno-88-5 href=#__codelineno-88-5></a>    <span class=p>[</span>
<a id=__codelineno-88-6 name=__codelineno-88-6 href=#__codelineno-88-6></a>        <span class=s1>&#39;inv_cst_id&#39;</span><span class=p>,</span>
<a id=__codelineno-88-7 name=__codelineno-88-7 href=#__codelineno-88-7></a>        <span class=s1>&#39;inv_title&#39;</span><span class=p>,</span>
<a id=__codelineno-88-8 name=__codelineno-88-8 href=#__codelineno-88-8></a>    <span class=p>],</span>
<a id=__codelineno-88-9 name=__codelineno-88-9 href=#__codelineno-88-9></a>    <span class=p>[</span>
<a id=__codelineno-88-10 name=__codelineno-88-10 href=#__codelineno-88-10></a>        <span class=mi>1</span><span class=p>,</span>
<a id=__codelineno-88-11 name=__codelineno-88-11 href=#__codelineno-88-11></a>        <span class=s1>&#39;Invoice for ACME Inc.&#39;</span><span class=p>,</span>
<a id=__codelineno-88-12 name=__codelineno-88-12 href=#__codelineno-88-12></a>    <span class=p>],</span>
<a id=__codelineno-88-13 name=__codelineno-88-13 href=#__codelineno-88-13></a>    <span class=p>[</span>
<a id=__codelineno-88-14 name=__codelineno-88-14 href=#__codelineno-88-14></a>        <span class=s1>&#39;conditions&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;id = ?&#39;</span><span class=p>,</span>
<a id=__codelineno-88-15 name=__codelineno-88-15 href=#__codelineno-88-15></a>        <span class=s1>&#39;bind&#39;</span>       <span class=o>=&gt;</span> <span class=p>[</span>
<a id=__codelineno-88-16 name=__codelineno-88-16 href=#__codelineno-88-16></a>            <span class=mi>4</span>
<a id=__codelineno-88-17 name=__codelineno-88-17 href=#__codelineno-88-17></a>        <span class=p>],</span>
<a id=__codelineno-88-18 name=__codelineno-88-18 href=#__codelineno-88-18></a>        <span class=s1>&#39;bindTypes&#39;</span>  <span class=o>=&gt;</span> <span class=p>[</span>
<a id=__codelineno-88-19 name=__codelineno-88-19 href=#__codelineno-88-19></a>            <span class=nx>\PDO</span><span class=o>::</span><span class=na>PARAM_INT</span>
<a id=__codelineno-88-20 name=__codelineno-88-20 href=#__codelineno-88-20></a>        <span class=p>],</span>
<a id=__codelineno-88-21 name=__codelineno-88-21 href=#__codelineno-88-21></a>    <span class=p>]</span>
<a id=__codelineno-88-22 name=__codelineno-88-22 href=#__codelineno-88-22></a><span class=p>);</span>
</code></pre></div> With conditionals escaped</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-89-1 name=__codelineno-89-1 href=#__codelineno-89-1></a><span class=o>&lt;?</span><span class=nx>php</span>
<a id=__codelineno-89-2 name=__codelineno-89-2 href=#__codelineno-89-2></a>
<a id=__codelineno-89-3 name=__codelineno-89-3 href=#__codelineno-89-3></a><span class=nv>$success</span> <span class=o>=</span> <span class=nv>$connection</span><span class=o>-&gt;</span><span class=na>updateAsDict</span><span class=p>(</span>
<a id=__codelineno-89-4 name=__codelineno-89-4 href=#__codelineno-89-4></a>    <span class=s1>&#39;co_invoices&#39;</span><span class=p>,</span>
<a id=__codelineno-89-5 name=__codelineno-89-5 href=#__codelineno-89-5></a>    <span class=p>[</span>
<a id=__codelineno-89-6 name=__codelineno-89-6 href=#__codelineno-89-6></a>        <span class=s1>&#39;inv_cst_id&#39;</span> <span class=o>=&gt;</span> <span class=mi>1</span><span class=p>,</span>
<a id=__codelineno-89-7 name=__codelineno-89-7 href=#__codelineno-89-7></a>        <span class=s1>&#39;inv_title&#39;</span>  <span class=o>=&gt;</span> <span class=s1>&#39;Invoice for ACME Inc.&#39;</span><span class=p>,</span>
<a id=__codelineno-89-8 name=__codelineno-89-8 href=#__codelineno-89-8></a>    <span class=p>],</span>
<a id=__codelineno-89-9 name=__codelineno-89-9 href=#__codelineno-89-9></a>    <span class=p>[</span>
<a id=__codelineno-89-10 name=__codelineno-89-10 href=#__codelineno-89-10></a>        <span class=s1>&#39;conditions&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;id = ?&#39;</span><span class=p>,</span>
<a id=__codelineno-89-11 name=__codelineno-89-11 href=#__codelineno-89-11></a>        <span class=s1>&#39;bind&#39;</span>       <span class=o>=&gt;</span> <span class=p>[</span>
<a id=__codelineno-89-12 name=__codelineno-89-12 href=#__codelineno-89-12></a>            <span class=mi>4</span>
<a id=__codelineno-89-13 name=__codelineno-89-13 href=#__codelineno-89-13></a>        <span class=p>],</span>
<a id=__codelineno-89-14 name=__codelineno-89-14 href=#__codelineno-89-14></a>        <span class=s1>&#39;bindTypes&#39;</span>  <span class=o>=&gt;</span> <span class=p>[</span>
<a id=__codelineno-89-15 name=__codelineno-89-15 href=#__codelineno-89-15></a>            <span class=nx>\PDO</span><span class=o>::</span><span class=na>PARAM_INT</span>
<a id=__codelineno-89-16 name=__codelineno-89-16 href=#__codelineno-89-16></a>        <span class=p>],</span>
<a id=__codelineno-89-17 name=__codelineno-89-17 href=#__codelineno-89-17></a>    <span class=p>]</span>
<a id=__codelineno-89-18 name=__codelineno-89-18 href=#__codelineno-89-18></a><span class=p>);</span>
</code></pre></div> With conditionals escaped (alternative syntax)</p> <h2 id=delete>Delete<a class=headerlink href=#delete title="Permanent link">&para;</a></h2> <p><div class=highlight><pre><span></span><code><a id=__codelineno-90-1 name=__codelineno-90-1 href=#__codelineno-90-1></a><span class=o>&lt;?</span><span class=nx>php</span>
<a id=__codelineno-90-2 name=__codelineno-90-2 href=#__codelineno-90-2></a>
<a id=__codelineno-90-3 name=__codelineno-90-3 href=#__codelineno-90-3></a><span class=nv>$sql</span>     <span class=o>=</span> <span class=s1>&#39;</span>
<a id=__codelineno-90-4 name=__codelineno-90-4 href=#__codelineno-90-4></a><span class=s1>DELETE </span>
<a id=__codelineno-90-5 name=__codelineno-90-5 href=#__codelineno-90-5></a><span class=s1>   `co_invoices` </span>
<a id=__codelineno-90-6 name=__codelineno-90-6 href=#__codelineno-90-6></a><span class=s1>WHERE</span>
<a id=__codelineno-90-7 name=__codelineno-90-7 href=#__codelineno-90-7></a><span class=s1>   `inv_id` = 4</span>
<a id=__codelineno-90-8 name=__codelineno-90-8 href=#__codelineno-90-8></a><span class=s1>&#39;</span><span class=p>;</span>
<a id=__codelineno-90-9 name=__codelineno-90-9 href=#__codelineno-90-9></a><span class=nv>$success</span> <span class=o>=</span> <span class=nv>$connection</span><span class=o>-&gt;</span><span class=na>execute</span><span class=p>(</span><span class=nv>$sql</span><span class=p>);</span>
</code></pre></div> Raw SQL</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-91-1 name=__codelineno-91-1 href=#__codelineno-91-1></a><span class=o>&lt;?</span><span class=nx>php</span>
<a id=__codelineno-91-2 name=__codelineno-91-2 href=#__codelineno-91-2></a>
<a id=__codelineno-91-3 name=__codelineno-91-3 href=#__codelineno-91-3></a><span class=nv>$sql</span>     <span class=o>=</span> <span class=s1>&#39;</span>
<a id=__codelineno-91-4 name=__codelineno-91-4 href=#__codelineno-91-4></a><span class=s1>DELETE </span>
<a id=__codelineno-91-5 name=__codelineno-91-5 href=#__codelineno-91-5></a><span class=s1>   `co_invoices` </span>
<a id=__codelineno-91-6 name=__codelineno-91-6 href=#__codelineno-91-6></a><span class=s1>WHERE</span>
<a id=__codelineno-91-7 name=__codelineno-91-7 href=#__codelineno-91-7></a><span class=s1>   `inv_id` = ?</span>
<a id=__codelineno-91-8 name=__codelineno-91-8 href=#__codelineno-91-8></a><span class=s1>&#39;</span><span class=p>;</span>
<a id=__codelineno-91-9 name=__codelineno-91-9 href=#__codelineno-91-9></a><span class=nv>$success</span> <span class=o>=</span> <span class=nv>$connection</span><span class=o>-&gt;</span><span class=na>execute</span><span class=p>(</span>
<a id=__codelineno-91-10 name=__codelineno-91-10 href=#__codelineno-91-10></a>    <span class=nv>$sql</span><span class=p>,</span> 
<a id=__codelineno-91-11 name=__codelineno-91-11 href=#__codelineno-91-11></a>    <span class=p>[</span>
<a id=__codelineno-91-12 name=__codelineno-91-12 href=#__codelineno-91-12></a>        <span class=mi>4</span>
<a id=__codelineno-91-13 name=__codelineno-91-13 href=#__codelineno-91-13></a>    <span class=p>]</span>
<a id=__codelineno-91-14 name=__codelineno-91-14 href=#__codelineno-91-14></a><span class=p>);</span>
</code></pre></div> Placeholders</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-92-1 name=__codelineno-92-1 href=#__codelineno-92-1></a><span class=o>&lt;?</span><span class=nx>php</span>
<a id=__codelineno-92-2 name=__codelineno-92-2 href=#__codelineno-92-2></a>
<a id=__codelineno-92-3 name=__codelineno-92-3 href=#__codelineno-92-3></a><span class=nv>$success</span> <span class=o>=</span> <span class=nv>$connection</span><span class=o>-&gt;</span><span class=na>delete</span><span class=p>(</span>
<a id=__codelineno-92-4 name=__codelineno-92-4 href=#__codelineno-92-4></a>    <span class=s1>&#39;co_invoices&#39;</span><span class=p>,</span>
<a id=__codelineno-92-5 name=__codelineno-92-5 href=#__codelineno-92-5></a>    <span class=s1>&#39;inv_id = ?&#39;</span><span class=p>,</span>
<a id=__codelineno-92-6 name=__codelineno-92-6 href=#__codelineno-92-6></a>    <span class=p>[</span>
<a id=__codelineno-92-7 name=__codelineno-92-7 href=#__codelineno-92-7></a>        <span class=mi>4</span><span class=p>,</span>
<a id=__codelineno-92-8 name=__codelineno-92-8 href=#__codelineno-92-8></a>    <span class=p>]</span>
<a id=__codelineno-92-9 name=__codelineno-92-9 href=#__codelineno-92-9></a><span class=p>);</span>
</code></pre></div> Dynamic generation</p> <h2 id=parameters>Parameters<a class=headerlink href=#parameters title="Permanent link">&para;</a></h2> <p>The <code>Phalcon\Db</code> adapters provide several methods to query rows from tables. The specific SQL syntax of the target database engine is required in this case:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-93-1 name=__codelineno-93-1 href=#__codelineno-93-1></a><span class=o>&lt;?</span><span class=nx>php</span>
<a id=__codelineno-93-2 name=__codelineno-93-2 href=#__codelineno-93-2></a>
<a id=__codelineno-93-3 name=__codelineno-93-3 href=#__codelineno-93-3></a><span class=nv>$sql</span> <span class=o>=</span> <span class=s1>&#39;</span>
<a id=__codelineno-93-4 name=__codelineno-93-4 href=#__codelineno-93-4></a><span class=s1>SELECT </span>
<a id=__codelineno-93-5 name=__codelineno-93-5 href=#__codelineno-93-5></a><span class=s1>    inv_id,</span>
<a id=__codelineno-93-6 name=__codelineno-93-6 href=#__codelineno-93-6></a><span class=s1>    inv_title</span>
<a id=__codelineno-93-7 name=__codelineno-93-7 href=#__codelineno-93-7></a><span class=s1>FROM </span>
<a id=__codelineno-93-8 name=__codelineno-93-8 href=#__codelineno-93-8></a><span class=s1>    co_invoices</span>
<a id=__codelineno-93-9 name=__codelineno-93-9 href=#__codelineno-93-9></a><span class=s1>ORDER BY </span>
<a id=__codelineno-93-10 name=__codelineno-93-10 href=#__codelineno-93-10></a><span class=s1>    inv_created_at</span>
<a id=__codelineno-93-11 name=__codelineno-93-11 href=#__codelineno-93-11></a><span class=s1>&#39;</span><span class=p>;</span>
<a id=__codelineno-93-12 name=__codelineno-93-12 href=#__codelineno-93-12></a><span class=nv>$result</span> <span class=o>=</span> <span class=nv>$connection</span><span class=o>-&gt;</span><span class=na>query</span><span class=p>(</span><span class=nv>$sql</span><span class=p>);</span>
<a id=__codelineno-93-13 name=__codelineno-93-13 href=#__codelineno-93-13></a><span class=k>while</span> <span class=p>(</span><span class=nv>$invoice</span> <span class=o>=</span> <span class=nv>$result</span><span class=o>-&gt;</span><span class=na>fetch</span><span class=p>())</span> <span class=p>{</span>
<a id=__codelineno-93-14 name=__codelineno-93-14 href=#__codelineno-93-14></a>   <span class=k>echo</span> <span class=nv>$invoice</span><span class=p>[</span><span class=s1>&#39;inv_title&#39;</span><span class=p>];</span>
<a id=__codelineno-93-15 name=__codelineno-93-15 href=#__codelineno-93-15></a><span class=p>}</span>
<a id=__codelineno-93-16 name=__codelineno-93-16 href=#__codelineno-93-16></a>
<a id=__codelineno-93-17 name=__codelineno-93-17 href=#__codelineno-93-17></a><span class=nv>$invoices</span> <span class=o>=</span> <span class=nv>$connection</span><span class=o>-&gt;</span><span class=na>fetchAll</span><span class=p>(</span><span class=nv>$sql</span><span class=p>);</span>
<a id=__codelineno-93-18 name=__codelineno-93-18 href=#__codelineno-93-18></a><span class=k>foreach</span> <span class=p>(</span><span class=nv>$invoices</span> <span class=k>as</span> <span class=nv>$invoice</span><span class=p>)</span> <span class=p>{</span>
<a id=__codelineno-93-19 name=__codelineno-93-19 href=#__codelineno-93-19></a>   <span class=k>echo</span> <span class=nv>$invoice</span><span class=p>[</span><span class=s1>&#39;inv_title&#39;</span><span class=p>];</span>
<a id=__codelineno-93-20 name=__codelineno-93-20 href=#__codelineno-93-20></a><span class=p>}</span>
<a id=__codelineno-93-21 name=__codelineno-93-21 href=#__codelineno-93-21></a>
<a id=__codelineno-93-22 name=__codelineno-93-22 href=#__codelineno-93-22></a><span class=nv>$invoice</span> <span class=o>=</span> <span class=nv>$connection</span><span class=o>-&gt;</span><span class=na>fetchOne</span><span class=p>(</span><span class=nv>$sql</span><span class=p>);</span>
</code></pre></div> <p>By default, these calls create arrays with both associative and numeric indexes. You can change this behavior by using <code>Phalcon\Db\Result::setFetchMode()</code>. This method receives a constant, defining which kind of index is required.</p> <table> <thead> <tr> <th>Constant</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>Phalcon\Db\Enum::FETCH_NUM</code></td> <td>Return an array with numeric indexes</td> </tr> <tr> <td><code>Phalcon\Db\Enum::FETCH_ASSOC</code></td> <td>Return an array with associative indexes</td> </tr> <tr> <td><code>Phalcon\Db\Enum::FETCH_BOTH</code></td> <td>Return an array with both associative and numeric indexes</td> </tr> <tr> <td><code>Phalcon\Db\Enum::FETCH_OBJ</code></td> <td>Return an object instead of an array</td> </tr> </tbody> </table> <div class=highlight><pre><span></span><code><a id=__codelineno-94-1 name=__codelineno-94-1 href=#__codelineno-94-1></a><span class=o>&lt;?</span><span class=nx>php</span>
<a id=__codelineno-94-2 name=__codelineno-94-2 href=#__codelineno-94-2></a>
<a id=__codelineno-94-3 name=__codelineno-94-3 href=#__codelineno-94-3></a><span class=nv>$sql</span> <span class=o>=</span> <span class=s1>&#39;</span>
<a id=__codelineno-94-4 name=__codelineno-94-4 href=#__codelineno-94-4></a><span class=s1>SELECT </span>
<a id=__codelineno-94-5 name=__codelineno-94-5 href=#__codelineno-94-5></a><span class=s1>    inv_id,</span>
<a id=__codelineno-94-6 name=__codelineno-94-6 href=#__codelineno-94-6></a><span class=s1>    inv_title</span>
<a id=__codelineno-94-7 name=__codelineno-94-7 href=#__codelineno-94-7></a><span class=s1>FROM </span>
<a id=__codelineno-94-8 name=__codelineno-94-8 href=#__codelineno-94-8></a><span class=s1>    co_invoices</span>
<a id=__codelineno-94-9 name=__codelineno-94-9 href=#__codelineno-94-9></a><span class=s1>ORDER BY </span>
<a id=__codelineno-94-10 name=__codelineno-94-10 href=#__codelineno-94-10></a><span class=s1>    inv_created_at</span>
<a id=__codelineno-94-11 name=__codelineno-94-11 href=#__codelineno-94-11></a><span class=s1>&#39;</span><span class=p>;</span>
<a id=__codelineno-94-12 name=__codelineno-94-12 href=#__codelineno-94-12></a><span class=nv>$result</span> <span class=o>=</span> <span class=nv>$connection</span><span class=o>-&gt;</span><span class=na>query</span><span class=p>(</span><span class=nv>$sql</span><span class=p>);</span>
<a id=__codelineno-94-13 name=__codelineno-94-13 href=#__codelineno-94-13></a>
<a id=__codelineno-94-14 name=__codelineno-94-14 href=#__codelineno-94-14></a><span class=nv>$result</span><span class=o>-&gt;</span><span class=na>setFetchMode</span><span class=p>(</span>
<a id=__codelineno-94-15 name=__codelineno-94-15 href=#__codelineno-94-15></a>    <span class=nx>Phalcon\Db\Enum</span><span class=o>::</span><span class=na>FETCH_NUM</span>
<a id=__codelineno-94-16 name=__codelineno-94-16 href=#__codelineno-94-16></a><span class=p>);</span>
<a id=__codelineno-94-17 name=__codelineno-94-17 href=#__codelineno-94-17></a>
<a id=__codelineno-94-18 name=__codelineno-94-18 href=#__codelineno-94-18></a><span class=k>while</span> <span class=p>(</span><span class=nv>$invoice</span> <span class=o>=</span> <span class=nv>$result</span><span class=o>-&gt;</span><span class=na>fetch</span><span class=p>())</span> <span class=p>{</span>
<a id=__codelineno-94-19 name=__codelineno-94-19 href=#__codelineno-94-19></a>   <span class=k>echo</span> <span class=nv>$invoice</span><span class=p>[</span><span class=mi>0</span><span class=p>];</span>
<a id=__codelineno-94-20 name=__codelineno-94-20 href=#__codelineno-94-20></a><span class=p>}</span>
</code></pre></div> <p>The <code>query()</code> method returns an instance of <a href=../api/phalcon_db/#dbresultpdoresult>Phalcon\Db\Result\Pdo</a>. These objects encapsulate all the functionality related to the returned resultset i.e. traversing, seeking specific records, <code>count</code> etc.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-95-1 name=__codelineno-95-1 href=#__codelineno-95-1></a><span class=o>&lt;?</span><span class=nx>php</span>
<a id=__codelineno-95-2 name=__codelineno-95-2 href=#__codelineno-95-2></a>
<a id=__codelineno-95-3 name=__codelineno-95-3 href=#__codelineno-95-3></a><span class=nv>$sql</span> <span class=o>=</span> <span class=s1>&#39;</span>
<a id=__codelineno-95-4 name=__codelineno-95-4 href=#__codelineno-95-4></a><span class=s1>SELECT </span>
<a id=__codelineno-95-5 name=__codelineno-95-5 href=#__codelineno-95-5></a><span class=s1>    inv_id,</span>
<a id=__codelineno-95-6 name=__codelineno-95-6 href=#__codelineno-95-6></a><span class=s1>    inv_title</span>
<a id=__codelineno-95-7 name=__codelineno-95-7 href=#__codelineno-95-7></a><span class=s1>FROM </span>
<a id=__codelineno-95-8 name=__codelineno-95-8 href=#__codelineno-95-8></a><span class=s1>    co_invoices</span>
<a id=__codelineno-95-9 name=__codelineno-95-9 href=#__codelineno-95-9></a><span class=s1>ORDER BY </span>
<a id=__codelineno-95-10 name=__codelineno-95-10 href=#__codelineno-95-10></a><span class=s1>    inv_created_at</span>
<a id=__codelineno-95-11 name=__codelineno-95-11 href=#__codelineno-95-11></a><span class=s1>&#39;</span><span class=p>;</span>
<a id=__codelineno-95-12 name=__codelineno-95-12 href=#__codelineno-95-12></a><span class=nv>$result</span> <span class=o>=</span> <span class=nv>$connection</span><span class=o>-&gt;</span><span class=na>query</span><span class=p>(</span><span class=nv>$sql</span><span class=p>);</span>
<a id=__codelineno-95-13 name=__codelineno-95-13 href=#__codelineno-95-13></a>
<a id=__codelineno-95-14 name=__codelineno-95-14 href=#__codelineno-95-14></a><span class=k>while</span> <span class=p>(</span><span class=nv>$invoice</span> <span class=o>=</span> <span class=nv>$result</span><span class=o>-&gt;</span><span class=na>fetch</span><span class=p>())</span> <span class=p>{</span>
<a id=__codelineno-95-15 name=__codelineno-95-15 href=#__codelineno-95-15></a>   <span class=k>echo</span> <span class=nv>$invoice</span><span class=p>[</span><span class=s1>&#39;name&#39;</span><span class=p>];</span>
<a id=__codelineno-95-16 name=__codelineno-95-16 href=#__codelineno-95-16></a><span class=p>}</span>
<a id=__codelineno-95-17 name=__codelineno-95-17 href=#__codelineno-95-17></a>
<a id=__codelineno-95-18 name=__codelineno-95-18 href=#__codelineno-95-18></a><span class=nv>$result</span><span class=o>-&gt;</span><span class=na>seek</span><span class=p>(</span><span class=mi>2</span><span class=p>);</span>
<a id=__codelineno-95-19 name=__codelineno-95-19 href=#__codelineno-95-19></a>
<a id=__codelineno-95-20 name=__codelineno-95-20 href=#__codelineno-95-20></a><span class=nv>$invoice</span> <span class=o>=</span> <span class=nv>$result</span><span class=o>-&gt;</span><span class=na>fetch</span><span class=p>();</span>
<a id=__codelineno-95-21 name=__codelineno-95-21 href=#__codelineno-95-21></a>
<a id=__codelineno-95-22 name=__codelineno-95-22 href=#__codelineno-95-22></a><span class=k>echo</span> <span class=nv>$result</span><span class=o>-&gt;</span><span class=na>numRows</span><span class=p>();</span>
</code></pre></div> <h3 id=binding>Binding<a class=headerlink href=#binding title="Permanent link">&para;</a></h3> <p>Bound parameters are also supported. Although there is a minimal performance impact by using bound parameters, you are highly encouraged to use this methodology to eliminate the possibility of your code being subject to SQL injection attacks. Both string and positional placeholders are supported.</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-96-1 name=__codelineno-96-1 href=#__codelineno-96-1></a><span class=o>&lt;?</span><span class=nx>php</span>
<a id=__codelineno-96-2 name=__codelineno-96-2 href=#__codelineno-96-2></a>
<a id=__codelineno-96-3 name=__codelineno-96-3 href=#__codelineno-96-3></a><span class=nv>$sql</span> <span class=o>=</span> <span class=s1>&#39;</span>
<a id=__codelineno-96-4 name=__codelineno-96-4 href=#__codelineno-96-4></a><span class=s1>SELECT </span>
<a id=__codelineno-96-5 name=__codelineno-96-5 href=#__codelineno-96-5></a><span class=s1>    inv_id,</span>
<a id=__codelineno-96-6 name=__codelineno-96-6 href=#__codelineno-96-6></a><span class=s1>    inv_title</span>
<a id=__codelineno-96-7 name=__codelineno-96-7 href=#__codelineno-96-7></a><span class=s1>FROM </span>
<a id=__codelineno-96-8 name=__codelineno-96-8 href=#__codelineno-96-8></a><span class=s1>    co_invoices</span>
<a id=__codelineno-96-9 name=__codelineno-96-9 href=#__codelineno-96-9></a><span class=s1>WHERE</span>
<a id=__codelineno-96-10 name=__codelineno-96-10 href=#__codelineno-96-10></a><span class=s1>    inv_cst_id = ?</span>
<a id=__codelineno-96-11 name=__codelineno-96-11 href=#__codelineno-96-11></a><span class=s1>ORDER BY </span>
<a id=__codelineno-96-12 name=__codelineno-96-12 href=#__codelineno-96-12></a><span class=s1>    inv_created_at</span>
<a id=__codelineno-96-13 name=__codelineno-96-13 href=#__codelineno-96-13></a><span class=s1>&#39;</span><span class=p>;</span>
<a id=__codelineno-96-14 name=__codelineno-96-14 href=#__codelineno-96-14></a>
<a id=__codelineno-96-15 name=__codelineno-96-15 href=#__codelineno-96-15></a><span class=nv>$result</span> <span class=o>=</span> <span class=nv>$connection</span><span class=o>-&gt;</span><span class=na>query</span><span class=p>(</span>
<a id=__codelineno-96-16 name=__codelineno-96-16 href=#__codelineno-96-16></a>    <span class=nv>$sql</span><span class=p>,</span>
<a id=__codelineno-96-17 name=__codelineno-96-17 href=#__codelineno-96-17></a>    <span class=p>[</span>
<a id=__codelineno-96-18 name=__codelineno-96-18 href=#__codelineno-96-18></a>        <span class=mi>4</span><span class=p>,</span>
<a id=__codelineno-96-19 name=__codelineno-96-19 href=#__codelineno-96-19></a>    <span class=p>]</span>
<a id=__codelineno-96-20 name=__codelineno-96-20 href=#__codelineno-96-20></a><span class=p>);</span>
</code></pre></div> Binding with numeric placeholders</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-97-1 name=__codelineno-97-1 href=#__codelineno-97-1></a><span class=o>&lt;?</span><span class=nx>php</span>
<a id=__codelineno-97-2 name=__codelineno-97-2 href=#__codelineno-97-2></a>
<a id=__codelineno-97-3 name=__codelineno-97-3 href=#__codelineno-97-3></a><span class=nv>$sql</span>     <span class=o>=</span> <span class=s2>&quot;</span>
<a id=__codelineno-97-4 name=__codelineno-97-4 href=#__codelineno-97-4></a><span class=s2>UPDATE </span>
<a id=__codelineno-97-5 name=__codelineno-97-5 href=#__codelineno-97-5></a><span class=s2>    `co_invoices` </span>
<a id=__codelineno-97-6 name=__codelineno-97-6 href=#__codelineno-97-6></a><span class=s2>SET </span>
<a id=__codelineno-97-7 name=__codelineno-97-7 href=#__codelineno-97-7></a><span class=s2>    `inv_cst_id`= :cstId, </span>
<a id=__codelineno-97-8 name=__codelineno-97-8 href=#__codelineno-97-8></a><span class=s2>    `inv_title` = :title</span>
<a id=__codelineno-97-9 name=__codelineno-97-9 href=#__codelineno-97-9></a><span class=s2>WHERE</span>
<a id=__codelineno-97-10 name=__codelineno-97-10 href=#__codelineno-97-10></a><span class=s2>    `inv_id` = :id</span>
<a id=__codelineno-97-11 name=__codelineno-97-11 href=#__codelineno-97-11></a><span class=s2>&quot;</span><span class=p>;</span>
<a id=__codelineno-97-12 name=__codelineno-97-12 href=#__codelineno-97-12></a><span class=nv>$success</span> <span class=o>=</span> <span class=nv>$connection</span><span class=o>-&gt;</span><span class=na>query</span><span class=p>(</span>
<a id=__codelineno-97-13 name=__codelineno-97-13 href=#__codelineno-97-13></a>    <span class=nv>$sql</span><span class=p>,</span>
<a id=__codelineno-97-14 name=__codelineno-97-14 href=#__codelineno-97-14></a>    <span class=p>[</span>
<a id=__codelineno-97-15 name=__codelineno-97-15 href=#__codelineno-97-15></a>        <span class=s1>&#39;cstId&#39;</span> <span class=o>=&gt;</span> <span class=mi>1</span><span class=p>,</span>
<a id=__codelineno-97-16 name=__codelineno-97-16 href=#__codelineno-97-16></a>        <span class=s1>&#39;title&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;Invoice for ACME Inc.&#39;</span><span class=p>,</span>
<a id=__codelineno-97-17 name=__codelineno-97-17 href=#__codelineno-97-17></a>        <span class=s1>&#39;id&#39;</span>    <span class=o>=&gt;</span> <span class=mi>4</span><span class=p>,</span>
<a id=__codelineno-97-18 name=__codelineno-97-18 href=#__codelineno-97-18></a>    <span class=p>]</span>
<a id=__codelineno-97-19 name=__codelineno-97-19 href=#__codelineno-97-19></a><span class=p>);</span>
</code></pre></div> Binding with named placeholders</p> <p>When using numeric placeholders, you will need to define them as integers i.e. <code>1</code> or <code>2</code>. In this case <code>'1'</code> or <code>'2'</code> are considered strings and not numbers, so the placeholder could not be successfully replaced. With any adapter, data are automatically escaped using <a href=https://www.php.net/manual/en/pdo.quote.php>PDO Quote</a>. This function takes into account the connection charset, therefore it is recommended to define the correct charset in the connection parameters or your database server configuration, as a wrong charset will produce undesired effects when storing or retrieving data.</p> <p>Also, you can pass your parameters directly to the <code>execute</code> or <code>query</code> methods. In this case bound parameters are directly passed to PDO:</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-98-1 name=__codelineno-98-1 href=#__codelineno-98-1></a><span class=o>&lt;?</span><span class=nx>php</span>
<a id=__codelineno-98-2 name=__codelineno-98-2 href=#__codelineno-98-2></a>
<a id=__codelineno-98-3 name=__codelineno-98-3 href=#__codelineno-98-3></a><span class=nv>$sql</span> <span class=o>=</span> <span class=s1>&#39;</span>
<a id=__codelineno-98-4 name=__codelineno-98-4 href=#__codelineno-98-4></a><span class=s1>SELECT </span>
<a id=__codelineno-98-5 name=__codelineno-98-5 href=#__codelineno-98-5></a><span class=s1>    inv_id,</span>
<a id=__codelineno-98-6 name=__codelineno-98-6 href=#__codelineno-98-6></a><span class=s1>    inv_title</span>
<a id=__codelineno-98-7 name=__codelineno-98-7 href=#__codelineno-98-7></a><span class=s1>FROM </span>
<a id=__codelineno-98-8 name=__codelineno-98-8 href=#__codelineno-98-8></a><span class=s1>    co_invoices</span>
<a id=__codelineno-98-9 name=__codelineno-98-9 href=#__codelineno-98-9></a><span class=s1>WHERE</span>
<a id=__codelineno-98-10 name=__codelineno-98-10 href=#__codelineno-98-10></a><span class=s1>    inv_cst_id = ?</span>
<a id=__codelineno-98-11 name=__codelineno-98-11 href=#__codelineno-98-11></a><span class=s1>ORDER BY </span>
<a id=__codelineno-98-12 name=__codelineno-98-12 href=#__codelineno-98-12></a><span class=s1>    inv_created_at</span>
<a id=__codelineno-98-13 name=__codelineno-98-13 href=#__codelineno-98-13></a><span class=s1>&#39;</span><span class=p>;</span>
<a id=__codelineno-98-14 name=__codelineno-98-14 href=#__codelineno-98-14></a>
<a id=__codelineno-98-15 name=__codelineno-98-15 href=#__codelineno-98-15></a><span class=nv>$result</span> <span class=o>=</span> <span class=nv>$connection</span><span class=o>-&gt;</span><span class=na>query</span><span class=p>(</span>
<a id=__codelineno-98-16 name=__codelineno-98-16 href=#__codelineno-98-16></a>    <span class=nv>$sql</span><span class=p>,</span>
<a id=__codelineno-98-17 name=__codelineno-98-17 href=#__codelineno-98-17></a>    <span class=p>[</span>
<a id=__codelineno-98-18 name=__codelineno-98-18 href=#__codelineno-98-18></a>        <span class=mi>1</span> <span class=o>=&gt;</span> <span class=mi>4</span><span class=p>,</span>
<a id=__codelineno-98-19 name=__codelineno-98-19 href=#__codelineno-98-19></a>    <span class=p>]</span>
<a id=__codelineno-98-20 name=__codelineno-98-20 href=#__codelineno-98-20></a><span class=p>);</span>
</code></pre></div> Binding with PDO placeholders</p> <h3 id=typed>Typed<a class=headerlink href=#typed title="Permanent link">&para;</a></h3> <p>Placeholders allowed you to bind parameters to avoid SQL injections:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-99-1 name=__codelineno-99-1 href=#__codelineno-99-1></a><span class=o>&lt;?</span><span class=nx>php</span>
<a id=__codelineno-99-2 name=__codelineno-99-2 href=#__codelineno-99-2></a>
<a id=__codelineno-99-3 name=__codelineno-99-3 href=#__codelineno-99-3></a><span class=nv>$phql</span> <span class=o>=</span> <span class=s1>&#39;</span>
<a id=__codelineno-99-4 name=__codelineno-99-4 href=#__codelineno-99-4></a><span class=s1>SELECT </span>
<a id=__codelineno-99-5 name=__codelineno-99-5 href=#__codelineno-99-5></a><span class=s1>    inv_id,</span>
<a id=__codelineno-99-6 name=__codelineno-99-6 href=#__codelineno-99-6></a><span class=s1>    inv_title</span>
<a id=__codelineno-99-7 name=__codelineno-99-7 href=#__codelineno-99-7></a><span class=s1>FROM </span>
<a id=__codelineno-99-8 name=__codelineno-99-8 href=#__codelineno-99-8></a><span class=s1>    Invoices</span>
<a id=__codelineno-99-9 name=__codelineno-99-9 href=#__codelineno-99-9></a><span class=s1>WHERE</span>
<a id=__codelineno-99-10 name=__codelineno-99-10 href=#__codelineno-99-10></a><span class=s1>    inv_cst_id = :customerId:</span>
<a id=__codelineno-99-11 name=__codelineno-99-11 href=#__codelineno-99-11></a><span class=s1>ORDER BY </span>
<a id=__codelineno-99-12 name=__codelineno-99-12 href=#__codelineno-99-12></a><span class=s1>    inv_created_at</span>
<a id=__codelineno-99-13 name=__codelineno-99-13 href=#__codelineno-99-13></a><span class=s1>&#39;</span><span class=p>;</span>
<a id=__codelineno-99-14 name=__codelineno-99-14 href=#__codelineno-99-14></a>
<a id=__codelineno-99-15 name=__codelineno-99-15 href=#__codelineno-99-15></a><span class=nv>$invoices</span> <span class=o>=</span> <span class=nv>$this</span>
<a id=__codelineno-99-16 name=__codelineno-99-16 href=#__codelineno-99-16></a>    <span class=o>-&gt;</span><span class=na>modelsManager</span>
<a id=__codelineno-99-17 name=__codelineno-99-17 href=#__codelineno-99-17></a>    <span class=o>-&gt;</span><span class=na>executeQuery</span><span class=p>(</span>
<a id=__codelineno-99-18 name=__codelineno-99-18 href=#__codelineno-99-18></a>        <span class=nv>$phql</span><span class=p>,</span>
<a id=__codelineno-99-19 name=__codelineno-99-19 href=#__codelineno-99-19></a>        <span class=p>[</span>
<a id=__codelineno-99-20 name=__codelineno-99-20 href=#__codelineno-99-20></a>            <span class=s1>&#39;customerId&#39;</span> <span class=o>=&gt;</span> <span class=mi>4</span><span class=p>,</span>
<a id=__codelineno-99-21 name=__codelineno-99-21 href=#__codelineno-99-21></a>        <span class=p>]</span>
<a id=__codelineno-99-22 name=__codelineno-99-22 href=#__codelineno-99-22></a>    <span class=p>)</span>
<a id=__codelineno-99-23 name=__codelineno-99-23 href=#__codelineno-99-23></a><span class=p>;</span>
</code></pre></div> <p>However, some database systems require additional actions when using placeholders such as specifying the type of the bound parameter:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-100-1 name=__codelineno-100-1 href=#__codelineno-100-1></a><span class=o>&lt;?</span><span class=nx>php</span>
<a id=__codelineno-100-2 name=__codelineno-100-2 href=#__codelineno-100-2></a>
<a id=__codelineno-100-3 name=__codelineno-100-3 href=#__codelineno-100-3></a><span class=k>use</span> <span class=nx>Phalcon\Db\Column</span><span class=p>;</span>
<a id=__codelineno-100-4 name=__codelineno-100-4 href=#__codelineno-100-4></a>
<a id=__codelineno-100-5 name=__codelineno-100-5 href=#__codelineno-100-5></a><span class=c1>// ...</span>
<a id=__codelineno-100-6 name=__codelineno-100-6 href=#__codelineno-100-6></a>
<a id=__codelineno-100-7 name=__codelineno-100-7 href=#__codelineno-100-7></a><span class=nv>$phql</span> <span class=o>=</span> <span class=s1>&#39;</span>
<a id=__codelineno-100-8 name=__codelineno-100-8 href=#__codelineno-100-8></a><span class=s1>SELECT </span>
<a id=__codelineno-100-9 name=__codelineno-100-9 href=#__codelineno-100-9></a><span class=s1>    inv_id,</span>
<a id=__codelineno-100-10 name=__codelineno-100-10 href=#__codelineno-100-10></a><span class=s1>    inv_title</span>
<a id=__codelineno-100-11 name=__codelineno-100-11 href=#__codelineno-100-11></a><span class=s1>FROM </span>
<a id=__codelineno-100-12 name=__codelineno-100-12 href=#__codelineno-100-12></a><span class=s1>    Invoices</span>
<a id=__codelineno-100-13 name=__codelineno-100-13 href=#__codelineno-100-13></a><span class=s1>WHERE</span>
<a id=__codelineno-100-14 name=__codelineno-100-14 href=#__codelineno-100-14></a><span class=s1>    inv_cst_id = :customerId:</span>
<a id=__codelineno-100-15 name=__codelineno-100-15 href=#__codelineno-100-15></a><span class=s1>ORDER BY </span>
<a id=__codelineno-100-16 name=__codelineno-100-16 href=#__codelineno-100-16></a><span class=s1>    inv_created_at</span>
<a id=__codelineno-100-17 name=__codelineno-100-17 href=#__codelineno-100-17></a><span class=s1>&#39;</span><span class=p>;</span>
<a id=__codelineno-100-18 name=__codelineno-100-18 href=#__codelineno-100-18></a>
<a id=__codelineno-100-19 name=__codelineno-100-19 href=#__codelineno-100-19></a><span class=nv>$invoices</span> <span class=o>=</span> <span class=nv>$this</span>
<a id=__codelineno-100-20 name=__codelineno-100-20 href=#__codelineno-100-20></a>    <span class=o>-&gt;</span><span class=na>modelsManager</span>
<a id=__codelineno-100-21 name=__codelineno-100-21 href=#__codelineno-100-21></a>    <span class=o>-&gt;</span><span class=na>executeQuery</span><span class=p>(</span>
<a id=__codelineno-100-22 name=__codelineno-100-22 href=#__codelineno-100-22></a>        <span class=nv>$phql</span><span class=p>,</span>
<a id=__codelineno-100-23 name=__codelineno-100-23 href=#__codelineno-100-23></a>        <span class=p>[</span>
<a id=__codelineno-100-24 name=__codelineno-100-24 href=#__codelineno-100-24></a>            <span class=s1>&#39;customerId&#39;</span> <span class=o>=&gt;</span> <span class=mi>4</span><span class=p>,</span>
<a id=__codelineno-100-25 name=__codelineno-100-25 href=#__codelineno-100-25></a>        <span class=p>],</span>
<a id=__codelineno-100-26 name=__codelineno-100-26 href=#__codelineno-100-26></a>        <span class=nx>Column</span><span class=o>::</span><span class=na>BIND_PARAM_INT</span>
<a id=__codelineno-100-27 name=__codelineno-100-27 href=#__codelineno-100-27></a>    <span class=p>)</span>
<a id=__codelineno-100-28 name=__codelineno-100-28 href=#__codelineno-100-28></a><span class=p>;</span>
</code></pre></div> <p>You can use typed placeholders in your parameters, instead of specifying the bind type in <code>executeQuery()</code>:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-101-1 name=__codelineno-101-1 href=#__codelineno-101-1></a><span class=o>&lt;?</span><span class=nx>php</span>
<a id=__codelineno-101-2 name=__codelineno-101-2 href=#__codelineno-101-2></a>
<a id=__codelineno-101-3 name=__codelineno-101-3 href=#__codelineno-101-3></a><span class=nv>$phql</span> <span class=o>=</span> <span class=s1>&#39;</span>
<a id=__codelineno-101-4 name=__codelineno-101-4 href=#__codelineno-101-4></a><span class=s1>SELECT </span>
<a id=__codelineno-101-5 name=__codelineno-101-5 href=#__codelineno-101-5></a><span class=s1>    inv_id,</span>
<a id=__codelineno-101-6 name=__codelineno-101-6 href=#__codelineno-101-6></a><span class=s1>    inv_title</span>
<a id=__codelineno-101-7 name=__codelineno-101-7 href=#__codelineno-101-7></a><span class=s1>FROM </span>
<a id=__codelineno-101-8 name=__codelineno-101-8 href=#__codelineno-101-8></a><span class=s1>    Invoices</span>
<a id=__codelineno-101-9 name=__codelineno-101-9 href=#__codelineno-101-9></a><span class=s1>WHERE</span>
<a id=__codelineno-101-10 name=__codelineno-101-10 href=#__codelineno-101-10></a><span class=s1>    inv_cst_id = {customerId:int}</span>
<a id=__codelineno-101-11 name=__codelineno-101-11 href=#__codelineno-101-11></a><span class=s1>ORDER BY </span>
<a id=__codelineno-101-12 name=__codelineno-101-12 href=#__codelineno-101-12></a><span class=s1>    inv_created_at</span>
<a id=__codelineno-101-13 name=__codelineno-101-13 href=#__codelineno-101-13></a><span class=s1>&#39;</span><span class=p>;</span>
<a id=__codelineno-101-14 name=__codelineno-101-14 href=#__codelineno-101-14></a>
<a id=__codelineno-101-15 name=__codelineno-101-15 href=#__codelineno-101-15></a><span class=nv>$invoices</span> <span class=o>=</span> <span class=nv>$this</span>
<a id=__codelineno-101-16 name=__codelineno-101-16 href=#__codelineno-101-16></a>    <span class=o>-&gt;</span><span class=na>modelsManager</span>
<a id=__codelineno-101-17 name=__codelineno-101-17 href=#__codelineno-101-17></a>    <span class=o>-&gt;</span><span class=na>executeQuery</span><span class=p>(</span>
<a id=__codelineno-101-18 name=__codelineno-101-18 href=#__codelineno-101-18></a>        <span class=nv>$phql</span><span class=p>,</span>
<a id=__codelineno-101-19 name=__codelineno-101-19 href=#__codelineno-101-19></a>        <span class=p>[</span>
<a id=__codelineno-101-20 name=__codelineno-101-20 href=#__codelineno-101-20></a>            <span class=s1>&#39;customerId&#39;</span> <span class=o>=&gt;</span> <span class=mi>4</span><span class=p>,</span>
<a id=__codelineno-101-21 name=__codelineno-101-21 href=#__codelineno-101-21></a>        <span class=p>],</span>
<a id=__codelineno-101-22 name=__codelineno-101-22 href=#__codelineno-101-22></a>    <span class=p>)</span>
<a id=__codelineno-101-23 name=__codelineno-101-23 href=#__codelineno-101-23></a><span class=p>;</span>
<a id=__codelineno-101-24 name=__codelineno-101-24 href=#__codelineno-101-24></a>
<a id=__codelineno-101-25 name=__codelineno-101-25 href=#__codelineno-101-25></a><span class=nv>$phql</span> <span class=o>=</span> <span class=s1>&#39;</span>
<a id=__codelineno-101-26 name=__codelineno-101-26 href=#__codelineno-101-26></a><span class=s1>SELECT </span>
<a id=__codelineno-101-27 name=__codelineno-101-27 href=#__codelineno-101-27></a><span class=s1>    inv_id,</span>
<a id=__codelineno-101-28 name=__codelineno-101-28 href=#__codelineno-101-28></a><span class=s1>    inv_title</span>
<a id=__codelineno-101-29 name=__codelineno-101-29 href=#__codelineno-101-29></a><span class=s1>FROM </span>
<a id=__codelineno-101-30 name=__codelineno-101-30 href=#__codelineno-101-30></a><span class=s1>    Invoices</span>
<a id=__codelineno-101-31 name=__codelineno-101-31 href=#__codelineno-101-31></a><span class=s1>WHERE</span>
<a id=__codelineno-101-32 name=__codelineno-101-32 href=#__codelineno-101-32></a><span class=s1>    inv_title &lt;&gt; {title:str}</span>
<a id=__codelineno-101-33 name=__codelineno-101-33 href=#__codelineno-101-33></a><span class=s1>ORDER BY </span>
<a id=__codelineno-101-34 name=__codelineno-101-34 href=#__codelineno-101-34></a><span class=s1>    inv_created_at</span>
<a id=__codelineno-101-35 name=__codelineno-101-35 href=#__codelineno-101-35></a><span class=s1>&#39;</span><span class=p>;</span>
<a id=__codelineno-101-36 name=__codelineno-101-36 href=#__codelineno-101-36></a>
<a id=__codelineno-101-37 name=__codelineno-101-37 href=#__codelineno-101-37></a><span class=nv>$invoices</span> <span class=o>=</span> <span class=nv>$this</span>
<a id=__codelineno-101-38 name=__codelineno-101-38 href=#__codelineno-101-38></a>    <span class=o>-&gt;</span><span class=na>modelsManager</span>
<a id=__codelineno-101-39 name=__codelineno-101-39 href=#__codelineno-101-39></a>    <span class=o>-&gt;</span><span class=na>executeQuery</span><span class=p>(</span>
<a id=__codelineno-101-40 name=__codelineno-101-40 href=#__codelineno-101-40></a>        <span class=nv>$phql</span><span class=p>,</span>
<a id=__codelineno-101-41 name=__codelineno-101-41 href=#__codelineno-101-41></a>        <span class=p>[</span>
<a id=__codelineno-101-42 name=__codelineno-101-42 href=#__codelineno-101-42></a>            <span class=s1>&#39;title&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;Invoice for ACME Inc&#39;</span><span class=p>,</span>
<a id=__codelineno-101-43 name=__codelineno-101-43 href=#__codelineno-101-43></a>        <span class=p>],</span>
<a id=__codelineno-101-44 name=__codelineno-101-44 href=#__codelineno-101-44></a>    <span class=p>)</span>
<a id=__codelineno-101-45 name=__codelineno-101-45 href=#__codelineno-101-45></a><span class=p>;</span>
</code></pre></div> <p>You can also omit the type if you do not need to specify it:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-102-1 name=__codelineno-102-1 href=#__codelineno-102-1></a><span class=o>&lt;?</span><span class=nx>php</span>
<a id=__codelineno-102-2 name=__codelineno-102-2 href=#__codelineno-102-2></a>
<a id=__codelineno-102-3 name=__codelineno-102-3 href=#__codelineno-102-3></a><span class=nv>$phql</span> <span class=o>=</span> <span class=s1>&#39;</span>
<a id=__codelineno-102-4 name=__codelineno-102-4 href=#__codelineno-102-4></a><span class=s1>SELECT </span>
<a id=__codelineno-102-5 name=__codelineno-102-5 href=#__codelineno-102-5></a><span class=s1>    inv_id,</span>
<a id=__codelineno-102-6 name=__codelineno-102-6 href=#__codelineno-102-6></a><span class=s1>    inv_title</span>
<a id=__codelineno-102-7 name=__codelineno-102-7 href=#__codelineno-102-7></a><span class=s1>FROM </span>
<a id=__codelineno-102-8 name=__codelineno-102-8 href=#__codelineno-102-8></a><span class=s1>    Invoices</span>
<a id=__codelineno-102-9 name=__codelineno-102-9 href=#__codelineno-102-9></a><span class=s1>WHERE</span>
<a id=__codelineno-102-10 name=__codelineno-102-10 href=#__codelineno-102-10></a><span class=s1>    inv_cst_id = {customerId}</span>
<a id=__codelineno-102-11 name=__codelineno-102-11 href=#__codelineno-102-11></a><span class=s1>ORDER BY </span>
<a id=__codelineno-102-12 name=__codelineno-102-12 href=#__codelineno-102-12></a><span class=s1>    inv_created_at</span>
<a id=__codelineno-102-13 name=__codelineno-102-13 href=#__codelineno-102-13></a><span class=s1>&#39;</span><span class=p>;</span>
<a id=__codelineno-102-14 name=__codelineno-102-14 href=#__codelineno-102-14></a>
<a id=__codelineno-102-15 name=__codelineno-102-15 href=#__codelineno-102-15></a><span class=nv>$invoices</span> <span class=o>=</span> <span class=nv>$this</span>
<a id=__codelineno-102-16 name=__codelineno-102-16 href=#__codelineno-102-16></a>    <span class=o>-&gt;</span><span class=na>modelsManager</span>
<a id=__codelineno-102-17 name=__codelineno-102-17 href=#__codelineno-102-17></a>    <span class=o>-&gt;</span><span class=na>executeQuery</span><span class=p>(</span>
<a id=__codelineno-102-18 name=__codelineno-102-18 href=#__codelineno-102-18></a>        <span class=nv>$phql</span><span class=p>,</span>
<a id=__codelineno-102-19 name=__codelineno-102-19 href=#__codelineno-102-19></a>        <span class=p>[</span>
<a id=__codelineno-102-20 name=__codelineno-102-20 href=#__codelineno-102-20></a>            <span class=s1>&#39;customerId&#39;</span> <span class=o>=&gt;</span> <span class=mi>4</span><span class=p>,</span>
<a id=__codelineno-102-21 name=__codelineno-102-21 href=#__codelineno-102-21></a>        <span class=p>],</span>
<a id=__codelineno-102-22 name=__codelineno-102-22 href=#__codelineno-102-22></a>    <span class=p>)</span>
<a id=__codelineno-102-23 name=__codelineno-102-23 href=#__codelineno-102-23></a><span class=p>;</span>
</code></pre></div> <p>Typed placeholders are also more powerful since we can now bind a static array without having to pass each element independently as a placeholder:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-103-1 name=__codelineno-103-1 href=#__codelineno-103-1></a><span class=o>&lt;?</span><span class=nx>php</span>
<a id=__codelineno-103-2 name=__codelineno-103-2 href=#__codelineno-103-2></a>
<a id=__codelineno-103-3 name=__codelineno-103-3 href=#__codelineno-103-3></a><span class=nv>$phql</span> <span class=o>=</span> <span class=s1>&#39;</span>
<a id=__codelineno-103-4 name=__codelineno-103-4 href=#__codelineno-103-4></a><span class=s1>SELECT </span>
<a id=__codelineno-103-5 name=__codelineno-103-5 href=#__codelineno-103-5></a><span class=s1>    inv_id,</span>
<a id=__codelineno-103-6 name=__codelineno-103-6 href=#__codelineno-103-6></a><span class=s1>    inv_title</span>
<a id=__codelineno-103-7 name=__codelineno-103-7 href=#__codelineno-103-7></a><span class=s1>FROM </span>
<a id=__codelineno-103-8 name=__codelineno-103-8 href=#__codelineno-103-8></a><span class=s1>    Invoices</span>
<a id=__codelineno-103-9 name=__codelineno-103-9 href=#__codelineno-103-9></a><span class=s1>WHERE</span>
<a id=__codelineno-103-10 name=__codelineno-103-10 href=#__codelineno-103-10></a><span class=s1>    inv_cst_id IN ({ids:array})</span>
<a id=__codelineno-103-11 name=__codelineno-103-11 href=#__codelineno-103-11></a><span class=s1>ORDER BY </span>
<a id=__codelineno-103-12 name=__codelineno-103-12 href=#__codelineno-103-12></a><span class=s1>    inv_created_at</span>
<a id=__codelineno-103-13 name=__codelineno-103-13 href=#__codelineno-103-13></a><span class=s1>&#39;</span><span class=p>;</span>
<a id=__codelineno-103-14 name=__codelineno-103-14 href=#__codelineno-103-14></a>
<a id=__codelineno-103-15 name=__codelineno-103-15 href=#__codelineno-103-15></a><span class=nv>$invoices</span> <span class=o>=</span> <span class=nv>$this</span>
<a id=__codelineno-103-16 name=__codelineno-103-16 href=#__codelineno-103-16></a>    <span class=o>-&gt;</span><span class=na>modelsManager</span>
<a id=__codelineno-103-17 name=__codelineno-103-17 href=#__codelineno-103-17></a>    <span class=o>-&gt;</span><span class=na>executeQuery</span><span class=p>(</span>
<a id=__codelineno-103-18 name=__codelineno-103-18 href=#__codelineno-103-18></a>        <span class=nv>$phql</span><span class=p>,</span>
<a id=__codelineno-103-19 name=__codelineno-103-19 href=#__codelineno-103-19></a>        <span class=p>[</span>
<a id=__codelineno-103-20 name=__codelineno-103-20 href=#__codelineno-103-20></a>            <span class=s1>&#39;ids&#39;</span> <span class=o>=&gt;</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>5</span><span class=p>],</span>
<a id=__codelineno-103-21 name=__codelineno-103-21 href=#__codelineno-103-21></a>        <span class=p>],</span>
<a id=__codelineno-103-22 name=__codelineno-103-22 href=#__codelineno-103-22></a>    <span class=p>)</span>
<a id=__codelineno-103-23 name=__codelineno-103-23 href=#__codelineno-103-23></a><span class=p>;</span>
</code></pre></div> <p>The following types are available:</p> <table> <thead> <tr> <th>Bind Type</th> <th>Bind Type Constant</th> <th>Example</th> </tr> </thead> <tbody> <tr> <td>str</td> <td><code>Column::BIND_PARAM_STR</code></td> <td><code>{name:str}</code></td> </tr> <tr> <td>int</td> <td><code>Column::BIND_PARAM_INT</code></td> <td><code>{number:int}</code></td> </tr> <tr> <td>double</td> <td><code>Column::BIND_PARAM_DECIMAL</code></td> <td><code>{price:double}</code></td> </tr> <tr> <td>bool</td> <td><code>Column::BIND_PARAM_BOOL</code></td> <td><code>{enabled:bool}</code></td> </tr> <tr> <td>blob</td> <td><code>Column::BIND_PARAM_BLOB</code></td> <td><code>{image:blob}</code></td> </tr> <tr> <td>null</td> <td><code>Column::BIND_PARAM_NULL</code></td> <td><code>{exists:null}</code></td> </tr> <tr> <td>array</td> <td>Array of <code>Column::BIND_PARAM_STR</code></td> <td><code>{codes:array}</code></td> </tr> <tr> <td>array-str</td> <td>Array of <code>Column::BIND_PARAM_STR</code></td> <td><code>{names:array-str}</code></td> </tr> <tr> <td>array-int</td> <td>Array of <code>Column::BIND_PARAM_INT</code></td> <td><code>{flags:array-int}</code></td> </tr> </tbody> </table> <h3 id=cast>Cast<a class=headerlink href=#cast title="Permanent link">&para;</a></h3> <p>By default, bound parameters are not cast in the PHP userland to the specified bind types. This option allows you to make Phalcon cast values before binding them with PDO. A common scenario is when passing a string to a <code>LIMIT</code>/<code>OFFSET</code> placeholder:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-104-1 name=__codelineno-104-1 href=#__codelineno-104-1></a><span class=o>&lt;?</span><span class=nx>php</span>
<a id=__codelineno-104-2 name=__codelineno-104-2 href=#__codelineno-104-2></a>
<a id=__codelineno-104-3 name=__codelineno-104-3 href=#__codelineno-104-3></a><span class=nv>$number</span> <span class=o>=</span> <span class=s1>&#39;100&#39;</span><span class=p>;</span>
<a id=__codelineno-104-4 name=__codelineno-104-4 href=#__codelineno-104-4></a><span class=nv>$phql</span>   <span class=o>=</span> <span class=s1>&#39;</span>
<a id=__codelineno-104-5 name=__codelineno-104-5 href=#__codelineno-104-5></a><span class=s1>SELECT </span>
<a id=__codelineno-104-6 name=__codelineno-104-6 href=#__codelineno-104-6></a><span class=s1>    inv_id,</span>
<a id=__codelineno-104-7 name=__codelineno-104-7 href=#__codelineno-104-7></a><span class=s1>    inv_title</span>
<a id=__codelineno-104-8 name=__codelineno-104-8 href=#__codelineno-104-8></a><span class=s1>FROM </span>
<a id=__codelineno-104-9 name=__codelineno-104-9 href=#__codelineno-104-9></a><span class=s1>    Invoices</span>
<a id=__codelineno-104-10 name=__codelineno-104-10 href=#__codelineno-104-10></a><span class=s1>LIMIT </span>
<a id=__codelineno-104-11 name=__codelineno-104-11 href=#__codelineno-104-11></a><span class=s1>    {number:int}</span>
<a id=__codelineno-104-12 name=__codelineno-104-12 href=#__codelineno-104-12></a><span class=s1>&#39;</span><span class=p>;</span>
<a id=__codelineno-104-13 name=__codelineno-104-13 href=#__codelineno-104-13></a>
<a id=__codelineno-104-14 name=__codelineno-104-14 href=#__codelineno-104-14></a><span class=nv>$invoices</span> <span class=o>=</span> <span class=nv>$modelsManager</span><span class=o>-&gt;</span><span class=na>executeQuery</span><span class=p>(</span>
<a id=__codelineno-104-15 name=__codelineno-104-15 href=#__codelineno-104-15></a>    <span class=nv>$phql</span><span class=p>,</span>
<a id=__codelineno-104-16 name=__codelineno-104-16 href=#__codelineno-104-16></a>    <span class=p>[</span>
<a id=__codelineno-104-17 name=__codelineno-104-17 href=#__codelineno-104-17></a>        <span class=s1>&#39;number&#39;</span> <span class=o>=&gt;</span> <span class=nv>$number</span><span class=p>,</span>
<a id=__codelineno-104-18 name=__codelineno-104-18 href=#__codelineno-104-18></a>    <span class=p>]</span>
<a id=__codelineno-104-19 name=__codelineno-104-19 href=#__codelineno-104-19></a><span class=p>);</span>
</code></pre></div> <p>This causes the following exception:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-105-1 name=__codelineno-105-1 href=#__codelineno-105-1></a>Fatal error: Uncaught exception &#39;PDOException&#39; with message 
<a id=__codelineno-105-2 name=__codelineno-105-2 href=#__codelineno-105-2></a>&#39;SQLSTATE[42000]: Syntax error or access violation: 1064. 
<a id=__codelineno-105-3 name=__codelineno-105-3 href=#__codelineno-105-3></a>You have an error in your SQL syntax; check the manual that 
<a id=__codelineno-105-4 name=__codelineno-105-4 href=#__codelineno-105-4></a>corresponds to your MySQL server version for the right
<a id=__codelineno-105-5 name=__codelineno-105-5 href=#__codelineno-105-5></a>syntax to use near &#39;&#39;100&#39;&#39; at line 1&#39; in ....
</code></pre></div> <p>This happens because <code>'100'</code> is a string variable. It is easily fixable by casting the value to an integer first:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-106-1 name=__codelineno-106-1 href=#__codelineno-106-1></a><span class=o>&lt;?</span><span class=nx>php</span>
<a id=__codelineno-106-2 name=__codelineno-106-2 href=#__codelineno-106-2></a>
<a id=__codelineno-106-3 name=__codelineno-106-3 href=#__codelineno-106-3></a><span class=nv>$number</span> <span class=o>=</span> <span class=s1>&#39;100&#39;</span><span class=p>;</span>
<a id=__codelineno-106-4 name=__codelineno-106-4 href=#__codelineno-106-4></a><span class=nv>$phql</span>   <span class=o>=</span> <span class=s1>&#39;</span>
<a id=__codelineno-106-5 name=__codelineno-106-5 href=#__codelineno-106-5></a><span class=s1>SELECT </span>
<a id=__codelineno-106-6 name=__codelineno-106-6 href=#__codelineno-106-6></a><span class=s1>    inv_id,</span>
<a id=__codelineno-106-7 name=__codelineno-106-7 href=#__codelineno-106-7></a><span class=s1>    inv_title</span>
<a id=__codelineno-106-8 name=__codelineno-106-8 href=#__codelineno-106-8></a><span class=s1>FROM </span>
<a id=__codelineno-106-9 name=__codelineno-106-9 href=#__codelineno-106-9></a><span class=s1>    Invoices</span>
<a id=__codelineno-106-10 name=__codelineno-106-10 href=#__codelineno-106-10></a><span class=s1>LIMIT </span>
<a id=__codelineno-106-11 name=__codelineno-106-11 href=#__codelineno-106-11></a><span class=s1>    {number:int}</span>
<a id=__codelineno-106-12 name=__codelineno-106-12 href=#__codelineno-106-12></a><span class=s1>&#39;</span><span class=p>;</span>
<a id=__codelineno-106-13 name=__codelineno-106-13 href=#__codelineno-106-13></a>
<a id=__codelineno-106-14 name=__codelineno-106-14 href=#__codelineno-106-14></a><span class=nv>$invoices</span> <span class=o>=</span> <span class=nv>$modelsManager</span><span class=o>-&gt;</span><span class=na>executeQuery</span><span class=p>(</span>
<a id=__codelineno-106-15 name=__codelineno-106-15 href=#__codelineno-106-15></a>    <span class=nv>$phql</span><span class=p>,</span>
<a id=__codelineno-106-16 name=__codelineno-106-16 href=#__codelineno-106-16></a>    <span class=p>[</span>
<a id=__codelineno-106-17 name=__codelineno-106-17 href=#__codelineno-106-17></a>        <span class=s1>&#39;number&#39;</span> <span class=o>=&gt;</span> <span class=p>(</span><span class=nx>int</span><span class=p>)</span> <span class=nv>$number</span><span class=p>,</span>
<a id=__codelineno-106-18 name=__codelineno-106-18 href=#__codelineno-106-18></a>    <span class=p>]</span>
<a id=__codelineno-106-19 name=__codelineno-106-19 href=#__codelineno-106-19></a><span class=p>);</span>
</code></pre></div> <p>However, this solution requires that the developer pay special attention to how bound parameters are passed and their types. To make this task easier and avoid unexpected exceptions you can instruct Phalcon to do this casting for you:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-107-1 name=__codelineno-107-1 href=#__codelineno-107-1></a><span class=o>&lt;?</span><span class=nx>php</span>
<a id=__codelineno-107-2 name=__codelineno-107-2 href=#__codelineno-107-2></a>
<a id=__codelineno-107-3 name=__codelineno-107-3 href=#__codelineno-107-3></a><span class=nx>\Phalcon\Db</span><span class=o>::</span><span class=na>setup</span><span class=p>(</span>
<a id=__codelineno-107-4 name=__codelineno-107-4 href=#__codelineno-107-4></a>    <span class=p>[</span>
<a id=__codelineno-107-5 name=__codelineno-107-5 href=#__codelineno-107-5></a>        <span class=s1>&#39;forceCasting&#39;</span> <span class=o>=&gt;</span> <span class=k>true</span><span class=p>,</span>
<a id=__codelineno-107-6 name=__codelineno-107-6 href=#__codelineno-107-6></a>    <span class=p>]</span>
<a id=__codelineno-107-7 name=__codelineno-107-7 href=#__codelineno-107-7></a><span class=p>);</span>
</code></pre></div> <p>The following actions are performed according to the bind type specified:</p> <table> <thead> <tr> <th>Bind Type</th> <th>Action</th> </tr> </thead> <tbody> <tr> <td><code>Column::BIND_PARAM_STR</code></td> <td>Cast the value as a native PHP string</td> </tr> <tr> <td><code>Column::BIND_PARAM_INT</code></td> <td>Cast the value as a native PHP integer</td> </tr> <tr> <td><code>Column::BIND_PARAM_BOOL</code></td> <td>Cast the value as a native PHP boolean</td> </tr> <tr> <td><code>Column::BIND_PARAM_DECIMAL</code></td> <td>Cast the value as a native PHP double</td> </tr> </tbody> </table> <h3 id=hydration>Hydration<a class=headerlink href=#hydration title="Permanent link">&para;</a></h3> <p>Values returned from the database system are always represented as string values by PDO, no matter if the value belongs to a <code>numeric</code> or <code>boolean</code> type column. This happens because some column types cannot be represented with their corresponding PHP native types due to their size limitations. For instance, a <code>BIGINT</code> in MySQL can store large integer numbers that cannot be represented as a 32bit integer in PHP. Because of that, PDO and the ORM by default, make the safe decision of leaving all values as strings.</p> <p>You can set up the ORM to automatically cast those types to their corresponding PHP native types:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-108-1 name=__codelineno-108-1 href=#__codelineno-108-1></a><span class=o>&lt;?</span><span class=nx>php</span>
<a id=__codelineno-108-2 name=__codelineno-108-2 href=#__codelineno-108-2></a>
<a id=__codelineno-108-3 name=__codelineno-108-3 href=#__codelineno-108-3></a><span class=k>use</span> <span class=nx>Phalcon\Mvc\Model</span><span class=p>;</span>
<a id=__codelineno-108-4 name=__codelineno-108-4 href=#__codelineno-108-4></a>
<a id=__codelineno-108-5 name=__codelineno-108-5 href=#__codelineno-108-5></a><span class=nx>Model</span><span class=o>::</span><span class=na>setup</span><span class=p>(</span>
<a id=__codelineno-108-6 name=__codelineno-108-6 href=#__codelineno-108-6></a>    <span class=p>[</span>
<a id=__codelineno-108-7 name=__codelineno-108-7 href=#__codelineno-108-7></a>        <span class=s1>&#39;castOnHydrate&#39;</span> <span class=o>=&gt;</span> <span class=k>true</span><span class=p>,</span>
<a id=__codelineno-108-8 name=__codelineno-108-8 href=#__codelineno-108-8></a>    <span class=p>]</span>
<a id=__codelineno-108-9 name=__codelineno-108-9 href=#__codelineno-108-9></a><span class=p>);</span>
</code></pre></div> <p>This way you can use strict operators or make assumptions about the type of variables:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-109-1 name=__codelineno-109-1 href=#__codelineno-109-1></a><span class=o>&lt;?</span><span class=nx>php</span>
<a id=__codelineno-109-2 name=__codelineno-109-2 href=#__codelineno-109-2></a>
<a id=__codelineno-109-3 name=__codelineno-109-3 href=#__codelineno-109-3></a><span class=nv>$invoice</span> <span class=o>=</span> <span class=nx>Invoices</span><span class=o>::</span><span class=na>findFirst</span><span class=p>();</span>
<a id=__codelineno-109-4 name=__codelineno-109-4 href=#__codelineno-109-4></a><span class=k>if</span> <span class=p>(</span><span class=mi>11</span> <span class=o>===</span> <span class=nv>$invoice</span><span class=o>-&gt;</span><span class=na>inv_id</span><span class=p>)</span> <span class=p>{</span>
<a id=__codelineno-109-5 name=__codelineno-109-5 href=#__codelineno-109-5></a>    <span class=k>echo</span> <span class=nv>$invoice</span><span class=o>-&gt;</span><span class=na>inv_title</span><span class=p>;</span>
<a id=__codelineno-109-6 name=__codelineno-109-6 href=#__codelineno-109-6></a><span class=p>}</span>
</code></pre></div> <div class="admonition info"> <p class=admonition-title>NOTE</p> <p>If you wish to return the primary key when using the <code>lastInsertId</code> as an <code>integer</code>, you can use the <code>castLastInsertIdToInt =&gt; true</code> feature on the model.</p> </div> <h2 id=transactions>Transactions<a class=headerlink href=#transactions title="Permanent link">&para;</a></h2> <p>Working with transactions is supported the same way as with PDO. Using transactions increases performance in most database systems and also ensures data integrity:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-110-1 name=__codelineno-110-1 href=#__codelineno-110-1></a><span class=o>&lt;?</span><span class=nx>php</span>
<a id=__codelineno-110-2 name=__codelineno-110-2 href=#__codelineno-110-2></a>
<a id=__codelineno-110-3 name=__codelineno-110-3 href=#__codelineno-110-3></a><span class=k>try</span> <span class=p>{</span>
<a id=__codelineno-110-4 name=__codelineno-110-4 href=#__codelineno-110-4></a>    <span class=nv>$connection</span><span class=o>-&gt;</span><span class=na>begin</span><span class=p>();</span>
<a id=__codelineno-110-5 name=__codelineno-110-5 href=#__codelineno-110-5></a>
<a id=__codelineno-110-6 name=__codelineno-110-6 href=#__codelineno-110-6></a>    <span class=nv>$connection</span><span class=o>-&gt;</span><span class=na>execute</span><span class=p>(</span><span class=s1>&#39;DELETE `co_invoices` WHERE `inv_id` = 1&#39;</span><span class=p>);</span>
<a id=__codelineno-110-7 name=__codelineno-110-7 href=#__codelineno-110-7></a>    <span class=nv>$connection</span><span class=o>-&gt;</span><span class=na>execute</span><span class=p>(</span><span class=s1>&#39;DELETE `co_invoices` WHERE `inv_id` = 2&#39;</span><span class=p>);</span>
<a id=__codelineno-110-8 name=__codelineno-110-8 href=#__codelineno-110-8></a>    <span class=nv>$connection</span><span class=o>-&gt;</span><span class=na>execute</span><span class=p>(</span><span class=s1>&#39;DELETE `co_invoices` WHERE `inv_id` = 3&#39;</span><span class=p>);</span>
<a id=__codelineno-110-9 name=__codelineno-110-9 href=#__codelineno-110-9></a>
<a id=__codelineno-110-10 name=__codelineno-110-10 href=#__codelineno-110-10></a>    <span class=nv>$connection</span><span class=o>-&gt;</span><span class=na>commit</span><span class=p>();</span>
<a id=__codelineno-110-11 name=__codelineno-110-11 href=#__codelineno-110-11></a><span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>Exception</span> <span class=nv>$e</span><span class=p>)</span> <span class=p>{</span>
<a id=__codelineno-110-12 name=__codelineno-110-12 href=#__codelineno-110-12></a>    <span class=nv>$connection</span><span class=o>-&gt;</span><span class=na>rollback</span><span class=p>();</span>
<a id=__codelineno-110-13 name=__codelineno-110-13 href=#__codelineno-110-13></a><span class=p>}</span>
</code></pre></div> <p>In addition to standard transactions, the adapters offer provides built-in support for <a href=https://en.wikipedia.org/wiki/Nested_transaction>nested transactions</a>, if the database system used supports them. When you call <code>begin()</code> for a second time a nested transaction is created:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-111-1 name=__codelineno-111-1 href=#__codelineno-111-1></a><span class=o>&lt;?</span><span class=nx>php</span>
<a id=__codelineno-111-2 name=__codelineno-111-2 href=#__codelineno-111-2></a>
<a id=__codelineno-111-3 name=__codelineno-111-3 href=#__codelineno-111-3></a><span class=k>try</span> <span class=p>{</span>
<a id=__codelineno-111-4 name=__codelineno-111-4 href=#__codelineno-111-4></a>    <span class=nv>$connection</span><span class=o>-&gt;</span><span class=na>begin</span><span class=p>();</span>
<a id=__codelineno-111-5 name=__codelineno-111-5 href=#__codelineno-111-5></a>
<a id=__codelineno-111-6 name=__codelineno-111-6 href=#__codelineno-111-6></a>    <span class=nv>$connection</span><span class=o>-&gt;</span><span class=na>execute</span><span class=p>(</span><span class=s1>&#39;DELETE `co_invoices` WHERE `inv_id` = 1&#39;</span><span class=p>);</span>
<a id=__codelineno-111-7 name=__codelineno-111-7 href=#__codelineno-111-7></a>
<a id=__codelineno-111-8 name=__codelineno-111-8 href=#__codelineno-111-8></a>    <span class=k>try</span> <span class=p>{</span>
<a id=__codelineno-111-9 name=__codelineno-111-9 href=#__codelineno-111-9></a>        <span class=nv>$connection</span><span class=o>-&gt;</span><span class=na>begin</span><span class=p>();</span>
<a id=__codelineno-111-10 name=__codelineno-111-10 href=#__codelineno-111-10></a>
<a id=__codelineno-111-11 name=__codelineno-111-11 href=#__codelineno-111-11></a>        <span class=nv>$connection</span><span class=o>-&gt;</span><span class=na>execute</span><span class=p>(</span><span class=s1>&#39;DELETE `co_invoices` WHERE `inv_id` = 2&#39;</span><span class=p>);</span>
<a id=__codelineno-111-12 name=__codelineno-111-12 href=#__codelineno-111-12></a>        <span class=nv>$connection</span><span class=o>-&gt;</span><span class=na>execute</span><span class=p>(</span><span class=s1>&#39;DELETE `co_invoices` WHERE `inv_id` = 3&#39;</span><span class=p>);</span>
<a id=__codelineno-111-13 name=__codelineno-111-13 href=#__codelineno-111-13></a>
<a id=__codelineno-111-14 name=__codelineno-111-14 href=#__codelineno-111-14></a>        <span class=nv>$connection</span><span class=o>-&gt;</span><span class=na>commit</span><span class=p>();</span>
<a id=__codelineno-111-15 name=__codelineno-111-15 href=#__codelineno-111-15></a>    <span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>Exception</span> <span class=nv>$e</span><span class=p>)</span> <span class=p>{</span>
<a id=__codelineno-111-16 name=__codelineno-111-16 href=#__codelineno-111-16></a>        <span class=nv>$connection</span><span class=o>-&gt;</span><span class=na>rollback</span><span class=p>();</span>
<a id=__codelineno-111-17 name=__codelineno-111-17 href=#__codelineno-111-17></a>    <span class=p>}</span>
<a id=__codelineno-111-18 name=__codelineno-111-18 href=#__codelineno-111-18></a>
<a id=__codelineno-111-19 name=__codelineno-111-19 href=#__codelineno-111-19></a>    <span class=nv>$connection</span><span class=o>-&gt;</span><span class=na>execute</span><span class=p>(</span><span class=s1>&#39;DELETE `co_invoices` WHERE `inv_id` = 4&#39;</span><span class=p>);</span>
<a id=__codelineno-111-20 name=__codelineno-111-20 href=#__codelineno-111-20></a>
<a id=__codelineno-111-21 name=__codelineno-111-21 href=#__codelineno-111-21></a>    <span class=nv>$connection</span><span class=o>-&gt;</span><span class=na>commit</span><span class=p>();</span>
<a id=__codelineno-111-22 name=__codelineno-111-22 href=#__codelineno-111-22></a><span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>Exception</span> <span class=nv>$e</span><span class=p>)</span> <span class=p>{</span>
<a id=__codelineno-111-23 name=__codelineno-111-23 href=#__codelineno-111-23></a>    <span class=nv>$connection</span><span class=o>-&gt;</span><span class=na>rollback</span><span class=p>();</span>
<a id=__codelineno-111-24 name=__codelineno-111-24 href=#__codelineno-111-24></a><span class=p>}</span>
</code></pre></div> <h2 id=events>Events<a class=headerlink href=#events title="Permanent link">&para;</a></h2> <p>The adapters also send events to an <a href=../events/ >Events Manager</a> if it is present. If an event returns <code>false</code> it can stop the current operation. The following events are supported:</p> <table> <thead> <tr> <th>Event Name</th> <th>Triggered</th> <th style="text-align: center;">Can stop</th> </tr> </thead> <tbody> <tr> <td><code>afterQuery</code></td> <td>After a query is executed</td> <td style="text-align: center;">No</td> </tr> <tr> <td><code>beforeQuery</code></td> <td>Before a query is executed</td> <td style="text-align: center;">Yes</td> </tr> <tr> <td><code>beginTransaction</code></td> <td>Before a transaction starts</td> <td style="text-align: center;">No</td> </tr> <tr> <td><code>createSavepoint</code></td> <td>Before a savepoint is created</td> <td style="text-align: center;">No</td> </tr> <tr> <td><code>commitTransaction</code></td> <td>Before a transaction is committed</td> <td style="text-align: center;">No</td> </tr> <tr> <td><code>releaseSavepoint</code></td> <td>Before a savepoint is released</td> <td style="text-align: center;">No</td> </tr> <tr> <td><code>rollbackTransaction</code></td> <td>Before a transaction is rolled back</td> <td style="text-align: center;">No</td> </tr> <tr> <td><code>rollbackSavepoint</code></td> <td>Before a savepoint is rolled back</td> <td style="text-align: center;">No</td> </tr> </tbody> </table> <p>If you bind an <a href=../events/ >Events Manager</a> to the database connection, all the events with the type <code>db</code> will be enabled and fired for the relevant listeners.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-112-1 name=__codelineno-112-1 href=#__codelineno-112-1></a><span class=o>&lt;?</span><span class=nx>php</span>
<a id=__codelineno-112-2 name=__codelineno-112-2 href=#__codelineno-112-2></a>
<a id=__codelineno-112-3 name=__codelineno-112-3 href=#__codelineno-112-3></a><span class=k>use</span> <span class=nx>Phalcon\Events\Manager</span><span class=p>;</span>
<a id=__codelineno-112-4 name=__codelineno-112-4 href=#__codelineno-112-4></a><span class=k>use</span> <span class=nx>Phalcon\Db\Adapter\Pdo\Mysql</span><span class=p>;</span>
<a id=__codelineno-112-5 name=__codelineno-112-5 href=#__codelineno-112-5></a>
<a id=__codelineno-112-6 name=__codelineno-112-6 href=#__codelineno-112-6></a><span class=nv>$manager</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Manager</span><span class=p>();</span>
<a id=__codelineno-112-7 name=__codelineno-112-7 href=#__codelineno-112-7></a>
<a id=__codelineno-112-8 name=__codelineno-112-8 href=#__codelineno-112-8></a><span class=nv>$manager</span><span class=o>-&gt;</span><span class=na>attach</span><span class=p>(</span><span class=s1>&#39;db&#39;</span><span class=p>,</span> <span class=nv>$listener</span><span class=p>);</span>
<a id=__codelineno-112-9 name=__codelineno-112-9 href=#__codelineno-112-9></a>
<a id=__codelineno-112-10 name=__codelineno-112-10 href=#__codelineno-112-10></a><span class=nv>$connection</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Mysql</span><span class=p>(</span>
<a id=__codelineno-112-11 name=__codelineno-112-11 href=#__codelineno-112-11></a>    <span class=p>[</span>
<a id=__codelineno-112-12 name=__codelineno-112-12 href=#__codelineno-112-12></a>        <span class=s1>&#39;host&#39;</span>     <span class=o>=&gt;</span> <span class=s1>&#39;localhost&#39;</span><span class=p>,</span>
<a id=__codelineno-112-13 name=__codelineno-112-13 href=#__codelineno-112-13></a>        <span class=s1>&#39;username&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;root&#39;</span><span class=p>,</span>
<a id=__codelineno-112-14 name=__codelineno-112-14 href=#__codelineno-112-14></a>        <span class=s1>&#39;password&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;secret&#39;</span><span class=p>,</span>
<a id=__codelineno-112-15 name=__codelineno-112-15 href=#__codelineno-112-15></a>        <span class=s1>&#39;dbname&#39;</span>   <span class=o>=&gt;</span> <span class=s1>&#39;tutorial&#39;</span><span class=p>,</span>
<a id=__codelineno-112-16 name=__codelineno-112-16 href=#__codelineno-112-16></a>    <span class=p>]</span>
<a id=__codelineno-112-17 name=__codelineno-112-17 href=#__codelineno-112-17></a><span class=p>);</span>
<a id=__codelineno-112-18 name=__codelineno-112-18 href=#__codelineno-112-18></a>
<a id=__codelineno-112-19 name=__codelineno-112-19 href=#__codelineno-112-19></a><span class=nv>$connection</span><span class=o>-&gt;</span><span class=na>setEventsManager</span><span class=p>(</span><span class=nv>$manager</span><span class=p>);</span>
</code></pre></div> <p>You can use the power of these events to shield your application from dangerous SQL operations.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-113-1 name=__codelineno-113-1 href=#__codelineno-113-1></a><span class=o>&lt;?</span><span class=nx>php</span>
<a id=__codelineno-113-2 name=__codelineno-113-2 href=#__codelineno-113-2></a>
<a id=__codelineno-113-3 name=__codelineno-113-3 href=#__codelineno-113-3></a><span class=k>use</span> <span class=nx>Phalcon\Events\Event</span><span class=p>;</span>
<a id=__codelineno-113-4 name=__codelineno-113-4 href=#__codelineno-113-4></a>
<a id=__codelineno-113-5 name=__codelineno-113-5 href=#__codelineno-113-5></a><span class=nv>$manager</span><span class=o>-&gt;</span><span class=na>attach</span><span class=p>(</span>
<a id=__codelineno-113-6 name=__codelineno-113-6 href=#__codelineno-113-6></a>    <span class=s1>&#39;db:beforeQuery&#39;</span><span class=p>,</span>
<a id=__codelineno-113-7 name=__codelineno-113-7 href=#__codelineno-113-7></a>    <span class=k>function</span> <span class=p>(</span><span class=nx>Event</span> <span class=nv>$event</span><span class=p>,</span> <span class=nv>$connection</span><span class=p>)</span> <span class=p>{</span>
<a id=__codelineno-113-8 name=__codelineno-113-8 href=#__codelineno-113-8></a>        <span class=nv>$sql</span> <span class=o>=</span> <span class=nv>$connection</span><span class=o>-&gt;</span><span class=na>getSQLStatement</span><span class=p>();</span>
<a id=__codelineno-113-9 name=__codelineno-113-9 href=#__codelineno-113-9></a>
<a id=__codelineno-113-10 name=__codelineno-113-10 href=#__codelineno-113-10></a>        <span class=k>if</span> <span class=p>(</span><span class=k>true</span> <span class=o>===</span> <span class=nb>preg_match</span><span class=p>(</span><span class=s1>&#39;/DROP|ALTER/i&#39;</span><span class=p>,</span> <span class=nv>$sql</span><span class=p>))</span> <span class=p>{</span>
<a id=__codelineno-113-11 name=__codelineno-113-11 href=#__codelineno-113-11></a>            <span class=k>return</span> <span class=k>false</span><span class=p>;</span>
<a id=__codelineno-113-12 name=__codelineno-113-12 href=#__codelineno-113-12></a>        <span class=p>}</span>
<a id=__codelineno-113-13 name=__codelineno-113-13 href=#__codelineno-113-13></a>
<a id=__codelineno-113-14 name=__codelineno-113-14 href=#__codelineno-113-14></a>        <span class=k>return</span> <span class=k>true</span><span class=p>;</span>
<a id=__codelineno-113-15 name=__codelineno-113-15 href=#__codelineno-113-15></a>    <span class=p>}</span>
<a id=__codelineno-113-16 name=__codelineno-113-16 href=#__codelineno-113-16></a><span class=p>);</span>
</code></pre></div> <h2 id=profiling>Profiling<a class=headerlink href=#profiling title="Permanent link">&para;</a></h2> <p>The adapter includes the <a href=../api/phalcon_db/#dbprofiler>Phalcon\Db\Profiler</a> component, which is used to analyze the performance of database operations to diagnose performance problems and discover bottlenecks.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-114-1 name=__codelineno-114-1 href=#__codelineno-114-1></a><span class=o>&lt;?</span><span class=nx>php</span>
<a id=__codelineno-114-2 name=__codelineno-114-2 href=#__codelineno-114-2></a>
<a id=__codelineno-114-3 name=__codelineno-114-3 href=#__codelineno-114-3></a><span class=k>use</span> <span class=nx>Phalcon\Events\Event</span><span class=p>;</span>
<a id=__codelineno-114-4 name=__codelineno-114-4 href=#__codelineno-114-4></a><span class=k>use</span> <span class=nx>Phalcon\Events\Manager</span><span class=p>;</span>
<a id=__codelineno-114-5 name=__codelineno-114-5 href=#__codelineno-114-5></a><span class=k>use</span> <span class=nx>Phalcon\Db\Profiler</span><span class=p>;</span>
<a id=__codelineno-114-6 name=__codelineno-114-6 href=#__codelineno-114-6></a>
<a id=__codelineno-114-7 name=__codelineno-114-7 href=#__codelineno-114-7></a><span class=nv>$manager</span>  <span class=o>=</span> <span class=k>new</span> <span class=nx>Manager</span><span class=p>();</span>
<a id=__codelineno-114-8 name=__codelineno-114-8 href=#__codelineno-114-8></a><span class=nv>$profiler</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Profiler</span><span class=p>();</span>
<a id=__codelineno-114-9 name=__codelineno-114-9 href=#__codelineno-114-9></a>
<a id=__codelineno-114-10 name=__codelineno-114-10 href=#__codelineno-114-10></a><span class=nv>$manager</span><span class=o>-&gt;</span><span class=na>attach</span><span class=p>(</span>
<a id=__codelineno-114-11 name=__codelineno-114-11 href=#__codelineno-114-11></a>    <span class=s1>&#39;db&#39;</span><span class=p>,</span>
<a id=__codelineno-114-12 name=__codelineno-114-12 href=#__codelineno-114-12></a>    <span class=k>function</span> <span class=p>(</span><span class=nx>Event</span> <span class=nv>$event</span><span class=p>,</span> <span class=nv>$connection</span><span class=p>)</span> <span class=k>use</span> <span class=p>(</span><span class=nv>$profiler</span><span class=p>)</span> <span class=p>{</span>
<a id=__codelineno-114-13 name=__codelineno-114-13 href=#__codelineno-114-13></a>        <span class=k>if</span> <span class=p>(</span><span class=nv>$event</span><span class=o>-&gt;</span><span class=na>getType</span><span class=p>()</span> <span class=o>===</span> <span class=s1>&#39;beforeQuery&#39;</span><span class=p>)</span> <span class=p>{</span>
<a id=__codelineno-114-14 name=__codelineno-114-14 href=#__codelineno-114-14></a>            <span class=nv>$sql</span> <span class=o>=</span> <span class=nv>$connection</span><span class=o>-&gt;</span><span class=na>getSQLStatement</span><span class=p>();</span>
<a id=__codelineno-114-15 name=__codelineno-114-15 href=#__codelineno-114-15></a>            <span class=nv>$profiler</span><span class=o>-&gt;</span><span class=na>startProfile</span><span class=p>(</span><span class=nv>$sql</span><span class=p>);</span>
<a id=__codelineno-114-16 name=__codelineno-114-16 href=#__codelineno-114-16></a>        <span class=p>}</span>
<a id=__codelineno-114-17 name=__codelineno-114-17 href=#__codelineno-114-17></a>
<a id=__codelineno-114-18 name=__codelineno-114-18 href=#__codelineno-114-18></a>        <span class=k>if</span> <span class=p>(</span><span class=nv>$event</span><span class=o>-&gt;</span><span class=na>getType</span><span class=p>()</span> <span class=o>===</span> <span class=s1>&#39;afterQuery&#39;</span><span class=p>)</span> <span class=p>{</span>
<a id=__codelineno-114-19 name=__codelineno-114-19 href=#__codelineno-114-19></a>            <span class=nv>$profiler</span><span class=o>-&gt;</span><span class=na>stopProfile</span><span class=p>();</span>
<a id=__codelineno-114-20 name=__codelineno-114-20 href=#__codelineno-114-20></a>        <span class=p>}</span>
<a id=__codelineno-114-21 name=__codelineno-114-21 href=#__codelineno-114-21></a>    <span class=p>}</span>
<a id=__codelineno-114-22 name=__codelineno-114-22 href=#__codelineno-114-22></a><span class=p>);</span>
<a id=__codelineno-114-23 name=__codelineno-114-23 href=#__codelineno-114-23></a>
<a id=__codelineno-114-24 name=__codelineno-114-24 href=#__codelineno-114-24></a><span class=nv>$connection</span><span class=o>-&gt;</span><span class=na>setEventsManager</span><span class=p>(</span><span class=nv>$manager</span><span class=p>);</span>
<a id=__codelineno-114-25 name=__codelineno-114-25 href=#__codelineno-114-25></a>
<a id=__codelineno-114-26 name=__codelineno-114-26 href=#__codelineno-114-26></a><span class=nv>$sql</span> <span class=o>=</span> <span class=s1>&#39;</span>
<a id=__codelineno-114-27 name=__codelineno-114-27 href=#__codelineno-114-27></a><span class=s1>SELECT </span>
<a id=__codelineno-114-28 name=__codelineno-114-28 href=#__codelineno-114-28></a><span class=s1>    inv_id,</span>
<a id=__codelineno-114-29 name=__codelineno-114-29 href=#__codelineno-114-29></a><span class=s1>    inv_title</span>
<a id=__codelineno-114-30 name=__codelineno-114-30 href=#__codelineno-114-30></a><span class=s1>FROM </span>
<a id=__codelineno-114-31 name=__codelineno-114-31 href=#__codelineno-114-31></a><span class=s1>    co_invoices</span>
<a id=__codelineno-114-32 name=__codelineno-114-32 href=#__codelineno-114-32></a><span class=s1>&#39;</span><span class=p>;</span>
<a id=__codelineno-114-33 name=__codelineno-114-33 href=#__codelineno-114-33></a><span class=nv>$connection</span><span class=o>-&gt;</span><span class=na>query</span><span class=p>(</span><span class=nv>$sql</span><span class=p>);</span>
<a id=__codelineno-114-34 name=__codelineno-114-34 href=#__codelineno-114-34></a>
<a id=__codelineno-114-35 name=__codelineno-114-35 href=#__codelineno-114-35></a><span class=nv>$profile</span> <span class=o>=</span> <span class=nv>$profiler</span><span class=o>-&gt;</span><span class=na>getLastProfile</span><span class=p>();</span>
<a id=__codelineno-114-36 name=__codelineno-114-36 href=#__codelineno-114-36></a>
<a id=__codelineno-114-37 name=__codelineno-114-37 href=#__codelineno-114-37></a><span class=k>echo</span> <span class=s1>&#39;SQL Statement: &#39;</span><span class=p>,</span> <span class=nv>$profile</span><span class=o>-&gt;</span><span class=na>getSQLStatement</span><span class=p>(),</span> <span class=nx>PHP_EOL</span><span class=p>,</span>
<a id=__codelineno-114-38 name=__codelineno-114-38 href=#__codelineno-114-38></a>     <span class=s1>&#39;Start Time: &#39;</span><span class=p>,</span> <span class=nv>$profile</span><span class=o>-&gt;</span><span class=na>getInitialTime</span><span class=p>(),</span> <span class=nx>PHP_EOL</span><span class=p>,</span>
<a id=__codelineno-114-39 name=__codelineno-114-39 href=#__codelineno-114-39></a>     <span class=s1>&#39;Final Time: &#39;</span><span class=p>,</span> <span class=nv>$profile</span><span class=o>-&gt;</span><span class=na>getFinalTime</span><span class=p>(),</span> <span class=nx>PHP_EOL</span><span class=p>,</span>
<a id=__codelineno-114-40 name=__codelineno-114-40 href=#__codelineno-114-40></a>     <span class=s1>&#39;Total Elapsed Time: &#39;</span><span class=p>,</span> <span class=nv>$profile</span><span class=o>-&gt;</span><span class=na>getTotalElapsedSeconds</span><span class=p>(),</span> <span class=nx>PHP_EOL</span><span class=p>;</span>
</code></pre></div> <p>The profiler exposes the <code>getProfiles()</code> method, returning an array of <code>Phalcon\Db\Profiler\Item</code> objects. Each object contains relevant statistics, including calculations for seconds, microseconds, and nanoseconds.</p> <p>You can also create your profile class based on the <a href=../api/phalcon_db/#dbprofiler>Phalcon\Db\Profiler</a> class to record real-time statistics of the statements that are sent to the database:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-115-1 name=__codelineno-115-1 href=#__codelineno-115-1></a><span class=o>&lt;?</span><span class=nx>php</span>
<a id=__codelineno-115-2 name=__codelineno-115-2 href=#__codelineno-115-2></a>
<a id=__codelineno-115-3 name=__codelineno-115-3 href=#__codelineno-115-3></a><span class=k>use</span> <span class=nx>Phalcon\Events\Manager</span><span class=p>;</span>
<a id=__codelineno-115-4 name=__codelineno-115-4 href=#__codelineno-115-4></a><span class=k>use</span> <span class=nx>Phalcon\Db\Profiler</span><span class=p>;</span>
<a id=__codelineno-115-5 name=__codelineno-115-5 href=#__codelineno-115-5></a><span class=k>use</span> <span class=nx>Phalcon\Db\Profiler\Item</span><span class=p>;</span>
<a id=__codelineno-115-6 name=__codelineno-115-6 href=#__codelineno-115-6></a>
<a id=__codelineno-115-7 name=__codelineno-115-7 href=#__codelineno-115-7></a><span class=k>class</span> <span class=nc>DbProfiler</span> <span class=k>extends</span> <span class=nx>Profiler</span>
<a id=__codelineno-115-8 name=__codelineno-115-8 href=#__codelineno-115-8></a><span class=p>{</span>
<a id=__codelineno-115-9 name=__codelineno-115-9 href=#__codelineno-115-9></a>    <span class=k>public</span> <span class=k>function</span> <span class=nf>beforeStartProfile</span><span class=p>(</span><span class=nx>Item</span> <span class=nv>$profile</span><span class=p>)</span>
<a id=__codelineno-115-10 name=__codelineno-115-10 href=#__codelineno-115-10></a>    <span class=p>{</span>
<a id=__codelineno-115-11 name=__codelineno-115-11 href=#__codelineno-115-11></a>        <span class=k>echo</span> <span class=nv>$profile</span><span class=o>-&gt;</span><span class=na>getSQLStatement</span><span class=p>();</span>
<a id=__codelineno-115-12 name=__codelineno-115-12 href=#__codelineno-115-12></a>    <span class=p>}</span>
<a id=__codelineno-115-13 name=__codelineno-115-13 href=#__codelineno-115-13></a>
<a id=__codelineno-115-14 name=__codelineno-115-14 href=#__codelineno-115-14></a>    <span class=k>public</span> <span class=k>function</span> <span class=nf>afterEndProfile</span><span class=p>(</span><span class=nx>Item</span> <span class=nv>$profile</span><span class=p>)</span>
<a id=__codelineno-115-15 name=__codelineno-115-15 href=#__codelineno-115-15></a>    <span class=p>{</span>
<a id=__codelineno-115-16 name=__codelineno-115-16 href=#__codelineno-115-16></a>        <span class=k>echo</span> <span class=nv>$profile</span><span class=o>-&gt;</span><span class=na>getTotalElapsedSeconds</span><span class=p>();</span>
<a id=__codelineno-115-17 name=__codelineno-115-17 href=#__codelineno-115-17></a>    <span class=p>}</span>
<a id=__codelineno-115-18 name=__codelineno-115-18 href=#__codelineno-115-18></a><span class=p>}</span>
<a id=__codelineno-115-19 name=__codelineno-115-19 href=#__codelineno-115-19></a>
<a id=__codelineno-115-20 name=__codelineno-115-20 href=#__codelineno-115-20></a><span class=nv>$manager</span>  <span class=o>=</span> <span class=k>new</span> <span class=nx>Manager</span><span class=p>();</span>
<a id=__codelineno-115-21 name=__codelineno-115-21 href=#__codelineno-115-21></a><span class=nv>$listener</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>DbProfiler</span><span class=p>();</span>
<a id=__codelineno-115-22 name=__codelineno-115-22 href=#__codelineno-115-22></a>
<a id=__codelineno-115-23 name=__codelineno-115-23 href=#__codelineno-115-23></a><span class=nv>$manager</span><span class=o>-&gt;</span><span class=na>attach</span><span class=p>(</span><span class=s1>&#39;db&#39;</span><span class=p>,</span> <span class=nv>$listener</span><span class=p>);</span>
</code></pre></div> <h2 id=logging>Logging<a class=headerlink href=#logging title="Permanent link">&para;</a></h2> <p>Using high-level abstraction components such as the <code>Phalcon\Db</code> adapters to access the database, makes it difficult to understand which statements are sent to the database system. The <a href=../logger/ >Phalcon\Logger\Logger</a> component interacts with the <code>Phalcon\Db</code> adapters offering logging capabilities on the database abstraction level.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-116-1 name=__codelineno-116-1 href=#__codelineno-116-1></a><span class=o>&lt;?</span><span class=nx>php</span>
<a id=__codelineno-116-2 name=__codelineno-116-2 href=#__codelineno-116-2></a>
<a id=__codelineno-116-3 name=__codelineno-116-3 href=#__codelineno-116-3></a><span class=k>use</span> <span class=nx>Phalcon\Events\Event</span><span class=p>;</span>
<a id=__codelineno-116-4 name=__codelineno-116-4 href=#__codelineno-116-4></a><span class=k>use</span> <span class=nx>Phalcon\Events\Manager</span><span class=p>;</span>
<a id=__codelineno-116-5 name=__codelineno-116-5 href=#__codelineno-116-5></a><span class=k>use</span> <span class=nx>Phalcon\Logger\Logger</span><span class=p>;</span>
<a id=__codelineno-116-6 name=__codelineno-116-6 href=#__codelineno-116-6></a><span class=k>use</span> <span class=nx>Phalcon\Logger\Adapter\Stream</span><span class=p>;</span>
<a id=__codelineno-116-7 name=__codelineno-116-7 href=#__codelineno-116-7></a>
<a id=__codelineno-116-8 name=__codelineno-116-8 href=#__codelineno-116-8></a><span class=nv>$adapter</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Stream</span><span class=p>(</span><span class=s1>&#39;/storage/logs/queries.log&#39;</span><span class=p>);</span>
<a id=__codelineno-116-9 name=__codelineno-116-9 href=#__codelineno-116-9></a><span class=nv>$logger</span>  <span class=o>=</span> <span class=k>new</span> <span class=nx>Logger</span><span class=p>(</span>
<a id=__codelineno-116-10 name=__codelineno-116-10 href=#__codelineno-116-10></a>    <span class=s1>&#39;messages&#39;</span><span class=p>,</span>
<a id=__codelineno-116-11 name=__codelineno-116-11 href=#__codelineno-116-11></a>    <span class=p>[</span>
<a id=__codelineno-116-12 name=__codelineno-116-12 href=#__codelineno-116-12></a>        <span class=s1>&#39;main&#39;</span> <span class=o>=&gt;</span> <span class=nv>$adapter</span><span class=p>,</span>
<a id=__codelineno-116-13 name=__codelineno-116-13 href=#__codelineno-116-13></a>    <span class=p>]</span>
<a id=__codelineno-116-14 name=__codelineno-116-14 href=#__codelineno-116-14></a><span class=p>);</span>
<a id=__codelineno-116-15 name=__codelineno-116-15 href=#__codelineno-116-15></a>
<a id=__codelineno-116-16 name=__codelineno-116-16 href=#__codelineno-116-16></a><span class=nv>$manager</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Manager</span><span class=p>();</span>
<a id=__codelineno-116-17 name=__codelineno-116-17 href=#__codelineno-116-17></a>
<a id=__codelineno-116-18 name=__codelineno-116-18 href=#__codelineno-116-18></a><span class=nv>$manager</span><span class=o>-&gt;</span><span class=na>attach</span><span class=p>(</span>
<a id=__codelineno-116-19 name=__codelineno-116-19 href=#__codelineno-116-19></a>    <span class=s1>&#39;db:beforeQuery&#39;</span><span class=p>,</span>
<a id=__codelineno-116-20 name=__codelineno-116-20 href=#__codelineno-116-20></a>    <span class=k>function</span> <span class=p>(</span><span class=nx>Event</span> <span class=nv>$event</span><span class=p>,</span> <span class=nv>$connection</span><span class=p>)</span> <span class=k>use</span> <span class=p>(</span><span class=nv>$logger</span><span class=p>)</span> <span class=p>{</span>
<a id=__codelineno-116-21 name=__codelineno-116-21 href=#__codelineno-116-21></a>        <span class=nv>$sql</span> <span class=o>=</span> <span class=nv>$connection</span><span class=o>-&gt;</span><span class=na>getSQLStatement</span><span class=p>();</span>
<a id=__codelineno-116-22 name=__codelineno-116-22 href=#__codelineno-116-22></a>
<a id=__codelineno-116-23 name=__codelineno-116-23 href=#__codelineno-116-23></a>        <span class=nv>$logger</span><span class=o>-&gt;</span><span class=na>info</span><span class=p>(</span>
<a id=__codelineno-116-24 name=__codelineno-116-24 href=#__codelineno-116-24></a>            <span class=nb>sprintf</span><span class=p>(</span>
<a id=__codelineno-116-25 name=__codelineno-116-25 href=#__codelineno-116-25></a>                <span class=s1>&#39;%s - [%s]&#39;</span><span class=p>,</span>
<a id=__codelineno-116-26 name=__codelineno-116-26 href=#__codelineno-116-26></a>                <span class=nv>$connection</span><span class=o>-&gt;</span><span class=na>getSQLStatement</span><span class=p>(),</span>
<a id=__codelineno-116-27 name=__codelineno-116-27 href=#__codelineno-116-27></a>                <span class=nb>json_encode</span><span class=p>(</span><span class=nv>$connection</span><span class=o>-&gt;</span><span class=na>getSQLVariables</span><span class=p>())</span>
<a id=__codelineno-116-28 name=__codelineno-116-28 href=#__codelineno-116-28></a>            <span class=p>)</span>
<a id=__codelineno-116-29 name=__codelineno-116-29 href=#__codelineno-116-29></a>        <span class=p>);</span>
<a id=__codelineno-116-30 name=__codelineno-116-30 href=#__codelineno-116-30></a>    <span class=p>}</span>
<a id=__codelineno-116-31 name=__codelineno-116-31 href=#__codelineno-116-31></a><span class=p>);</span>
<a id=__codelineno-116-32 name=__codelineno-116-32 href=#__codelineno-116-32></a>
<a id=__codelineno-116-33 name=__codelineno-116-33 href=#__codelineno-116-33></a><span class=nv>$connection</span><span class=o>-&gt;</span><span class=na>setEventsManager</span><span class=p>(</span><span class=nv>$manager</span><span class=p>);</span>
<a id=__codelineno-116-34 name=__codelineno-116-34 href=#__codelineno-116-34></a>
<a id=__codelineno-116-35 name=__codelineno-116-35 href=#__codelineno-116-35></a><span class=nv>$connection</span><span class=o>-&gt;</span><span class=na>insert</span><span class=p>(</span>
<a id=__codelineno-116-36 name=__codelineno-116-36 href=#__codelineno-116-36></a>    <span class=s1>&#39;products&#39;</span><span class=p>,</span>
<a id=__codelineno-116-37 name=__codelineno-116-37 href=#__codelineno-116-37></a>    <span class=p>[</span>
<a id=__codelineno-116-38 name=__codelineno-116-38 href=#__codelineno-116-38></a>        <span class=s1>&#39;Hot pepper&#39;</span><span class=p>,</span>
<a id=__codelineno-116-39 name=__codelineno-116-39 href=#__codelineno-116-39></a>        <span class=mf>3.50</span><span class=p>,</span>
<a id=__codelineno-116-40 name=__codelineno-116-40 href=#__codelineno-116-40></a>    <span class=p>],</span>
<a id=__codelineno-116-41 name=__codelineno-116-41 href=#__codelineno-116-41></a>    <span class=p>[</span>
<a id=__codelineno-116-42 name=__codelineno-116-42 href=#__codelineno-116-42></a>        <span class=s1>&#39;name&#39;</span><span class=p>,</span>
<a id=__codelineno-116-43 name=__codelineno-116-43 href=#__codelineno-116-43></a>        <span class=s1>&#39;price&#39;</span><span class=p>,</span>
<a id=__codelineno-116-44 name=__codelineno-116-44 href=#__codelineno-116-44></a>    <span class=p>]</span>
<a id=__codelineno-116-45 name=__codelineno-116-45 href=#__codelineno-116-45></a><span class=p>);</span>
<a id=__codelineno-116-46 name=__codelineno-116-46 href=#__codelineno-116-46></a><span class=nv>$connection</span><span class=o>-&gt;</span><span class=na>insert</span><span class=p>(</span>
<a id=__codelineno-116-47 name=__codelineno-116-47 href=#__codelineno-116-47></a>    <span class=s1>&#39;co_invoices&#39;</span><span class=p>,</span>
<a id=__codelineno-116-48 name=__codelineno-116-48 href=#__codelineno-116-48></a>    <span class=p>[</span>
<a id=__codelineno-116-49 name=__codelineno-116-49 href=#__codelineno-116-49></a>        <span class=mi>1</span><span class=p>,</span>
<a id=__codelineno-116-50 name=__codelineno-116-50 href=#__codelineno-116-50></a>        <span class=s1>&#39;Invoice for ACME Inc.&#39;</span><span class=p>,</span>
<a id=__codelineno-116-51 name=__codelineno-116-51 href=#__codelineno-116-51></a>    <span class=p>],</span>
<a id=__codelineno-116-52 name=__codelineno-116-52 href=#__codelineno-116-52></a>    <span class=p>[</span>
<a id=__codelineno-116-53 name=__codelineno-116-53 href=#__codelineno-116-53></a>        <span class=s1>&#39;inv_cst_id&#39;</span><span class=p>,</span>
<a id=__codelineno-116-54 name=__codelineno-116-54 href=#__codelineno-116-54></a>        <span class=s1>&#39;inv_title&#39;</span><span class=p>,</span> 
<a id=__codelineno-116-55 name=__codelineno-116-55 href=#__codelineno-116-55></a>    <span class=p>]</span>
<a id=__codelineno-116-56 name=__codelineno-116-56 href=#__codelineno-116-56></a><span class=p>);</span>
</code></pre></div> <p>As above, the file <code>/storage/logs/queries.log</code> will contain something like this:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-117-1 name=__codelineno-117-1 href=#__codelineno-117-1></a>[2019-12-25 01:02:03][INFO] INSERT INTO `co_invoices` 
<a id=__codelineno-117-2 name=__codelineno-117-2 href=#__codelineno-117-2></a>    SET (`inv_cst_id`, `inv_title`) 
<a id=__codelineno-117-3 name=__codelineno-117-3 href=#__codelineno-117-3></a>    VALUES (1, &#39;Invoice for ACME Inc.&#39;)
</code></pre></div> <p>The listener will also work with models and their operations. It will also include all bound parameters that the query uses at the end of the logged statement.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-118-1 name=__codelineno-118-1 href=#__codelineno-118-1></a>[2019-12-25 01:02:03][INFO] SELECT `co_customers`.`cst_id`, 
<a id=__codelineno-118-2 name=__codelineno-118-2 href=#__codelineno-118-2></a>    ...,
<a id=__codelineno-118-3 name=__codelineno-118-3 href=#__codelineno-118-3></a>    FROM `co_customers` 
<a id=__codelineno-118-4 name=__codelineno-118-4 href=#__codelineno-118-4></a>    WHERE LOWER(`co_customers`.`cst_email`) = :cst_email 
<a id=__codelineno-118-5 name=__codelineno-118-5 href=#__codelineno-118-5></a>    LIMIT :APL0 - [{&quot;emp_email&quot;:&quot;team@phalcon.ld&quot;,&quot;APL0&quot;:1}]
</code></pre></div> <h2 id=tables>Tables<a class=headerlink href=#tables title="Permanent link">&para;</a></h2> <h3 id=describe>Describe<a class=headerlink href=#describe title="Permanent link">&para;</a></h3> <p>The <code>Phalcon\Db</code> adapters also provide methods to retrieve detailed information about tables and views:</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-119-1 name=__codelineno-119-1 href=#__codelineno-119-1></a><span class=o>&lt;?</span><span class=nx>php</span>
<a id=__codelineno-119-2 name=__codelineno-119-2 href=#__codelineno-119-2></a>
<a id=__codelineno-119-3 name=__codelineno-119-3 href=#__codelineno-119-3></a><span class=nv>$tables</span> <span class=o>=</span> <span class=nv>$connection</span><span class=o>-&gt;</span><span class=na>listTables</span><span class=p>(</span><span class=s1>&#39;phalcon_db&#39;</span><span class=p>);</span>
</code></pre></div> Get tables on the <code>phalcon_db</code> database</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-120-1 name=__codelineno-120-1 href=#__codelineno-120-1></a><span class=o>&lt;?</span><span class=nx>php</span>
<a id=__codelineno-120-2 name=__codelineno-120-2 href=#__codelineno-120-2></a>
<a id=__codelineno-120-3 name=__codelineno-120-3 href=#__codelineno-120-3></a><span class=nv>$exists</span> <span class=o>=</span> <span class=nv>$connection</span><span class=o>-&gt;</span><span class=na>tableExists</span><span class=p>(</span><span class=s1>&#39;co_invoices&#39;</span><span class=p>);</span>
</code></pre></div> Check if there is a table called <code>co_invoices</code> in the database.</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-121-1 name=__codelineno-121-1 href=#__codelineno-121-1></a><span class=o>&lt;?</span><span class=nx>php</span>
<a id=__codelineno-121-2 name=__codelineno-121-2 href=#__codelineno-121-2></a>
<a id=__codelineno-121-3 name=__codelineno-121-3 href=#__codelineno-121-3></a><span class=nv>$fields</span> <span class=o>=</span> <span class=nv>$connection</span><span class=o>-&gt;</span><span class=na>describeColumns</span><span class=p>(</span><span class=s1>&#39;co_invoices&#39;</span><span class=p>);</span>
<a id=__codelineno-121-4 name=__codelineno-121-4 href=#__codelineno-121-4></a><span class=k>foreach</span> <span class=p>(</span><span class=nv>$fields</span> <span class=k>as</span> <span class=nv>$field</span><span class=p>)</span> <span class=p>{</span>
<a id=__codelineno-121-5 name=__codelineno-121-5 href=#__codelineno-121-5></a>    <span class=k>echo</span> <span class=s1>&#39;Column Type: &#39;</span><span class=p>,</span> <span class=nv>$field</span><span class=p>[</span><span class=s1>&#39;Type&#39;</span><span class=p>];</span>
<a id=__codelineno-121-6 name=__codelineno-121-6 href=#__codelineno-121-6></a><span class=p>}</span>
</code></pre></div> Print the name and data types of the <code>co_invoices</code> table</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-122-1 name=__codelineno-122-1 href=#__codelineno-122-1></a><span class=o>&lt;?</span><span class=nx>php</span>
<a id=__codelineno-122-2 name=__codelineno-122-2 href=#__codelineno-122-2></a>
<a id=__codelineno-122-3 name=__codelineno-122-3 href=#__codelineno-122-3></a><span class=nv>$indexes</span> <span class=o>=</span> <span class=nv>$connection</span><span class=o>-&gt;</span><span class=na>describeIndexes</span><span class=p>(</span><span class=s1>&#39;co_invoices&#39;</span><span class=p>);</span>
<a id=__codelineno-122-4 name=__codelineno-122-4 href=#__codelineno-122-4></a><span class=k>foreach</span> <span class=p>(</span><span class=nv>$indexes</span> <span class=k>as</span> <span class=nv>$index</span><span class=p>)</span> <span class=p>{</span>
<a id=__codelineno-122-5 name=__codelineno-122-5 href=#__codelineno-122-5></a>    <span class=nb>print_r</span><span class=p>(</span>
<a id=__codelineno-122-6 name=__codelineno-122-6 href=#__codelineno-122-6></a>        <span class=nv>$index</span><span class=o>-&gt;</span><span class=na>getColumns</span><span class=p>()</span>
<a id=__codelineno-122-7 name=__codelineno-122-7 href=#__codelineno-122-7></a>    <span class=p>);</span>
<a id=__codelineno-122-8 name=__codelineno-122-8 href=#__codelineno-122-8></a><span class=p>}</span>
</code></pre></div> Print the indexes in the <code>co_invoices</code> table</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-123-1 name=__codelineno-123-1 href=#__codelineno-123-1></a><span class=o>&lt;?</span><span class=nx>php</span>
<a id=__codelineno-123-2 name=__codelineno-123-2 href=#__codelineno-123-2></a>
<a id=__codelineno-123-3 name=__codelineno-123-3 href=#__codelineno-123-3></a><span class=nv>$references</span> <span class=o>=</span> <span class=nv>$connection</span><span class=o>-&gt;</span><span class=na>describeReferences</span><span class=p>(</span><span class=s1>&#39;co_invoices&#39;</span><span class=p>);</span>
<a id=__codelineno-123-4 name=__codelineno-123-4 href=#__codelineno-123-4></a><span class=k>foreach</span> <span class=p>(</span><span class=nv>$references</span> <span class=k>as</span> <span class=nv>$reference</span><span class=p>)</span> <span class=p>{</span>
<a id=__codelineno-123-5 name=__codelineno-123-5 href=#__codelineno-123-5></a>    <span class=nb>print_r</span><span class=p>(</span>
<a id=__codelineno-123-6 name=__codelineno-123-6 href=#__codelineno-123-6></a>        <span class=nv>$reference</span><span class=o>-&gt;</span><span class=na>getReferencedColumns</span><span class=p>()</span>
<a id=__codelineno-123-7 name=__codelineno-123-7 href=#__codelineno-123-7></a>    <span class=p>);</span>
<a id=__codelineno-123-8 name=__codelineno-123-8 href=#__codelineno-123-8></a><span class=p>}</span>
</code></pre></div> Print the foreign keys on the 'co_invoices' table</p> <p>A table description is very similar to the MySQL <code>DESCRIBE</code> command, it contains the following information:</p> <table> <thead> <tr> <th>Field</th> <th>Type</th> <th>Key</th> <th>Null</th> </tr> </thead> <tbody> <tr> <td>Field's name</td> <td>Column Type</td> <td>Is the column part of the primary key or an index?</td> <td>Does the column allow null values?</td> </tr> </tbody> </table> <p>Methods to get information about views are also implemented for every supported database system:</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-124-1 name=__codelineno-124-1 href=#__codelineno-124-1></a><span class=o>&lt;?</span><span class=nx>php</span>
<a id=__codelineno-124-2 name=__codelineno-124-2 href=#__codelineno-124-2></a>
<a id=__codelineno-124-3 name=__codelineno-124-3 href=#__codelineno-124-3></a><span class=nv>$tables</span> <span class=o>=</span> <span class=nv>$connection</span><span class=o>-&gt;</span><span class=na>listViews</span><span class=p>(</span><span class=s1>&#39;phalcon_db&#39;</span><span class=p>);</span>
</code></pre></div> Get views on the <code>phalcon_db</code> database</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-125-1 name=__codelineno-125-1 href=#__codelineno-125-1></a><span class=o>&lt;?</span><span class=nx>php</span>
<a id=__codelineno-125-2 name=__codelineno-125-2 href=#__codelineno-125-2></a>
<a id=__codelineno-125-3 name=__codelineno-125-3 href=#__codelineno-125-3></a><span class=nv>$exists</span> <span class=o>=</span> <span class=nv>$connection</span><span class=o>-&gt;</span><span class=na>viewExists</span><span class=p>(</span><span class=s1>&#39;vw_invoices&#39;</span><span class=p>);</span>
</code></pre></div> Check if there is a view <code>vw_invoices</code> in the database</p> <h3 id=create_1>Create<a class=headerlink href=#create_1 title="Permanent link">&para;</a></h3> <p>Different database systems (MySQL, Postgresql, etc.) offer the ability to create, alter or drop tables with the use of commands such as <code>CREATE</code>, <code>ALTER</code>, or <code>DROP</code>. The SQL syntax differs based on which database system is used. <code>Phalcon\Db</code> adapters offer a unified interface to alter tables, without the need to differentiate the SQL syntax based on the target storage system.</p> <p>An example of how to create a table is shown below:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-126-1 name=__codelineno-126-1 href=#__codelineno-126-1></a><span class=o>&lt;?</span><span class=nx>php</span>
<a id=__codelineno-126-2 name=__codelineno-126-2 href=#__codelineno-126-2></a>
<a id=__codelineno-126-3 name=__codelineno-126-3 href=#__codelineno-126-3></a><span class=k>use</span> <span class=nx>\Phalcon\Db\Column</span> <span class=k>as</span> <span class=nx>Column</span><span class=p>;</span>
<a id=__codelineno-126-4 name=__codelineno-126-4 href=#__codelineno-126-4></a>
<a id=__codelineno-126-5 name=__codelineno-126-5 href=#__codelineno-126-5></a><span class=nv>$connection</span><span class=o>-&gt;</span><span class=na>createTable</span><span class=p>(</span>
<a id=__codelineno-126-6 name=__codelineno-126-6 href=#__codelineno-126-6></a>    <span class=s1>&#39;co_invoices&#39;</span><span class=p>,</span>
<a id=__codelineno-126-7 name=__codelineno-126-7 href=#__codelineno-126-7></a>    <span class=k>null</span><span class=p>,</span>
<a id=__codelineno-126-8 name=__codelineno-126-8 href=#__codelineno-126-8></a>    <span class=p>[</span>
<a id=__codelineno-126-9 name=__codelineno-126-9 href=#__codelineno-126-9></a>       <span class=s1>&#39;columns&#39;</span> <span class=o>=&gt;</span> <span class=p>[</span>
<a id=__codelineno-126-10 name=__codelineno-126-10 href=#__codelineno-126-10></a>            <span class=k>new</span> <span class=nx>Column</span><span class=p>(</span>
<a id=__codelineno-126-11 name=__codelineno-126-11 href=#__codelineno-126-11></a>                <span class=s1>&#39;inv_id&#39;</span><span class=p>,</span>
<a id=__codelineno-126-12 name=__codelineno-126-12 href=#__codelineno-126-12></a>                <span class=p>[</span>
<a id=__codelineno-126-13 name=__codelineno-126-13 href=#__codelineno-126-13></a>                    <span class=s1>&#39;type&#39;</span>          <span class=o>=&gt;</span> <span class=nx>Column</span><span class=o>::</span><span class=na>TYPE_INTEGER</span><span class=p>,</span>
<a id=__codelineno-126-14 name=__codelineno-126-14 href=#__codelineno-126-14></a>                    <span class=s1>&#39;size&#39;</span>          <span class=o>=&gt;</span> <span class=mi>10</span><span class=p>,</span>
<a id=__codelineno-126-15 name=__codelineno-126-15 href=#__codelineno-126-15></a>                    <span class=s1>&#39;notNull&#39;</span>       <span class=o>=&gt;</span> <span class=k>true</span><span class=p>,</span>
<a id=__codelineno-126-16 name=__codelineno-126-16 href=#__codelineno-126-16></a>                    <span class=s1>&#39;autoIncrement&#39;</span> <span class=o>=&gt;</span> <span class=k>true</span><span class=p>,</span>
<a id=__codelineno-126-17 name=__codelineno-126-17 href=#__codelineno-126-17></a>                    <span class=s1>&#39;primary&#39;</span>       <span class=o>=&gt;</span> <span class=k>true</span><span class=p>,</span>
<a id=__codelineno-126-18 name=__codelineno-126-18 href=#__codelineno-126-18></a>                <span class=p>]</span>
<a id=__codelineno-126-19 name=__codelineno-126-19 href=#__codelineno-126-19></a>            <span class=p>),</span>
<a id=__codelineno-126-20 name=__codelineno-126-20 href=#__codelineno-126-20></a>            <span class=k>new</span> <span class=nx>Column</span><span class=p>(</span>
<a id=__codelineno-126-21 name=__codelineno-126-21 href=#__codelineno-126-21></a>                <span class=s1>&#39;inv_cst_id&#39;</span><span class=p>,</span>
<a id=__codelineno-126-22 name=__codelineno-126-22 href=#__codelineno-126-22></a>                <span class=p>[</span>
<a id=__codelineno-126-23 name=__codelineno-126-23 href=#__codelineno-126-23></a>                    <span class=s1>&#39;type&#39;</span>    <span class=o>=&gt;</span> <span class=nx>Column</span><span class=o>::</span><span class=na>TYPE_INTEGER</span><span class=p>,</span>
<a id=__codelineno-126-24 name=__codelineno-126-24 href=#__codelineno-126-24></a>                    <span class=s1>&#39;size&#39;</span>    <span class=o>=&gt;</span> <span class=mi>11</span><span class=p>,</span>
<a id=__codelineno-126-25 name=__codelineno-126-25 href=#__codelineno-126-25></a>                    <span class=s1>&#39;notNull&#39;</span> <span class=o>=&gt;</span> <span class=k>true</span><span class=p>,</span>
<a id=__codelineno-126-26 name=__codelineno-126-26 href=#__codelineno-126-26></a>                <span class=p>]</span>
<a id=__codelineno-126-27 name=__codelineno-126-27 href=#__codelineno-126-27></a>            <span class=p>),</span>
<a id=__codelineno-126-28 name=__codelineno-126-28 href=#__codelineno-126-28></a>            <span class=k>new</span> <span class=nx>Column</span><span class=p>(</span>
<a id=__codelineno-126-29 name=__codelineno-126-29 href=#__codelineno-126-29></a>                <span class=s1>&#39;inv_title&#39;</span><span class=p>,</span>
<a id=__codelineno-126-30 name=__codelineno-126-30 href=#__codelineno-126-30></a>                <span class=p>[</span>
<a id=__codelineno-126-31 name=__codelineno-126-31 href=#__codelineno-126-31></a>                    <span class=s1>&#39;type&#39;</span>    <span class=o>=&gt;</span> <span class=nx>Column</span><span class=o>::</span><span class=na>TYPE_VARCHAR</span><span class=p>,</span>
<a id=__codelineno-126-32 name=__codelineno-126-32 href=#__codelineno-126-32></a>                    <span class=s1>&#39;size&#39;</span>    <span class=o>=&gt;</span> <span class=mi>100</span><span class=p>,</span>
<a id=__codelineno-126-33 name=__codelineno-126-33 href=#__codelineno-126-33></a>                    <span class=s1>&#39;notNull&#39;</span> <span class=o>=&gt;</span> <span class=k>true</span><span class=p>,</span>
<a id=__codelineno-126-34 name=__codelineno-126-34 href=#__codelineno-126-34></a>                <span class=p>]</span>
<a id=__codelineno-126-35 name=__codelineno-126-35 href=#__codelineno-126-35></a>            <span class=p>),</span>
<a id=__codelineno-126-36 name=__codelineno-126-36 href=#__codelineno-126-36></a>        <span class=p>]</span>
<a id=__codelineno-126-37 name=__codelineno-126-37 href=#__codelineno-126-37></a>    <span class=p>]</span>
<a id=__codelineno-126-38 name=__codelineno-126-38 href=#__codelineno-126-38></a><span class=p>);</span>
</code></pre></div> <p>The <code>createTable</code> method accepts an associative array describing the table. Columns are defined with the class <a href=../api/phalcon_db/#dbcolumn>Phalcon\Db\Column</a>. The table below shows the options available to define a column:</p> <table> <thead> <tr> <th>Option</th> <th>Description</th> <th style="text-align: center;">Optional</th> </tr> </thead> <tbody> <tr> <td><code>after</code></td> <td>Column must be placed after indicated column</td> <td style="text-align: center;">Yes</td> </tr> <tr> <td><code>autoIncrement</code></td> <td>Set whether this column will be auto-incremented by the database. Only one column in the table can have this attribute.</td> <td style="text-align: center;">Yes</td> </tr> <tr> <td><code>bind</code></td> <td>One of the <code>BIND_TYPE_*</code> constants telling how the column must be bound before saving it</td> <td style="text-align: center;">Yes</td> </tr> <tr> <td><code>default</code></td> <td>Default value (when used with <code>'notNull' =&gt; true</code>).</td> <td style="text-align: center;">Yes</td> </tr> <tr> <td><code>first</code></td> <td>Column must be placed at first position in the column order</td> <td style="text-align: center;">Yes</td> </tr> <tr> <td><code>notNull</code></td> <td>Column can store null values</td> <td style="text-align: center;">Yes</td> </tr> <tr> <td><code>primary</code></td> <td><code>true</code> if the column is part of the table's primary key</td> <td style="text-align: center;">Yes</td> </tr> <tr> <td><code>scale</code></td> <td><code>DECIMAL</code> or <code>NUMBER</code> columns maybe have a scale to specify how many decimals should be stored</td> <td style="text-align: center;">Yes</td> </tr> <tr> <td><code>size</code></td> <td>Some types of columns like <code>VARCHAR</code> or <code>INTEGER</code> may have a specific size</td> <td style="text-align: center;">Yes</td> </tr> <tr> <td><code>type</code></td> <td>Column type. Must be a <a href=../api/phalcon_db/#dbcolumn>Phalcon\Db\Column</a> constant (see below for a list)</td> <td style="text-align: center;">No</td> </tr> <tr> <td><code>unsigned</code></td> <td><code>INTEGER</code> columns may be <code>signed</code> or <code>unsigned</code>. This option does not apply to other types of columns</td> <td style="text-align: center;">Yes</td> </tr> </tbody> </table> <p>The following database column types are supported by the adapters:</p> <ul> <li><code>Phalcon\Db\Column::TYPE_INTEGER</code></li> <li><code>Phalcon\Db\Column::TYPE_DATE</code></li> <li><code>Phalcon\Db\Column::TYPE_VARCHAR</code></li> <li><code>Phalcon\Db\Column::TYPE_DECIMAL</code></li> <li><code>Phalcon\Db\Column::TYPE_DATETIME</code></li> <li><code>Phalcon\Db\Column::TYPE_CHAR</code></li> <li><code>Phalcon\Db\Column::TYPE_TEXT</code></li> </ul> <p>The associative array passed in <code>createTable()</code> can have the following keys:</p> <table> <thead> <tr> <th>Index</th> <th>Description</th> <th style="text-align: center;">Optional</th> </tr> </thead> <tbody> <tr> <td><code>columns</code></td> <td>An array with columns defined with <a href=../api/phalcon_db/#dbcolumn>Phalcon\Db\Column</a></td> <td style="text-align: center;">No</td> </tr> <tr> <td><code>indexes</code></td> <td>An array with indexes defined with <a href=../api/phalcon_db/#dbindex>Phalcon\Db\Index</a></td> <td style="text-align: center;">Yes</td> </tr> <tr> <td><code>references</code></td> <td>An array with references (foreign keys) defined with <a href=../api/phalcon_db/#dbreference>Phalcon\Db\Reference</a></td> <td style="text-align: center;">Yes</td> </tr> <tr> <td><code>options</code></td> <td>An array with creation options. (specific to the database system)</td> <td style="text-align: center;">Yes</td> </tr> </tbody> </table> <h3 id=alter>Alter<a class=headerlink href=#alter title="Permanent link">&para;</a></h3> <p>As your application grows, you might need to alter your database, as part of a refactoring or adding new features. Not all database systems allow you to modify existing columns or add columns between two existing ones. <a href=../api/phalcon_db/#dbcolumn>Phalcon\Db</a> is limited by these constraints.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-127-1 name=__codelineno-127-1 href=#__codelineno-127-1></a><span class=o>&lt;?</span><span class=nx>php</span>
<a id=__codelineno-127-2 name=__codelineno-127-2 href=#__codelineno-127-2></a>
<a id=__codelineno-127-3 name=__codelineno-127-3 href=#__codelineno-127-3></a><span class=k>use</span> <span class=nx>Phalcon\Db\Column</span> <span class=k>as</span> <span class=nx>Column</span><span class=p>;</span>
<a id=__codelineno-127-4 name=__codelineno-127-4 href=#__codelineno-127-4></a>
<a id=__codelineno-127-5 name=__codelineno-127-5 href=#__codelineno-127-5></a><span class=nv>$connection</span><span class=o>-&gt;</span><span class=na>addColumn</span><span class=p>(</span>
<a id=__codelineno-127-6 name=__codelineno-127-6 href=#__codelineno-127-6></a>    <span class=s1>&#39;co_invoices&#39;</span><span class=p>,</span>
<a id=__codelineno-127-7 name=__codelineno-127-7 href=#__codelineno-127-7></a>    <span class=k>null</span><span class=p>,</span>
<a id=__codelineno-127-8 name=__codelineno-127-8 href=#__codelineno-127-8></a>    <span class=k>new</span> <span class=nx>Column</span><span class=p>(</span>
<a id=__codelineno-127-9 name=__codelineno-127-9 href=#__codelineno-127-9></a>        <span class=s1>&#39;inv_status_flag&#39;</span><span class=p>,</span>
<a id=__codelineno-127-10 name=__codelineno-127-10 href=#__codelineno-127-10></a>        <span class=p>[</span>
<a id=__codelineno-127-11 name=__codelineno-127-11 href=#__codelineno-127-11></a>            <span class=s1>&#39;type&#39;</span>    <span class=o>=&gt;</span> <span class=nx>Column</span><span class=o>::</span><span class=na>TYPE_INTEGER</span><span class=p>,</span>
<a id=__codelineno-127-12 name=__codelineno-127-12 href=#__codelineno-127-12></a>            <span class=s1>&#39;size&#39;</span>    <span class=o>=&gt;</span> <span class=mi>1</span><span class=p>,</span>
<a id=__codelineno-127-13 name=__codelineno-127-13 href=#__codelineno-127-13></a>            <span class=s1>&#39;notNull&#39;</span> <span class=o>=&gt;</span> <span class=k>true</span><span class=p>,</span>
<a id=__codelineno-127-14 name=__codelineno-127-14 href=#__codelineno-127-14></a>            <span class=s1>&#39;default&#39;</span> <span class=o>=&gt;</span> <span class=mi>0</span><span class=p>,</span>
<a id=__codelineno-127-15 name=__codelineno-127-15 href=#__codelineno-127-15></a>            <span class=s1>&#39;after&#39;</span>   <span class=o>=&gt;</span> <span class=s1>&#39;inv_cst_id&#39;</span><span class=p>,</span>
<a id=__codelineno-127-16 name=__codelineno-127-16 href=#__codelineno-127-16></a>        <span class=p>]</span>
<a id=__codelineno-127-17 name=__codelineno-127-17 href=#__codelineno-127-17></a>    <span class=p>)</span>
<a id=__codelineno-127-18 name=__codelineno-127-18 href=#__codelineno-127-18></a><span class=p>);</span>
<a id=__codelineno-127-19 name=__codelineno-127-19 href=#__codelineno-127-19></a>
<a id=__codelineno-127-20 name=__codelineno-127-20 href=#__codelineno-127-20></a>
<a id=__codelineno-127-21 name=__codelineno-127-21 href=#__codelineno-127-21></a><span class=nv>$connection</span><span class=o>-&gt;</span><span class=na>modifyColumn</span><span class=p>(</span>
<a id=__codelineno-127-22 name=__codelineno-127-22 href=#__codelineno-127-22></a>    <span class=s1>&#39;co_invoices&#39;</span><span class=p>,</span>
<a id=__codelineno-127-23 name=__codelineno-127-23 href=#__codelineno-127-23></a>    <span class=k>null</span><span class=p>,</span>
<a id=__codelineno-127-24 name=__codelineno-127-24 href=#__codelineno-127-24></a>    <span class=k>new</span> <span class=nx>Column</span><span class=p>(</span>
<a id=__codelineno-127-25 name=__codelineno-127-25 href=#__codelineno-127-25></a>        <span class=s1>&#39;inv_status_flag&#39;</span><span class=p>,</span>
<a id=__codelineno-127-26 name=__codelineno-127-26 href=#__codelineno-127-26></a>        <span class=p>[</span>
<a id=__codelineno-127-27 name=__codelineno-127-27 href=#__codelineno-127-27></a>            <span class=s1>&#39;type&#39;</span>    <span class=o>=&gt;</span> <span class=nx>Column</span><span class=o>::</span><span class=na>TYPE_INTEGER</span><span class=p>,</span>
<a id=__codelineno-127-28 name=__codelineno-127-28 href=#__codelineno-127-28></a>            <span class=s1>&#39;size&#39;</span>    <span class=o>=&gt;</span> <span class=mi>2</span><span class=p>,</span>
<a id=__codelineno-127-29 name=__codelineno-127-29 href=#__codelineno-127-29></a>            <span class=s1>&#39;notNull&#39;</span> <span class=o>=&gt;</span> <span class=k>true</span><span class=p>,</span>
<a id=__codelineno-127-30 name=__codelineno-127-30 href=#__codelineno-127-30></a>        <span class=p>]</span>
<a id=__codelineno-127-31 name=__codelineno-127-31 href=#__codelineno-127-31></a>    <span class=p>)</span>
<a id=__codelineno-127-32 name=__codelineno-127-32 href=#__codelineno-127-32></a><span class=p>);</span>
<a id=__codelineno-127-33 name=__codelineno-127-33 href=#__codelineno-127-33></a>
<a id=__codelineno-127-34 name=__codelineno-127-34 href=#__codelineno-127-34></a><span class=nv>$connection</span><span class=o>-&gt;</span><span class=na>dropColumn</span><span class=p>(</span>
<a id=__codelineno-127-35 name=__codelineno-127-35 href=#__codelineno-127-35></a>    <span class=s1>&#39;co_invoices&#39;</span><span class=p>,</span>
<a id=__codelineno-127-36 name=__codelineno-127-36 href=#__codelineno-127-36></a>    <span class=k>null</span><span class=p>,</span>
<a id=__codelineno-127-37 name=__codelineno-127-37 href=#__codelineno-127-37></a>    <span class=s1>&#39;inv_status_flag&#39;</span>
<a id=__codelineno-127-38 name=__codelineno-127-38 href=#__codelineno-127-38></a><span class=p>);</span>
</code></pre></div> <h3 id=drop>Drop<a class=headerlink href=#drop title="Permanent link">&para;</a></h3> <p>To drop an existing table from the current database, use the <code>dropTable</code> method. To drop a table from a custom database, you can use the second parameter to set the database name.</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-128-1 name=__codelineno-128-1 href=#__codelineno-128-1></a><span class=o>&lt;?</span><span class=nx>php</span>
<a id=__codelineno-128-2 name=__codelineno-128-2 href=#__codelineno-128-2></a>
<a id=__codelineno-128-3 name=__codelineno-128-3 href=#__codelineno-128-3></a><span class=nv>$connection</span><span class=o>-&gt;</span><span class=na>dropTable</span><span class=p>(</span><span class=s1>&#39;co_invoices&#39;</span><span class=p>);</span>
</code></pre></div> Drop the table <code>co_invoices</code> from the active database</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-129-1 name=__codelineno-129-1 href=#__codelineno-129-1></a><span class=o>&lt;?</span><span class=nx>php</span>
<a id=__codelineno-129-2 name=__codelineno-129-2 href=#__codelineno-129-2></a>
<a id=__codelineno-129-3 name=__codelineno-129-3 href=#__codelineno-129-3></a><span class=nv>$connection</span><span class=o>-&gt;</span><span class=na>dropTable</span><span class=p>(</span><span class=s1>&#39;co_invoices&#39;</span><span class=p>,</span> <span class=s1>&#39;phalcon_db&#39;</span><span class=p>);</span>
</code></pre></div> Drop the table <code>co_invoices</code> from the database <code>phalcon_db</code></p> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg> Back to top </button> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../namespaces/ class="md-footer__link md-footer__link--prev" aria-label="Previous: Namespaces"> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </div> <div class=md-footer__title> <span class=md-footer__direction> Previous </span> <div class=md-ellipsis> Namespaces </div> </div> </a> <a href=../db-phql/ class="md-footer__link md-footer__link--next" aria-label="Next: PHQL"> <div class=md-footer__title> <span class=md-footer__direction> Next </span> <div class=md-ellipsis> PHQL </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2012 - present Phalcon Team </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://phalcon.io/discord target=_blank rel=noopener title=Discord class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 640 512"><!-- Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M524.531 69.836a1.5 1.5 0 0 0-.764-.7A485.065 485.065 0 0 0 404.081 32.03a1.816 1.816 0 0 0-1.923.91 337.461 337.461 0 0 0-14.9 30.6 447.848 447.848 0 0 0-134.426 0 309.541 309.541 0 0 0-15.135-30.6 1.89 1.89 0 0 0-1.924-.91 483.689 483.689 0 0 0-119.688 37.107 1.712 1.712 0 0 0-.788.676C39.068 183.651 18.186 294.69 28.43 404.354a2.016 2.016 0 0 0 .765 1.375 487.666 487.666 0 0 0 146.825 74.189 1.9 1.9 0 0 0 2.063-.676A348.2 348.2 0 0 0 208.12 430.4a1.86 1.86 0 0 0-1.019-2.588 321.173 321.173 0 0 1-45.868-21.853 1.885 1.885 0 0 1-.185-3.126 251.047 251.047 0 0 0 9.109-7.137 1.819 1.819 0 0 1 1.9-.256c96.229 43.917 200.41 43.917 295.5 0a1.812 1.812 0 0 1 1.924.233 234.533 234.533 0 0 0 9.132 7.16 1.884 1.884 0 0 1-.162 3.126 301.407 301.407 0 0 1-45.89 21.83 1.875 1.875 0 0 0-1 2.611 391.055 391.055 0 0 0 30.014 48.815 1.864 1.864 0 0 0 2.063.7A486.048 486.048 0 0 0 610.7 405.729a1.882 1.882 0 0 0 .765-1.352c12.264-126.783-20.532-236.912-86.934-334.541ZM222.491 337.58c-28.972 0-52.844-26.587-52.844-59.239s23.409-59.241 52.844-59.241c29.665 0 53.306 26.82 52.843 59.239 0 32.654-23.41 59.241-52.843 59.241Zm195.38 0c-28.971 0-52.843-26.587-52.843-59.239s23.409-59.241 52.843-59.241c29.667 0 53.307 26.82 52.844 59.239 0 32.654-23.177 59.241-52.844 59.241Z"/></svg> </a> <a href=https://phalcon.io/discussions target=_blank rel=noopener title="GitHub Discussions" class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9 22a1 1 0 0 1-1-1v-3H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-6.1l-3.7 3.71c-.2.19-.45.29-.7.29H9Z"/></svg> </a> <a href=https://phalcon.io/github target=_blank rel=noopener title="GitHub Project" class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </a> <a href=https://phalcon.io/telegram target=_blank rel=noopener title=Telegram class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M248 8C111.033 8 0 119.033 0 256s111.033 248 248 248 248-111.033 248-248S384.967 8 248 8Zm114.952 168.66c-3.732 39.215-19.881 134.378-28.1 178.3-3.476 18.584-10.322 24.816-16.948 25.425-14.4 1.326-25.338-9.517-39.287-18.661-21.827-14.308-34.158-23.215-55.346-37.177-24.485-16.135-8.612-25 5.342-39.5 3.652-3.793 67.107-61.51 68.335-66.746.153-.655.3-3.1-1.154-4.384s-3.59-.849-5.135-.5q-3.283.746-104.608 69.142-14.845 10.194-26.894 9.934c-8.855-.191-25.888-5.006-38.551-9.123-15.531-5.048-27.875-7.717-26.8-16.291q.84-6.7 18.45-13.7 108.446-47.248 144.628-62.3c68.872-28.647 83.183-33.623 92.511-33.789 2.052-.034 6.639.474 9.61 2.885a10.452 10.452 0 0 1 3.53 6.716 43.765 43.765 0 0 1 .417 9.769Z"/></svg> </a> <a href=https://phalcon.io/gab target=_blank rel=noopener title=Gab class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 576 512"><!-- Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M368 32c41.7 0 75.9 31.8 79.7 72.5l85.6 26.3c25.4 7.8 42.8 31.3 42.8 57.9 0 21.8-11.7 41.9-30.7 52.7l-144.6 82.1 92.5 92.5H544c17.7 0 32 14.3 32 32s-14.3 32-32 32h-64c-8.5 0-16.6-3.4-22.6-9.4L346.9 360.2c11.7-36 3.2-77.1-25.4-105.7-40.6-40.6-106.3-40.6-146.9-.1l-73.6 70c-6.4 6.1-6.7 16.2-.6 22.6s16.2 6.6 22.6.6l73.8-70.2.1-.1.1-.1c3.5-3.5 7.3-6.6 11.3-9.2 27.9-18.5 65.9-15.4 90.5 9.2 24.7 24.7 27.7 62.9 9 90.9-2.6 3.8-5.6 7.5-9 10.9l-37 37H352c17.7 0 32 14.3 32 32s-14.3 32-32 32H64c-35.3 0-64-28.7-64-64C0 249.6 127 112.9 289.3 97.5 296.2 60.2 328.8 32 368 32zm0 104a24 24 0 1 0 0-48 24 24 0 1 0 0 48z"/></svg> </a> <a href=https://phalcon.io/t target=_blank rel=noopener title=Twitter class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8l164.9-188.5L26.8 48h145.6l100.5 132.9L389.2 48zm-24.8 373.8h39.1L151.1 88h-42l255.3 333.8z"/></svg> </a> <a href=https://phalcon.io/fb target=_blank rel=noopener title=Facebook class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M512 256C512 114.6 397.4 0 256 0S0 114.6 0 256c0 120 82.7 220.8 194.2 248.5V334.2h-52.8V256h52.8v-33.7c0-87.1 39.4-127.5 125-127.5 16.2 0 44.2 3.2 55.7 6.4V172c-6-.6-16.5-1-29.6-1-42 0-58.2 15.9-58.2 57.2V256h83.6l-14.4 78.2H287v175.9C413.8 494.8 512 386.9 512 256z"/></svg> </a> <a href=https://phalcon.io/linkedin target=_blank rel=noopener title=LinkedIn class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg> </a> <a href=https://phalcon.io/youtube target=_blank rel=noopener title=LinkedIn class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 576 512"><!-- Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <div class=md-progress data-md-component=progress role=progressbar></div> <script id=__config type=application/json>{"base": "..", "features": ["announce.dismiss", "content.action.edit", "content.action.view", "content.code.annotate", "content.code.copy", "content.code.select", "content.tooltips", "navigation.footer", "navigation.indexes", "navigation.instant", "navigation.instant.progress", "navigation.sections", "navigation.tabs", "navigation.tabs.sticky", "navigation.top", "navigation.tracking", "search.highlight", "search.share", "search.suggest", "toc.follow"], "search": "../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"default": "5.4.0", "provider": "mike"}}</script> <script src=../assets/javascripts/bundle.ad660dcc.min.js></script> </body> </html>